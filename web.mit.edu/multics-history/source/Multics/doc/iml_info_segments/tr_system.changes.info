02/25/91: Changes to Multics Trouble Reporting System

02/25/91: Version 11.6
1) Changed tr_dev_table_.cds to restructure the management/development
   tree assigning reports to responsible members.  Also updated goal
   dates and the default release ID (eg. MR12.5).
   

06/09/89: Version 11.5
1) Changed tr_dev_table_.cds to restructure the management/development
   tree assigning reports to responsible members.  Also updated goal
   dates and the default release ID (eg. MR12.3).
   

01/30/89: Version 11.4
1) Changed the tr_data_$(list_of_releases release_validation_list) arrays
   to include the MR12.2 release.  Changed the tr_dev_table_$goals array
   to consist of the MR12.3 & MR12.4 releases instead of MR12.2 & MR12.3
   now that MR12.2 is shipped.


07/02/88: Version 11.3
1) Modified process_trouble_report to avoid mailing high/critical TR to
   administrators who have requested all such TRs, if the TR is being
   written with -no_mail option.


07/01/88: Version 11.2
1) Changed tr_data_$backup_volumes_size to be a structure with separate
   sizes for the input and output volume sets.
2) Changed tr_file_backup and tr_file_retrieve to use the structure
   elements.


06/30/88: Version 11.1
1) Added the new operation "list_tr_topic" to the
   process_trouble_report (ptr) subsystem.  Includes Help files. 


06/27/88: Version 11.0
1) Added a new version of edit_error_list.  The new version includes
   the new operation "list_tr_topic".  Includes Help files.
2) Installed the who-gets-what list in >am as the tr_topic_catalog.
3) Install list_tr_topic in >am as a standalone tool.  Includes help
   files.

  
06/24/88: Version 10.9
1) Changed process_trouble_report modify request to continue when TR is
   not found in TR DB or TR archives, rather than aborting.


06/10/88: Version 10.8
 1) Changed edit_error_list_.pl1 to not call the internal procedure
    "double_check_the_free_entry" when invoked as display_error_list
    (del).  This was causing access errors trying to resolve the next
    free (empty) entry in an error list.


03/15/88: Version 10.7
 1) Changes tr_dev_table_ and tr_management_report to store and use
    trmr control arguments and eor control arguments.  These changes
    were done to simplify the maintenance of the tr reporting process.
    The entry trmr$run_tr_dev_table replaces portions of the trmr.ec
    program.  The trmr.ec has been reduced to a setup and history
    report editing routine.  Now, to change trmr report control args or
    eor args for a report only the tr_dev_table_ need be modified.


02/29/88: Version 10.6
 1) Changes tape_mult_rec_ to rewrite a record if an error code of
    error_table_$device_end is returned by tape_mult_.  Such records
    used to get written onto the tape, but tape_mult_ has since changed 
    and no longer writes them.  This change will avoid loss of records
    from the end of every TR journal tape.


02/23/88: Version 10.5
 1) Changed ptr write to continue processing a TR, even if mailing
    fails because a registration is not found for one of the people in
    the distribution list.
 2) Changed the modify request to allow added_info to be given with the
    modification.


02/22/88: Version 10.4
 1) Corrected minor problem in process_trouble_report modify request.


02/17/88: Version 10.3
 Changes to edit_error_list_.pl1:	
   1) Add the double_check_the_free_entry internal procedure to double
      check that the free (no data) error list entry is always the last
      entry plus one.  The enter request gets error when it enters the
      newly created entry (done by the add request) in the specified
      error list such as the vfile_.error_list.
   2) Make the delete request delete the current entry or a specified
      entry.  
   3) Make the "." request display the last entry as the last entry.
 Changes to eel.change.info:
   Revised the "-field_name" control argument definition.


09/22/87: Version 10.2
 1) The ptr command is now an ssu_ subsystem.
 2) Added the -quit control argument to epr/es/eq/attr/atr/altr and
    tr_query.


09/07/87: Version 10.1
 1) Adds the del/eel . request back into the eel_request_table_.


09/06/87: Version 10.0
Made the following major changes to epr/es/eq/altr/atr/attr commands.
 1) epr, es, eq, attr, atr and altr commands are now ssu_ subsystems.
    That means the following standard ssu_ requests are now available:
      abbrev
      answer
      do
      execute_string, exs
      if
      list_requests
      subsystem_name
      subsystem_version
      substitute_arguments, substitute_args, sbag


 2) Standard ssu_ control arguments were added to
    epr/es/eq/altr/atr/attr commands:
      -abbrev	-profile
      -no_abbrev	-prompt
      -no_prompt
 3) New TR and editing requests were added to epr/es/eq/altr/atr/attr
    commands: 
      apply	qedx
      display_tr	teco
      emacs	ted


 4) When using ..  to escape a command line while answering a multiline
    question, upon completion of the command, the question is described
    and the user is given new options for continuing.  He can print
    the answer typed so far, continue that answer, type in a
    replacement answer, or stop answering questions and return to the
    request loop.
 5) If the user QUITs while answering a multiline question and then
    issues a program_interrupt (pi) command, then the parts of the
    answer given on lines prior to hitting the QUIT key are validated
    and retained.  In prior versions, these partial answers were
    discarded. 


 6) While answering questions, you can end any answer line with \f to
    edit the answer.  The editor given in your TR registration is
    invoked to edit just that answer.  After editing is complete,
    prompting for other information continues.
 7) While answering questions, you can end any answer line with \q or
    \fq to complete the answer and stop further questioning.  The
    answer is validated, then control returns to the request loop where
    you may type further requests.


Changed del/eel as follows:
1) The exec_com request is now supported.  Exec_com segments should
   have a suffix of delec or eelec.  The exec_com search list is used
   to find the exec_com segments.
2) Standard ssu_ requests are found by using 
   ssu_request_tables_$standard_requests.  This means that the
   following standard ssu_ requests are now available in tr_query:
     execute_string, exs
     substitute_arguments, substitute_args, sbag
3) A display_tr requests has been added to display TRs associated with
   the current error list entry, or any given TRs.  For details, type:
      help dtr


Changed tr_query as follows:
1) The exec_com request is now supported.  Exec_com segments should
   have a suffix of trqec.  The exec_com search list is used to find
   the exec_com segments.
2) Standard ssu_ requests are found by using 
   ssu_request_tables_$standard_requests.  This means that the
   following standard ssu_ requests are now available in tr_query:
     execute_string, exs
     substitute_arguments, substitute_args, sbag


08/30/87: Version 9.01
1) Fix minor bug in eel.


08/21/87: Version 9.00 addendum
1) Adds tr.modify.info, describing how developers can write a listin
   file to specify changes to many TRs at one time.


08/20/87: Version 9.00
1) Adds the ptr modify request.


08/10/87: Version 8.03
1) Corrected a problem in eel which prevented it from using
   user-specified atr args.


12/02/86: Version 8.02
1) Modified del/eel print and set_output -format NAME control arg to
   look for ERROR_LIST.NAME.listform, then for NAME.listform.


11/06/86: Version 8.01
1) Added tr_validate_$get_existing_report_number to check that a given
   TR number is within bounds of TR numbers in the TR database or TR
   mailbox. 


09/10/86: Version 8.00
1) Changes query_ to describe the most common forms of ending TR fields
   in more familiar English phrases, rather than in BNF notation.
2) Adds a -verbose argument to epr/es/eq/attr/atr/altr which describes
   each question in detail automatically as it is prompted for.
3) Major version number changed from 7 to 8 because a 4-char version
   field cannot hold version 7.100.


07/25/86: Version 7.99
1) Changes tr_format_ to call find_char_$translate_first_in_table
   rather than tct_$translate.  tct_ was replaced by find_char_.


07/01/86: Version 7.98
1) Change tr_queue_ and tr_registration_ to support version 4 mail
   messages (mail_format.incl.pl1) stored in a mailbox.


05/02/86: Version 7.97
1) Changes tape_mult_rec_ to treat error_table_$data_loss as a
   recoverable error. 


11/15/85: Version 7.96
1) Changes tr_query to do a reset_more between TRs when printing
   several TRs.


11/01/85: Version 7.95
1) Corrects problems in scan_tr.
2) Allows the tr_number command/af to find TR numbers in mail reply
   headers.


09/18/85: Version 7.94
1) Installs the rewritten version of tr_management_report and deletes
   the report_tr_stat command.
2) Installs modified tr_dev_table_, tr_dev_table_.incl.pl1 and 
   display_tr_dev_table.


07/30/85: Version 7.93
1) Fixes minor problem in tr_validate_ error message.


07/29/85: Version 7.92
1) Fixed minor problem in tr_query error message, and in selecting
   history fields for output.


07/28/85: Version 7.91
1) Modified tr_queue_ to force-write backup copies of TR transactions
   to increase likelihood that they will still exist following an ESD
   failure.
2) Modified tr_file_ to force-write backup copies of TRs as they are
   modified for the same reason.


05/31/85: Version 7.90:
1) Corrects bugs in scan_tr installed in version 7.89.


05/29/85: Version 7.89:
1) Corrects bugs in scan_tr installed in version 7.88.


05/22/85: Version 7.88
1) Adds -updated_after DATE, -updated_transactions and -state TR
   selection arguments to scan_tr (display_tr).


03/19/85: Version 7.87
1) Corrects a minor problem in ? information in ptr_request_table_.alm.


02/17/85: Version 7.86
1) Corrects a minor bug in moving names in the Routed To field of a TR
   during rerouting.  This eliminates duplicate names appearing in the
   To field.


02/06/85: Version 7.85
1) Corrects a bug in atr introduced with the deferred TR state which
   caused atr to prompt for the priority of the TR when -type control
   arg was given, and the TR only resided in the TR new_reports.mbx.


01/23/85: Version 7.84
1) Changes tr_file_reload_ to delete a TR from TR DB if asked to reload
   a journal copy of the TR which has its delete flag on.


12/17/84: Version 7.83
1) Corrects a minor nit in implementation of error list entries
   required for deferred TRs.


12/04/84: Version 7.82
1) Changes tr_site_data_ to require that an error list entry is given
   when the deferred TR state is used.


11/27/84: Version 7.81
1) Changes tr_queue_ to correct a return_conversion_error problem.


11/12/84: Version 7.80
1) Changes tr_file_backup and tr_file_retrieve to use the installed
   manage_volume_pool command instead of the special tr_mvp command.


11/05/84: Version 7.79
1) Implementes the new TR state for normal priority problems, called deferred
   in edit_error_list.


10/25/85: Version 7.78
1) Implements a new TR state for normal priority problems, called
   deferred.  The deferred state marks a TR as being resolved because
   it has minimal impact on the user community and there are no
   resources available to fix the problem.
2) Adds the -priority (-prty) control argument to the
   answer_trouble_report (atr) and answer_linked_trs (altr) commands,
   which allows setting the TR priority using a control argument.


10/22/84: Version 7.77
1) Changes tr_management_report to correct a few minor problems and to
   make it usable in generating temporary TR management report.


09/19/84: Version 7.76
1) Changes edit_error_list to set the dont_break_indented_lines_sw for
format_document_.


08/13/84: Version 7.75
1) Change tr_record_check_ to allow site names which contain a / in
   their name.
2) Removes the tr_date_deleter command.  The date_deleter now deletes
   directories and can be used in its place.


05/20/84: Version 7.74
1) Fix an error so references to error_list_number and error_list_info
fields will not fault. 
2) Change list_field_values message to delete reference to non-null
strings as null strings are acceptable. 
3) Correct error to fix string searching on key fields (phx16861). 
4) Provide capability of selecting on null field values for all forms
of selection expressions (phx15827). 


05/02/84: Version 7.73
1) Changes tr_management_report to properly report pending TRs in its
   statistics.


03/29/84: Version 7.72
1) Changes tr_data_ to allow proper checking of deleted TRs without
   incorrect error messages being printed.


03/27/84: Version 7.71
1) Makes it possible to reload deleted TRs without having to patch the
   journal copy of the TR before reloading.


03/25/84: Verison 7.70
1) Corrects a bug in deletion of TRs from TR DB which left place-holder
   "fake" TR keys in the TR DB for TRs BELOW the lower_tr key.


03/21/84: Version 7.69
1) Moves the segment holding the number for the next TR into ring 3,
   where it will be protected from accidental damage by users.  Code to
   do this was provided by Steve Harris at UC.


03/09/84: Version 7.68
1) Modified tr_file_ to properly adjust the low-key boundary when TRs
   are deleted.


03/01/84: Version 7.67
1) Modified scan_tr to add the -all control argument, to display the
proper entry point on error messages, to put any error list info on last line
of output.


01/24/84: Version 7.66
1) Updates edit_error_list to use version 2 format_document_options 
   structure to correct problems with an unfortunate change to the 
   structure.


01/20/84: Version 7.65
1) Corrects a problem in atr/altr which prevented transactions for
   linked TRs from being submitted.  The problem was introduced when
   tr_report_ was upgraded to properly format mail headers in submitted
   TRs.  The problem has only been around since Friday, January 13, in
   case developers are concerned about linked TRs they attempted to
   answer. 


01/19/84: Version 7.64
1) Adds short name en for enter request of epr/es/eq/attr/atr/altr.


01/17/84: Version 7.63
1) Makes enter a synonyn for the epr/es/eq/attr/atr/altr send request.


01/13/84: Version 7.62
1) Changes tr_report_ to store incoming TRs in the new_reports.mbx with
   proper mail headers so read_mail will be able to list the headers.


12/21/83: Version 7.61
1) Fixes minor problem in tr_edit_.


12/08/83: Version 7.60
1) Changed epr/es/eq/attr/atr/altr send request to invoke send_mail
   with the -no_abort control argument, to give the user a chance to
   recover from a mistyped mailing address.


12/22/83: Version 7.59
1) Changed scan_tr to print TR number after text of TR, as well as
   before it.


11/21/83: Version 7.58
1) Changed tr_management_report program to allow full selection of TRs
   in the summary by type and, for problems, by priority.  A similar
   change was made for tr_developer_summary.


11/05/83: Version 7.57
1) Changes the report_tr_stat program to better diagnose damaged keys
   in the TR DB which can cause conversion conditions during statistics
   gathering.  Also, change it to delete subsets during statistics
   gathering to help avoid process directory quota overflows.


10/29/83: Version 7.56
1) Changes process_trouble_report's copy_test_case request to:
   - use copy_ to copy inner-ring objects
   - properly set ACLs when copying a directory
   - properly copy and set ACLs on MSFs
   - detect when UIDs on TR test case directories different from the
     UID values stored in tr_data_.


10/28/83:  Version 7.55
1) Changes edit_error_list to handle error lists longer than 64K words.


08/31/83:  Version 7.54
1) Changes tr_report_ to avoid breaking the area field into a
   multi-line field.  Since it is a single-line field, such breaking
   causes field to be rejected during subsequent parsing of text form
   of the transaction.


07/20/83: Version 7.53
1) Fixes a few bugs in scan_tr, most noteably, the one that selects teh entire
database when using -fm  and -to.


06/09/83: Version 7.52
1) Changes the canned messages for the needs_info state to simply ask
the user to supply more information.


06/01/83: Version 7.51
1) Fixed error in the way ptr handles critical priority TRs.


05/24/83: Version 7.50
1) Changes ptr's reroute request to allow FYI recipients to be
   specified as part of the rerouting.


05/23/83: Version 7.49
1) Corrects minor problem in short name for the limitation state.  It
   was l but was documented to be li.  Now both are accepted.


05/04/83: Version 7.48
1) Fixes a bug in ptr's Emacs trmode which prevented the TR-fill-text
   request (^Z^F) from operating on the text of TR Split By
   transactions.


04/21/83: Version 7.47
1) Changes the canned message associated with the not_error state from:
    Your report does not describe a Multics problem.
   to
    Your report does not describe a Multics error.


04/06/83: Version 7.46
1) Removes mlr_ and mrl_ from the TR System.  These subroutines are now
   part of hardcore.


03/01/83: Version 7.45
1) Changes list_error_lists command and request to eliminate duplicates 
   unless -absp | -lg were specified.
2) Changes del to NOT enter the request loop when the error list is not found
   and -rql was not specified.


02/01/83: Version 7.44
1) Changes tape_mult_rec_ to correct an obscure error in writing tape
   records.


01/13/83: Version 7.43
1) Changes tape_mult_rec_ to use -sys in its attach description.


01/12/83: Version 7.42
1) Changes ptr to use -brief when dprinting TRs for people.


01/11/83:  Version 7.41
1) Changes edit_error_list to not submit a TR for status changes 
   from dev to exl, unless either the type, tr number(s) has changed 
   or added info is present.
2) Makes the exec_com request both a request and an active request.


11/15/82:  Version 7.40
1) Installs the split request in process_trouble_report, to split a TR
   into two parts.


10/22/82: Version 7.39
1) Changes TR Systems mlr_ subroutine to not inhibit interrupts during
   moves.  This causes lockup faults.


10/14/82: Version 7.38
1) Changes epr/es/eq/attr/atr/altr to not enter the send_mail request
   loop by default when arguments are given to the send request.


09/22/82: Version 7.37
THIS VERSION OF THE TR SYSTEM WAS SHIPPED AS AN RPQ.
1) Implements the -status control argument to the add and change requests.
2) Uses the original error list name first when looking for listforms.


09/09/82: Version 7.36
1) Changes edit_error_list identify request to show if abbrev processing is
   enabled.
2) Adds the edit_error_list/display_error_list file_output request.


09/06/82: Version 7.35
1) Changes TR System to use cu_$evaluate_active_string rather than
   cu_$af.

09/02/82: Version 7.34
1) Changes the edit_error_list set_output request to accept a -default control
   argument to allow the current listform to be reset to the default listform.
2) Adds "not_error" as a valid edit_error_list status value.


08/30/82: Version 7.33
1) Fixes several tr_query info seg errors (phx13487 phx13339).

08/19/82: Version 7.33
1) Fixes a bug in edit_error_list conversion from version 0 to version 1 in
   which the line length for filling was not set.
2) Fixes a bug in version 1 eel in which the print_added_info request always
   said that there was no added info.

08/15/82: Version 7.32
1) Corrects typos in prompt information for tr_log_ query.
2) Version 1 edit_error_list installed. See
	 >doc>iis>error_lists>Version_1_eel.manual for details

07/26/82: Version 7.31
1) Corrects tr_record_check_ to allow person_ids containing minus chars.


07/19/82: Version 7.30
1) Correct edit_error_list (Version 0) to not choke when given "added_info"
for entries without associated TR's.


07/09/82: Version 7.29
1) Corrects several argument processing errors in scan_tr/display_tr.


06/22/82: Version 7.28
1) Adds searching by date-TR-entered (via -from DATE or -to DATE) to
   scan_tr.
2) Fixes an error in tr_validate_ that allowed TR numbers to include a
   space character.


06/15/82: Version 7.27
1) Corrected trq query message when selecting.
2) Corrected output formatting error reported in phx12942.

06/04/82: Version 7.26
1) Adds new control arguments to report_tr_stat command.


05/14/82: Version 7.25
1) Fix error in a common selection construct - phx13039.


03/25/82: Version 7.24
1) Add two new fields ar_sm and ar_sm_tx.
2) Fix error msg bug - phx12725, trq 20


03/20/82: Version 7.23
1) Install tr_query which uses ssu_.


02/24/82: Version 7.22
1) Changes ptr to optionally route critical and high priority problems
   to one or more TR Administrators to insure that these TRs are
   properly prioritized and receive adequate attention.  This routing
   is in addition to the normal routing to the developer/investigator.


02/22/82: Version 7.21
1) Changes tr_edit_ to use the new -pathname control_arg when invoking
   qedx.


02/15/82: Version 7.20
1) Corrects problems in forcing access to a directory of test cases.


01/26/82: Version 7.19
1) Merges interal (LISD-defined) and external (Marketing-defined)
   Multics release numbers into a single list.


01/21/82: Version 7.18
1) Adds consistency checks between TR record backup tape, and the
   tape's table-of-contents file.


01/15/82: Version 7.17
1) Changes ptr to extract old TRs from the archives without using the
   (now deleted) display_tr1 code.


01/13/82: Version 7.16
1) Changes process_trouble_report to copy names when it copies test
   cases.


01/05/82: Version 7.15
1) Deletes display_tr1 and its support subroutines.
2) Modifies display_tr2.ec to warn users of its impending deletion
   (January 11, 1981).  tr_query replaces its functionality.
3) Corrected tr_query to a) not fault on recursive invocations of trq
   using a profile (phx12200) and b) not get a storage condition when
   specifying null selections (phx12098).


12/16/81: Version 7.14
1) Changes atr to require a nonnull answer to the priority question
   when the type of a report is changing to a problem.


12/14/81: Version 7.13
1) Changes del/eelto use ssu_$set_info_prefix so the "correct" info segs are
   found.
2) Changes scan_tr to accept a -text control argument and adds the name dtr
   display_tr.
3) Fix bug in trq to output the correct formfeed character when one TR is 
   output. (phx11862)
4) Added trq info seg for print_selection_expression (pse) request.


12/12/81: Version 7.12
1) Change tr_query to use ssu_$set_info_prefix so only trq info segs
   are found.
2) Corrected storage condition error (phx12098).
3) On the command line, -rq and tr numbers and -rq and -if combinations
   are acceptable, ie.  trq 12345 -rq "print;quit" works.
4) A pse request shows the last typed in selection expression. However,
   after a "trq -prev", the pse request shows the selection expression
   associated with the previous subset.


12/07/81: Version 7.11
1) Changes dtr1 to announce its impending deletion on 1/4/82.


12/04/81: Version 7.10
1) Changes dtr1 -if (to find a tr number in a segment) to be useful with
   eel-style error list entries.
2) Changes ptr reroute request to allow rerouting without mailing the
   newly-rerouted TR.


11/23/81: Version 7.9
1) Changes del/eel to use the "new" method of determining appropriate info
   segs for the list_help request.


11/14/81: Version 7.8
1) Changes tr_file_ to avoid locking TR DB during updates of record
   elapsed times.


11/12/81: Version 7.7
1) Corrects a null pointer fault in trq.
2) Document -field_name in the print request info seg.
3) The format type "transaction" used with -format is now implemented.
4) Consolidated output info segs so they all reference the info segs
   format_names and tr_fields.
5) Fixed "select -save path" so it works again.
6) Implement suggestion to output the entry number at the end of each
   TR printed.


10/20/81: Version 7.6
1) Corrects a null pointer fault and a bad do loop control in
   tr_file_backup_.
2) The performance of tr_query select has been improved to take less
   cpu time and page faults.
   a) Specifiers work correctly now.
   b) Corrects the error of extra newlines in the list request output.
   c) Implement -force for the select request.


10/09/81:  Version 7.5
1) Corrects storage condition  in tr_file_retrieve command.

10/09/81: Version 7.4
1) Changes scan_tr to accept more than TR number when listing specific
   TRs.


10/05/81: Version 7.3
1) Added to tr_query the set_editor, tr_edit, edit and preface 
   requests.


09/30/81: Version 7.2
1) Last planned bug fix to version 0 eel, fixes:
   a) propensity of eel to "throw away" null arguments in the change
      request.
   b) documents the control arguments eel gives the atr command in 
      san.info.
   c) shortens many error messages.
   d) fixes the atr request to not allow it to attempt to submit a TR
      transaction if the current entry is "unentered".
2) Added the -add_ai control argument to all requests that currently
   take the -added_info control argument to allow eel to prompt for 
   the added info.
3) Added the -added_info control argument to the apply and all the
   editor requests to allow apply(ing) and editing of the current
   added info.
4) Added the print_added_info request (eel only) to print the current
   added info.


09/28/81: Version 7.1
1) Fix a bug that caused trq to blow up when a nonexistent profile 
   segment was specified.
2) The trq "." request now puts out the correct version number.
3) In trq, the brief format consists only of the TR number, state, type,
   stage, area and summary. The new format header (short name he)
   prints what brief used to print.
4) Changes scan_tr to print error_list info when -long is given.


09/24/81: Version 7.0
1) Install first version of tr_query. Type help trq for more 
   information.


09/15/81: Version 6.26
1) Updates scan_tr to print a better error message when a selected TR
   is not in the TR DB.
2) Changes atr to ask for error list info less frequently than before.
   However, it can still be supplied via the -eli control argument of
   atr, or via an "add eli" request.


09/11/81: Version 6.25
1) Updates tr_util_ to provide support functions for tr_query.


09/09/81: Version 6.24
1) Installs the del/eel "info" request/active request to return information
   about an error list.


09/02/81: Version 6.23
1) Added the names "en" and "write" to the eel "enter" request.
2) Fixed a bug introduced in Version 6.18 that prevented certain operations
   from occurring when the error list was locked by the process requesting 
   the actions.


09/02/81: Version 6.22
1) Added -working_dir to the default error_list search list.


09/01/81: Version 6.21
1) Corrects list_error_lists.info to mention that the "matching" on -match
   STR is case insensitive.
2) Corrects a problem in list_error_lists that returned incorrect results
   matching under certain circumstances.


08/30/81: Version 6.20
1) Provides tr_reg_util_$get_editor_given_person_id entry point for
   tr_query.


08/28/81: Version 6.19
1) Corrects a bug in eel/del handling various formats of the numb field.
2) eel/del now terminate the .ctl_seg upon exit.


08/25/81: Version 6.18
1) Provides further TR formatting support for tr_query command.
2) Corrects a problem in edit_error_list locking strategy (it works now).
3) Corrects a problem in ptr_cptc_request_ that caused the TR to be
   mis-formatted in certain instances.


08/24/81: Version 6.17
1) Implements the -tr control argument to (display edit)_error_list. This
   facilitates the use of the apply request to read_mail to find entries in
   the error list with a given TR number in a piece of mail. Type help
   (display edit)_error_list for more information.


08/20/81: Version 6.16
1) Corrects a problem in list_error_lists whereby the added names where not
   considered when using -match.
2) Corrects a problem in ptr_cptc_request_ that failed to delete "already
   copied" test paths when they were moved to a new test case directory.


08/19/81: Version 6.15
1) Implements the list_error_lists command/af. Type help list_error_lists for
   imore info.


08/18/81: Version 6.14
1) Updates scan_tr to print a usage message when invoked with no
   arguments.
2) Makes tr_number command/af recognize TR numbers in Linked TR
   transaction in the new_reports.mbx.
3) Corrects a problem in attr/atr which caused it to get an incorrect
   type for TRs >= 10000 which were not yet in the TR DB.


08/13/81: Version 6.13
1) Changes eel and del to:
   a) make the "last" entry in the error list the current entry upon entry.
   b) use <error_list_name>.listform the first "default" listform, and
      long.listform next.
   c) implement the same short names for "type" as the TR System, with the
      addition of the previously allowed "limitation" with the short name "li".
   d) fix the select active request to return the string "false" when no
      entries are selected.


08/11/81: Version 6.12
1) Changes scan_tr to add the -first and -query control args.  For
   details, type:
      help scan_tr -ca first query
2) Corrects several bugs in ptr and formatting of TR Input Queue.


08/08/81: Version 6.11
1) Changes the interpretation of atr -linked_tr.  For details, type:
      help atr.changes
   Creates a special linked_tr transaction which is a shortened
   version of the answer transaction.
2) Installs a new answer_linked_trs command.
3) Changes the order of processing trouble reports by ptr command.  The
   new order is:
    problem.critical.added_info.date_time
    problem.critical.answer.date_time
    problem.critical.new_report.date_time
    problem.critical.linking_tr.date_time
    problem.high.added_info.date_time
    problem.high.answer.date_time
    problem.high.new_report.date_time
    problem.high.linking_tr.date_time
    problem.normal.added_info.date_time
    problem.normal.answer.date_time
    problem.normal.new_report.date_time
    problem.normal.linking_tr.date_time
    question..added_info.date_time
    question..answer.date_time
    question..new_report.date_time
    question..linking_tr.date_time
    suggestion..added_info.date_time
    suggestion..answer.date_time
    suggestion..new_report.date_time
    suggestion..linking_tr.date_time
    unknown_report..added_info.date_time
    unknown_report..answer.date_time
    unknown_report..linking_tr.date_time
4) Changes the summary of new transactions generated daily (posted by
   Tom Casey) to include the area/summary of the original report for
   added_info and answer transactions.


08/07/81: Version 6.10
1) Corrects scan_tr bug in referencing TRs beyond last defined TR.
2) Corrects bug in compaction of TR DB journal record tape files.
3) Adds support in ptr's Emacs trmode to add error list numbers to a
   TR. 


08/03/81: Version 6.09
1) Creates a new assq_list command/af which prints/returns the first
   element of each assq_pair in the input list.


07/31/81: Version 6.08
1) Fixes several problems found in scan_tr.  In particular, searching for
   -match strings is now insensitive to letter case.
2) Installs several new TR formatting entrypoints for use by tr_query.


07/27/81: Version 6.07
1) Adds a new command to facilitate string searches on area/summary fields in
   the TR DB.  The command is called scan_tr.  For details, type:
       help sctr


07/23/81: Version 6.06
1) Changes ptr to better handle obsolete states when converting archived TRs
   for loading into TR DB.
2) Changes atr to canonicalize the format of error list numbers by suppressing
   leading zeros.


07/21/81: Version 6.05
1) Implements the add_tr request in edit_error_list.
2) Deletes the previous (p), next (n), last (l) and first(f) requests (they
   may still be used as specifiers).
3) Adds the short name "p" to the print request and fixes a bug in the print
   active request.


07/15/81: Version 6.04
1) Implements the edit_error_list and display_error_list print active
   request.
2) Corrects a minor bug in the edit_error_list atr request that
   refused to accept a second instance of the "-ai" control argument.
3) Removes certain internal restrictions on the format of the entry
   number in edit_error_list and display_error_list.


07/10/81: Version 6.03
1) Implements the ability to give more than one entry number to the
   edit_error_list and display_error_list print request (ranges eg.
   1:3, however, are not supported by this change).
2) Implements the "proper" use of search paths in edit_error_list.


07/08/81: Version 6.02
1) Installs routines to normalize TR record field values, for use in tr_query
   command.


07/06/81: Version 6.01
1) Corrects bug in header line for statistics in tr_management_report.


07/02/81: Version 6.00
1) Installs 2 new commands to aid developers in tracking TRs assigned to them.
   The commands are:  tr_management_report (trmr)
		  tr_developer_summary (trds)
   Refer to info segments for these commands for usage details.


07/01/81: Version 5.05
1) Corrects bug in trimming of TR DB journal records.
2) Corrects a bug in edit_error_list's ordering of entries.
3) Corrects a bug in edit_error_list that neglected to submit TR's for 
   TR identifiers added to an entry.


06/22/81: Version 5.04
1) Corrects bug in dtr2.ec selecting by TR number ranges.


06/16/81: Version 5.03
1) Improves selection capabilities of tr_file_retrieve journalization command.
2) Prevents ptr from looking in TR archives for TRs > 10000 when such TRs are
   not found in TR DB.
3) Corrects a problem preventing tape_mult_rec_ from reading past tape errors.
4) Corrects a problem in tr_file_backup_ retrieval of selected TR DB records
   when a tape error occurs.


06/10/01: Version 5.02
1) Changes epr editor invocation to not print "Using tr_edit".  Allow qx as
   short name for qedx.


06/02/81: Version 5.01
1) Changes eel and del to check for existence of the error list and do the
   correct thing depending upon which command is invoked.  For example, If the
   command is eel and the error list doesn't exist, there is no error.
   However if the command is del and the list doesn't exist, then it is an
   error.
2) Fixes bug in atr error message diagnosing a bad operand for -type.
3) Changes tr_file_ to set min_block_size for each record modification, not
   just for those growing beyond a page boundary.
4) Adds a brief (fast) checking facility to TR DB consistency checker.


05/26/81: Version 5.00
1) Installed bound_eel_ (edit_error_list, eel, display_error_list, del) in >am
   for exposure.

05/24/81: Version 4.61
1) Corrects an error in tr_file_backup_ retrieval routines.
2) Changes tr_file_ store/modify primitives to automatically delete a record
   when its exception  field has the dl indicator.


05/15/81: Version 4.60
1) Changes tr_report_ to report the previous type/priority in a transaction
   when the developer changes the type/priority in his answer.


05/15/81: Version 4.59
1) Changes tr_file_ (TR DB primitive) to handle case of selecting only fake TR
   records (ie, place-holder keys for TRs that are not in TR DB).


05/08/81: Version 4.58
1) Changes atr to require a short name of en for the entered state.  The
   previous short name of e was being confused with the short name of er for
   the error state.


05/06/81: Version 4.57
1) Changes atr to allow multiple occurrences of -brief and -long control args,
   the last one taking precedence.


05/04/81: Version 4.56
1) Changes atr to allow error list information to be given for suggestions
   having a state of investigating.


05/04/81: Version 4.55
1) Makes tr_admin print tables of allowed field values for various fields in a
   TR record.
2) Corrects a problem in Emacs tr_old_report_mode.


04/21/81: Version 4.54
1) Changes atr to include the TR number in the error message which diagnoses
   an invalid operand to the -state control argument.
2) Corrects display_tr1 to display the on_behalf_of field in TRs, and to
   properly handle TR numbers larger than the highest TR yet submitted.


04/18/81: Version 4.53
1) Installs a new intermediate I/O module, tape_mult_rec_, which overlays a
   file and record structure (record-oriented I/O) onto the data stream
   (stream-oriented I/O) provided by tape_mult_.  This new module is used for
   TR DB journalization of TR records.


04/10/81: Version 4.52
1) Further enhances checking of TR record consistency.
2) Corrects a bug in processing of archived TRs in which dates failed to be
   set properly for suggestions.


04/06/81: Version 4.51
1) Fixes a bug in query_ which causes incorrect validation of TR fields using
   active function validation when the answer contains a semi-colon.
2) Fixes several problems in tr_record_check_.
3) Makes ptr copy_test_case request automatically create a test case
   directory.


04/02/81:  Version 4.50
1) Corrects annoying bug in validating answers for TR fields, in which active
   function validation is being used and an active function error occurs
   (-eli tr 75).


03/26/81:  Version 4.49
1) Fixes bugs in report_tr_stat, ptr_copy_test_case_request_, tr_admin,
   tr_dev_table_, and display_tr2.ec.


03/20/81: Version 4.48
1) Removes the message about the ESC-ESC function from the Emacs editor
   invocation part of tr_edit_.  The function is still there, just the message
   has been removed.  This will make this editing facility useful for eel and
   tr_query.
2) Changes the design specification and implementation of display_tr1 to allow
   that command to notify the user when the TR Data Base is not available (ie,
   Logical volume not defined, Incorrect access, etc).
3) Installs a new ptr copy_test_case request.
4) Installs a revised version of the TR DB journalization facility.
5) Installs a new tr_dev_table_ data base containing information about the MDC
   management hierarchy.


03/10/81: Version 4.47
1) Makes a hopefully inconsequential, incompatible change to assq.  If a { is
   contained anywhere in assq's second argument (not just as the first
   character), then assq will assume the second arg is an association list.
   Otherwise, it will assume it is the pathname of an association list.  This
   change breaks usages of assq for pathnames containing {, but allows
   comments or other extraneous characters outside of the {x,y} associations
   in a list.
2) Centralizes the definition of allowed field values for the type, processing
   stage, state, origin and priority fields of a TR, and changes all programs
   to use this centralized knowledge.
3) Corrects a bug in ptr reroute request which prevented a TR currently routed
   to people A and B from being rerouted just to person B.
4) Corrects an annoying bug in tr_registration_ software which looses your
   default editor when epr asks you to verify that your reigstration is
   correct.
5) Corrects several bugs in tr_format_ (which fills TR fields).  Only 1 space
   follows a word consisting just of punctuation when filling.  In test case
   section, lines can now be up to 79 characters long before folding occurs.
   Underlining is accounted for during folding/filling length computations.  A
   * at beginning of an example line (in
   problem/suggestion/question/added_info fields) is no longer treated like
   a ! (ie, to cause indenting of the line, with undenting of the !).


03/02/81: Version 4.46
1) Installs new tr_file_ primitives which journalize TRs which are deleted
   from TR DB.


02/22/81: Version 4.45
1) Corrects some problems in display_tr2.ec by using long command names
   wherever possible to avoid conflict with user abbreviations.


02/22/81: Version 4.44a
1) Corrects bug in new reroute request of ptr which prevented it from
   adjusting history fields in a rerouted TR.


02/14/81: Version 4.44
1) Changes atr.info to specify values for atr's -tp operand.
2) Fixes dtr2.ec to report that no TR was found in TR DB when attempting to
   select a TR by number which is stored in the TR archives rather than in the
   TR DB.
3) Installs corrected version  of TR Record Journalization facility.
4) Installs a new process_trouble_report reroute request, for automatic
   rerouting of TRs from one developer to another.


02/04/81: Version 4.43
1) Updates TR System's list of sites to include ASU and Renault.
2) Install tr_file_backup commands to backup TR DB records onto tape.


01/30/81: Version 4.42
1) Corrects minor bug in tr_record_check_, which checks internal consistency
   of TR records.
2) Corrects minor problems in ptr's Emacs trmode.


01/27/81: Version 4.41
1) Implements a new mail request in ptr(process) subrequest level.
2) Add -all control_arg to ptr(process) write request, allowing TR
   Administrator to force mailing of all transactions of a TR.
3) Changes ptr mail request to use ptr(process) "write -all" request.


01/26/81: Version 4.40
1) Corrects a bug in atr edit request which caused the recommended new
   priority to always be set to normal when the edited priority field was left
   blank.  This bug was caused by the feature of being able to type a NL
   response to the priority question to imply normal priority.  When the
   edited answer was reparsed, the blank (NL) response for priority field was
   interpreted as normal.  The NL means normal priority feature has been
   removed from atr, as a result.


01/26/81: Version 4.39
1) Installs new algorithm to check internal consistency of record in TR DB.
2) Improvements to process_trouble_report:  . request prints TR System
   version, and number of TR being processed;  write request accepts mail
   destinations;  new mail request.


01/21/81: Version 4.38
1) Updates Emacs trmode to provide a special canned answer for TRs not related
   to the Multics product (hardware or software).


01/19/81: Version 4.37a
1) Install new tr_db_access.gi.info seg, describing policy change for access
   to TR DB.


01/17/81: Version 4.37
1) Install new tr_date command/af which returns dates in TR format.
2) Install new dtr2.ec which allows selective perusal of TR database.


01/15/81: Version 4.36
1) Fixes error in display_tr1.info.
2) Includes new data in output of report_tr_stat.
3) Corrects failure to cleanup I/O switch used by atr to check for a TR in the
   old statistics data base when it is not found in TR DB.
4) Corrects a problem in management of TR record history fields.


01/05/81: Version 4.35
1) Changes print_tr_mail to allow more flexible responses to its More? query.


12/29/80: Version 4.34a
1) Installs a version of tr.gi.info which describes how developers can change
   the type of a report as they answer it.


12/23/80: Version  4.34
1) Install a new command, print_tr_mail (ptrm) for use in cconjunction with
   the read_mail apply request to print the transactions of a mailed TR in
   reverse order.  For details, type:  help ptrm
2) Install a new tr_number command/af for obtaining canonical TR number, given
   a TR number in any form, or given  pathname of a segment containing a TR.


12/18/80: Version 4.33
1) Removes an erroneous reference to check digits from dtr1.info.


12/02/80: Version 4.32
1) Changes -share wait_time in vfile_ attachments to all TR DB to 120 seconds
   to decrease the likelihood of "file already busy" errors.


12/01/80: Version 4.31
1) Corrects bug in atr causing prompt for state when -type and -state ctl_args
   were given.


11/25/80: Version 4.30
1) Corrects error in process_trouble_report by setting rw mode for TR
   Administrator on TRs extracted from the Old TR Archives.  Some of these TRs
   have on an r mode in their archive header.
2) Installs a new facility to check the logical consistency of the TR DB.


11/13/80: Version 4.29
1) Corrects error in name of text field in epr when problem is changed to a
   question or suggestion.
2) Corrects problem in way process_trouble_report maintains history data in TR
   record.
3) Implements fake TR key compaction for tr_file_$delete.


11/11/80: Version 4.28
1) Corrects problem in error messages printed by display_tr1.
2) Makes atr prompt for priority when a report is changed from a suggestion
   or question to a problem, and ignore priority for non-problem reports.


11/07/80: Version 4.27
1) Makes added_info optional for answers verifying a problem.
2) Corrects problem in tr_file_ primitive which prevented proper keys from
   being created for TRs with more than one error list entry, and prevented
   TRs from being deleted properly.
3) Corrects bug in processing of answer which changes report type and
   priority.


10/28/80: Version 4.26
1) Fixes bug in process_trouble_report's handling of new reports introduced by
   Version 4.24.


10/27/80: Version 4.25
1) Fixes bug in format of TRs entered by epr/es/eq introduced by Version 4.24.


10/24/80: Version 4.24
1) Changes the date in the mail header of mailed TRs to be the date/time of
   mailing.  The date/time on which the TR was originally entered is now shown
   in a new Entered line at the beginning of the mail text.
2) Corrects an obscure bug in TR mailing (tr 90 in error list).


10/24/80: Version 4.23
1) Removes priority from a TR whose type is changed from problem to suggestion
   or question.
2) Requires that a priority be given when answering (via atr) a report whose
   type is being changed to a problem.
3) Supplies missing NL at end of dtr1.info.
4) Changes format of reports placed in new_reports.mbx to provide From line in
   the mail header.  Also, fields are now formatted one per line.


10/21/80: Version 4.22
1) Fix bug in tr_date_ causing reference to an error code parameter which was
   not declared for the tr_date_ entry point being used.


10/20/80: Version 4.21
1) Changes atr to get the type of a report (for state validation purposes)
   from the TR Input Queue or TR new_reports.mbx, if the report is not in the 
   TR DB.
2) Changes process_trouble_report to open TR DB only when it is using it.
   This is an attempt to prevent TR DB from being accidentally overwritten via
   reference thru unset pointer (or other software bugs) in TR Administrator's
   process.
3) Makes tr_file_$retrieve_next return consistent error codes when end_of_file
   is reached.


10/13/80: Version 4.20
1) Adds a -type (-tp) control argument to answer_trouble_report which allows
   the developer to change the type of a report (from a problem to a
   suggestion, etc) so that the proper state value can be given.  The -type
   control argument sets a new "type" field, which can have values of problem,
   question, or suggestion.  Of course, the type field can be changed by atr's
   replace request, as well.
2) When required fields are missing, epr/es/eq/attr/atr will not longer say
     Please type "add -required" to answer these questions.
   Instead, it will simply ask the required questions.
3) Changes canned answers supplied by atr from "See error list entry." to
   "See the error list entry for further information.".


10/10/80: Version 4.19
1) Corrects (hopefully) the final problem in the TR DB file maintenance
   primitivie (tr_file_).


10/09/80: Version 4.18
1) Corrects minor problem in Emacs trmode (used by process_trouble_report).
2) dtr1 supplies missing newpage char between old- and new-format reports.
3) Corrects bug in ptr which prevented listing of specific TRs in the TR Input
   Queue.
4) Corrects several problems in tr_file_ causing data base inconsistencies.
5) Changed key prefixes for error list name and number.


10/05/80: Version 4.17
1) Clarifies the meaning of the submitted state in tr_states.gi.info.
2) Fixes several minor problems in tr1_list_ (used by dtr1).
3) In an upwards-compatible manner, adds a version number to the tr1_numbers
   structure used as input to tr1_list_.  This was done to allow expansion of
   the structure to contain 5-digit TR numbers.  A compatibility check is made
   to allow existing callers of tr1_list_ to pass the old structure.  However,
   the tr1_numbers.incl.pl1 file has been changed to reflect the new
   structure.  When callers of tr1_list_ are recompiled, they must be changed
   to use the revised structure (renamed to tr1_numbers_new to insure that a
   compilation error points out the change to the user).
4) Fixes minor bug in tr_file_ maintenance primitive.


09/26/80: Version 4.16
1) Corrects a problem in keys created by tr_file_ primitive.


09/25/80:
A error list for the TR System has been installed in >doc>iis>tr.status.info.


09/25/80: Version 4.15
1) Corrects minor bugs in process_trouble_report.
2) Adds a new entry point to query_ (TR System's question asker) to support
   redefinition of questions based upon answers to previous questions.


09/19/80: Version 4.14
1) Removes bug from process_trouble_report which accidentally removed periods
   occurring at the end of text fields.
2) Changes tr_file_ primitive to set safety switch and read-only ACLEs on
   backup copies of reports added to the TR DB.
3) Removes a bug in tr_file_ primitive causing spurious errors during
   modifications of records in TR DB.
4) Implements a TR DB reload capability to recreate TR DB from journal
   records.


09/15/80: Version 4.13
1) Fixes minor bug in process_trouble_report.


09/05/80: Version 4.12
1) Fixes a bug in answer_trouble_report and attr that appeared after
the installation of PL/I26a, that caused the edit_request to fail in
certain instances.


09/04/80:  Version 4.11 
1) Fixes a bug in tr_file_ introduced in Version 4.9 in the
"save dates" entries.


09/02/80: Version 4.10
1)  Fixes  bug in answer_trouble_report (TR7452) that produced a
    garbage error message when atr was used by a non-developer.


08/29/80: Version 4.9
1) Fixes a bug in tr_file_ that was referencing a variable used in
   a parameter list in an entrypoint where the variable wasn't passed
   as a parameter to the entrypoint.


08/28/80: Version 4.8
1) Changes tr_process_ to put the TR number in the Subject: line of mailed
   TRs.


08/22/80: Version 4.7
1) Changes attr/atr print request to print tr number when invoked with no
   other field_names.
2) Changes attr/atr to diagnose TR numbers greater than number of most recent
   TR as an error.
3) Changes atr to use information about type of original report to help
   validation answer given in the state field.
4) Fixes the . request of attr/atr to print the TR number being answered or
   added to, as its was always intended to do.
5) Implements a new tr_number active request in atr/attr that returns the
   number of the TR being answered/added to.  When invoked as a request, it
   prints the number and type of the original report (type is known only for
   TRs in the TR DB or TR archives.)
6) Corrects several problems in tr_file_ primitive, and adds entry points to
   it for TR DB consistency checking.
7) Corrects misalignment of fields in display_tr1 output.
8) Eliminates garbage printed by epr/es/eq/attr/atr . request.


08/22/80: Version 4.6
1) Corrects problems found yesterday in display_tr1.


08/21/80: Version 4.5
1) Corrects bug in atr which causes it to say report being answered is of
   unknown_report_type when a state value improper for actual report type is
   given.


08/21/80: Version 4.4
1) Corrects failure in display_tr1 to handle place-holder records in TR DB.
2) Corrects failures in tr_record_check_ and tr_file_ manager.


08/21/80: Version 4.3
1) Corrects problems in process_trouble_report.


08/21/80: Version 4.2
1) Corrects error in primitive which creates short list of TR Input Queue.
2) Corrects several errors made in repackage TR System into 5 bound segments.


08/20/80: Version 4.1
1) Corrects problem in tr_edit_ which causes EXL Emacs to be used instead of
   the installed version.  Users which have EXL Emacs in their search rules
   prior to >unb will continue using the EXL version.
2) Corrects oversite in format of TRs mailed to new_reports.mbx.  Now that
   TR transactions are reformatted for placement in the TR DB, there is no
   reason not to honor read_mail's requirements for message headers.  This is
   done to the extent of removing TABs from Subject lines.
3) Installs a TR record consistency checking module.
4) Corrects tr_data_ entries locating directory containing processed TRs and
   dprinted TRs.
5) Improves error messages printed by display_tr1.
6) Installs an enhanced version of Emacs trmode (used in processing TRs).


08/19/80: Version 4.0
1) New version of answer_trouble_report.  Developers should type:
	help atr.changes
2) TR numbers no longer end with a check characters.  They now have the form:
	phxNNNNN
3) New format for TRs mailed to investigators and developers, mailed back
   to submitters, etc.  Only new transactions added to existing TRs will be
   mailed to people whose TR registration specifies "new" for the all/new
   question.  (These changes will begin with TRs mailed on 08/21/80.)
4) New TR data base being used.  The display_tr1 command will look for TRs
   first in the new TR DB, then in the older TR archives.


The new TR DB will not be preloaded.  Instead, new TRs will be added to the DB
as they are entered, and older TRs will be moved from the archives into the TR
DB as are added to or answered.  As time permits, older TRs will be moved from
the archives to the DB, even if the TRs are not modified.  This will
facilitate searching for information in the older TRs, using the new searching
capabilities of the TR DB.  First to be preloaded are the 3000 TRs entered via
epr/es/eq/attr/atr, beginning with the most-recently entered reports.


No facility for searching the TR DB will be provided initially, other than
display_tr1.  A TR DB inquiry command is being designed now to provide such a
facility based upon comments provided in the past.  If you have suggestions
for this interface which have not been entered in the past, feel free to
submit them to the TR_System continuum meeting.  (To enter the TR_System
continuum meeting, type:
   >udd>Demo>dbmt>con>inst>con tr
and use the ? and help requests to learn more about continuum.)


08/18/80: Version 3.21
1) Installs a new version of epr which will detect the installation of new epr
software which submits TRs in a different format, and will prevent submission
of old-format reports.


08/11/80: 
Pending Changes for Version 4.0 In the next few days, version 4.0 of the TR
System will be installed.  This version implements a new format TR data base
as a keyed file.  You will notice differences in the format of trouble reports
which are mailed to you, and those printed by display_tr1.  


For developers, many changes have been made to the answer_trouble_report
command to support the management policies in MAB-049-01.  Please read the new
file, atr.changes.info to determine what impact these changes may have on your
tools/exec_coms used to answer TRs.


08/07/80: Version 3.20
1) Corrects a bug in the version of assq used in the TR system which causes
   excess overhead (most cases) and incorrect operation (a few cases).
2) Introduces short names for requests in epr/es/eq/attr/atr:
	print, pr, p
	delete, dl, d
	replace, rp, r
	send, s
	help, h


07/14/80: Version 3.19
1) Removes mention of old answers.mbx from tr_system.gi.info.
2) Changes tr_date_ in support of new TR DB.
3) Fixes bug in epr to make "epr -rq edit -rql" work again.


07/09/80: Version 3.18
1) Fixed a bug in query_$ask which caused leading/trailing whitespace of an
   answer to be trimmed, even if trimming was suppressed in the question
   definition.  This retains whitespace on the first line of the test_case
   field.


07/09/80: Version 3.17
1) Added Brunel University to list of known sites.
2) Fixed a bug in epr/es/eq/attr/atr in which fields which are not normally
   prompted for but which are entered via the add request were not sent as
   part of the submitted TR.  This occurred with another obscure bug was fixed
   in the query_ module.  The bug in epr has been corrected.


07/08/80: Version 3.16
1) Changes tr_date_ to force all date/time strings used by the TR system to be
   expressed in MST (actually in zone given in tr_data_$zone).  This resolves
   problem with per-process time zones.


07/07/80: Version 3.15
1) Fixes yet another bug which prevented ill-formatted reports entered into
   the TR mailbox from being mailed back to the sender.


06/17/80: Version 3.14 
1) Fixes a bug in process_trouble_report affecting classification of external
   TRs.


06/16/80:  Version 3.13
1) Fixes a locking problem in process_trouble_report.


06/16/80:  Version 3.12
1) A new query_$set_unit_answer entry point was added for use by
   process_trouble_report.
2) Changes to tr_validate_ and tr_date_ to support date formats used in
   records of new TR DB.


06/04/80:  Version 3.11
1) Change tr_validate_ to validate an optional report number in a TR.
2) Change tr_data_ to add new TR DB record exception types.
3) Fix bug in TR input queue processing causing unparsible letters in the
   new_reports.mbx to be returned to the sender as messages.  They will now be
   returned as mail.


06/02/80:  Version 3.10
1) Change tr_data_ to define new variables describing the TR DB backup volume
   pool.
2) Change query_ to remove trailing whitespace from lines in user
   registrations when the registration is being edited.


05/28/80:  Version 3.09
1) Fix display_tr1 to display last status line associated with a TR instead of
   the first.  This fixes a bug introduced in Version 3.06.


05/28/80:  Version 3.08
1) Add bug trap to process_trouble_report to fix spurious bit count setting
   failure.


05/27/80:  Version 3.07
1) Fixes a bug in formatting of the TR Input Queue.


05/22/80:  Version 3.06
1) Minor fix to process_trouble_report.
2) Change to invert the order of TR History lines printed out by display_tr1.
   The lines were actually reversed in the TR history file to speed updating of
   this file.
3) Adds tr_data_$tr_record_exceptions, a new datum to be used in the new TR
   data base.


05/21/80:  Version 3.05
1) Minor improvement to process_trouble_report.


05/20/80:  Version 3.04
1) Corrects a bug in TR Input Queue handler attempt to ref. thru null ptr.
2) Removes trailing whitespace from the ? message for the site and release
   questions.
3) Fixes bug in tr1_search_ which prevented temp segments from being properly
   released.


05/07/80:  Version 3.03
1) Corrects a problem in the locking strategy of tr_db_.
2) Corrects a bug in process_trouble_report.


05/05/80:  Version 3.02
1) New tr_date_deleter command which operates like date_deleter, except that
   it also considers directories for deletion.  This is used to delete the
   directories containing backup copies of transactions in the TR Input Queue.


05/05/80:  Version 3.01
1) Corrects an omission in the bind file for a support routine for the new
   process_trouble_report command.


05/03/80:  Version 3.00
1) Completes changes to tr_data_ for new TR processing hierarchy.  TR
   mailboxes are now located at >udd>TR>TR_mailboxes (or >udd>tr>mbx).  Links
   exist from old to new locations so exec_coms/abbrevs should continue to
   work.
2) New process_trouble_report command (phase I), which processes TRs by
   priority order, grouping all transactions associated with a given report
   together for processing.  Support for report reformatting, selective
   mailing, etc is not included yet.


04/30/80:  Version 2.31
1) Bug fix to change programs which have TR_archive pathname coded in to take
   cognizance of the new location of the archives.  Links from old to new
   location were created, but these programs cannot handle such links.


04/29/80:  Version 2.30
1) Changes tr_data_ to include pathname of TR archive directory.
2) Changes tr_data_ to know about TR processing using the new TR project.
3) Changes TR registration to allow non-site_SA users to register themselves
   as Site SAs.  This causes such users to be asked more questions about their
   particular site, etc.  We have several users who are not real site SAs who
   are entering reports on behalf of a customer site.


04/22/80:  Version 2.29
1) Removes the concept of multiple mailboxes for incoming trouble reports.
   Only a single mailbox is now used by the software.  It is still located at
   >udd>sm>TR>mbx>new_reports.mbx.  The new report processing software is not
   coded to support multiple mailboxes.
2) Adds support for use of new TR Input Queue to tr_admin command.  This is in
   support of the process_trouble_report command.


04/08/80:  Version 2.28
1) Updates tr_data_ to include Site-N and CICB.


03/27/80:  Version 2.27
1) Changes display_tr1 to correct "no TR'S selected" error message.
2) Changes tr_db_ utility to correct locking strategy error.


03/22/80:  Version 2.26
1) Changes epr.gi.info to clarify that the test_case field is not formatted at
   all.
2) Changes epr.set_editor.info to document the tr_edit editor abbreviation.
   Also,  (epr es eq attr atr utrr).info were changed for similar reasons.


03/05/80:  Version 2.25
1) Fixes a bug in the question asking programs (query_) which caused pending
   input read prior to a program_interrupt to be used as part of the answer to
   a question asked after the program_interrupt.
2) Changes field formatting routine to remove all formatting of the test_case
   field, except for long-line folding.  Lines will no longer be indented, nor
   will ! be treated as a special character.
3) Fixes a bug in which user abbreviations were being expanding when
   validating the dprint control args in a TR user registration.


03/04/80:  Version 2.24
1) Fixes a bug which prevented display_tr1 from finding closed TRs whose TR
   number was mod(TRnnnn,500)=0.


02/26/80:  Version 2.23
1) Changes epr not avoid reporting already answered fields when the
   "add -required" or "add -all" request is used.
2) Changes epr such that a program_interrupt command always returns to the
   request loop, rather than returning to the question-asking program
   (query_).
3) Changes method used to invoke editors to call the editors as subroutines,
   rather than using the command processor.  This avoids conflicts with
   personal abbreviations for ted, qedx, etc.
4) Allows a new generic editor (tr_edit) to be used in editing TRs.  This
   editor is invoked using the command line:
     tr_edit path_to_be_edited
   Thus, users can define abbreviations for tr_edit which invoke their own
   private editors.
5) Changes the epr send request to check explicitly for missing fields before
   attempting to parse the TR being sent.  This avoids lengthy error messages.


02/25/80:  Version 2.22
1) Changes tr1_archive_name_ to bypass a problem in msa_manager_.


02/22/80:  Version 2.21
1) Corrects a problem which caused display_tr1 and its support subroutines to
   resume executing after a QUIT/release sequence.
2) Changes epr not to ask for test_paths, added_info, or support information.
   These fields can still be given via the add request.
3) Changes atr not to ask for release_installed when the answer for the state
   field does not require an installation release number.
4) Changes epr/es/eq/atr/attr to report separate invocation level numbers in
   their request loop prompt messages.
5) Changes epr/es/eq/atr/attr add request to report an attempt to add a field
   which already has an answer.
6) Changes atr to accept lowercase state values (ie, installed_exl as well as
   installed_EXL).


7) Changes epr edit request to identify its editor buffer by the identifier
	epr.<invocation_level>.edit_buffer
   in its call to get_temp_segment_.  When editing, if you accidentally
   overwrite the default pathname associated with your editor's write request,
   you can use the list_temp_segments command to get the pathname of the
   editor buffer.  This is kludgy solution at best, but is better than what we
   have today.  es/eq/attr/atr use similar identifiers for their edit buffers.
8) Changes epr/es/eq/atr/attr to release temp segments properly.  They failed
   to release one temp segment each time the send request was executed.


02/20/80:  Version 2.20
1) Changes assq to remove yet another incompatibility between the TR system's
   assq and private copies.  Also adds documentation for assq.


02/14/80:  Version 2.19
1) Changes display_tr1 to add the -no_print (-npr) control argument which
   suppresses printing of TR text.  Useful for printing only the status of a
   particular TR.


02/13/80:  Version 2.18
1) Changes tr.info to reference display_tr1 command.
2) Changes display_tr1 to avoid reference through null point if no TR numbers
   were entered and no TR's were selected by the -dtm control argument.


02/12/80:  Version 2.17
1) Change display_tr1 to give the input selection criteria(TR5249) when "no TR
   selected" message is printed.
2) Change tr1_print_ to put the line "TR History:" preceeding the complete
   status history (TR5248)


02/07/80: Version 2.16
1) Fixes display_tr1 -of to suppress newpage after last TR.
2) tr.info was updated to describe how developers can answer a report without
   prompting, and can transfer a report to another developer.
3) Clarifies the description of what an input file given as the operand of
   -input_file actually looks like in (epr es eq atr attr).gi.info.


02/06/80:  Version 2.15
1) Adds display_tr1 (dtr1) command, which selects and prints TRs from the TR
   data base.  For detail, type:
	help dtr1
2) Adds subroutine interfaces for obtaining information from the TR data base.
   These include:  tr1_list_, tr1_print_, and tr1_release_msa_.
These are exposure versions of the command and subroutine interfaces.  All
interfaces are subject to change.  Use the TR system to report problems with
these interfaces.


02/05/80:  Version 2.14
1) Adds tr1_archive_name_ and tr1_compute_archive_ subroutines for use in
   interim TR processing tools.  These will also be used by the TR db
   conversion interfaces to be exposed shortly.


02/04/80:  Version 2.13
1) Corrects a problem in parsing the "occurs at" field of submitted reports.
2) Eliminates use of the answers mailbox (>udd>sm>TR>mbx>answers.mbx).
   Answers are now stored with other reports in the new_reports mailbox.


01/24/80:  Version 2.12
1) The short name for the priority field has been changed from pty to prty to
   avoid possible confusion with the short name for pseudo-tty.
2) Prompt information printed by ? for default project question in TR
   registration now states that current project is assumed by default when an
   answer of just NL is given.
3) The question asker (query_) has been changed to print a shorter prompt
   after returning from .. escape when in -brief mode.
4) Field size limits have been documented in questions related to TR
   registration.


01/22/80: Version 2.11
1) query_ (question asker) was changed to allow you to continue answering
   current question after a QUIT/pi sequence (or when pi is used to restart
   in a preserved process).
2) query_ was changed so that after ?  prompting information is printed when
   in mid-answer, you are asked whether or not you want to continue your
   current answer or restart the answer again.  Acceptable answers are yes
   (continue), no (restart), and print (print current answer, then decide).
   Of course, when asked to continue, you can again type ? to get the list of
   acceptable answers to the continuation question.


01/21/80:  Version 2.10
1) Corrects bugs in validation of test pathnames caused by unset variables
   and bad do statement.
2) Converts HTs in Subject lines of added_info and answer reports to an
   equivalent number of spaces.
3) Clarifies prompt printed by ? for state question of atr.
4) Changes the interpretation of the -no_update (-nud) control argument of
   epr/es/eq/attr/atr commands to suppress automatic verification of your TR
   registration, which normally occurs every 90 days.  There are now 3
   updating states:  -update, forces verification even if 90 days aren't up;
   -no_update, suppresses verification, even if 90 days are up; and the
   default, which verifies registration every 90 days.


5) Changes add/replace with -required to reevaluate list of required fields
   after new answers are given.  Sometimes answer to one field can make
   another field required.  Instead of complaining when this occurs, it will
   simply ask for the remaining required fields.
6) Change print_tr_registration to check for, and complain about, any control
   arguments which may have been mistakenly given before it prints any
   registration information.


01/20/80:  Version 2.9
1) The "Test Case" question appears to be unpopular (I don't remember seeing
   it ever used), and so is no longer asked by epr/es/eq.  The field can still
   be specified in the add request, however.
2) Special diagnostics added to attr and atr to detect misuse of read_mail's
   apply request with these commands, and provide corrective guidance.
3) epr/es/eq have been changed to supply default answers of System_M and the
   current release running on System M for the site and release questions when
   these questions are asked of Site SAs (and others) and no answer is given
   (just NL is typed).
4) For the priority, release and site questions, the prompt information printed
   by ? now prints the default values assumed if just newline is typed.


01/19/80:  Version 2.8
1) The . request of epr/es/eq/attr/atr now prints version number of the TR
   system software.  For attr/atr, it also prints number of report being added
   to or answered.
2) A write (w) request was added to epr/es/eq/attr/atr which writes report
   fields entered up to the point of the write request into a segment.  This
   can help avoid loss of data when system crashes during entry of a long
   report.


01/18/80:  Version 2.7
1) Security hole plugged further by disallowing parentheses and less than (<)
   and greater than (>) in dprint_ctl_args field of TR registration.
2) -editor control argument added to update_tr_registration.  For info, type:
     help utrr
3) New print_tr_registration (ptrr) command added.  For info, type:
     help ptrr


01/16/80:  Version 2.6
1) Answer size for various TR fields increased to accommodate more input.
2) Answer size restrictions are indicated in long form of questions, and in 
   the information printed by ? for a question.
3) TR registration automatic reverification time increased to 90 days.
4) Improved information when ? typed for various fields.
5) Security hole plugged by disallowing semicolon (;) and brackets ([])
   in dprint_ctl_args field of TR registration.  
6) -notify (-nt) is no longer allowed in dprint_ctl_args field of TR
   registration.  This causes the TR Administrator to get notified, not the
   user.
7) A new update_tr_registration (utrr) command installed.


01/11/80:  Version 2.5
1) Greeting message typed by epr -long is now much shorter.
2) Several typos fixed in tr.info
3) When user is being asked for a multi-line field value, typing ? on a line
   by itself after providing part of the answer will no longer erase the
   part of the answer typed so far.  Instead, user is asked if he wants to
   continue answering or start over.
4) Typing an indented ? on a line by itself no longer prompts for information
   about the current question.  The ? must be the first character typed by the
   user on the line.


01/10/80:  Version 2.4
A variety of bugs were fixed.  No significant user interface changes were
made, however.


01/02/80:  Version 2.3
Replaces tr.info to document what TR System info segments exist.  For a list,
type: 
  help tr -scn documentation


12/28/79:  Version 2.2
1) implement -fc as short name for -force in quit request.
2) document -comment as long name for -cmt in send request.
3) warn users in the documentation that "send -ack" causes an error in
   send_mail.
4) document how fields of a report are formatted.  For details, type:
      help epr.gi -scn  formatting
5) the priority field now defaults to "normal" if you type a newline.
6) document the fact that atr and attr can be used to reply to old-format
   trouble reports having numbers such as TR3456.


12/27/79:  Version 2.1
When EMACS is used to edit a trouble report or user registration, the ESC-ESC
key moves the cursor to the next field in the report or registration.


                                          -----------------------------------------------------------


Historical Background

This edition of the Multics software materials and documentation is provided and donated
to Massachusetts Institute of Technology by Group BULL including BULL HN Information Systems Inc. 
as a contribution to computer science knowledge.  
This donation is made also to give evidence of the common contributions of Massachusetts Institute of Technology,
Bell Laboratories, General Electric, Honeywell Information Systems Inc., Honeywell BULL Inc., Groupe BULL
and BULL HN Information Systems Inc. to the development of this operating system. 
Multics development was initiated by Massachusetts Institute of Technology Project MAC (1963-1970),
renamed the MIT Laboratory for Computer Science and Artificial Intelligence in the mid 1970s, under the leadership
of Professor Fernando Jose Corbato. Users consider that Multics provided the best software architecture 
for managing computer hardware properly and for executing programs. Many subsequent operating systems 
incorporated Multics principles.
Multics was distributed in 1975 to 2000 by Group Bull in Europe , and in the U.S. by Bull HN Information Systems Inc., 
as successor in interest by change in name only to Honeywell Bull Inc. and Honeywell Information Systems Inc. .

                                          -----------------------------------------------------------

Permission to use, copy, modify, and distribute these programs and their documentation for any purpose and without
fee is hereby granted,provided that the below copyright notice and historical background appear in all copies
and that both the copyright notice and historical background and this permission notice appear in supporting
documentation, and that the names of MIT, HIS, BULL or BULL HN not be used in advertising or publicity pertaining
to distribution of the programs without specific prior written permission.
    Copyright 1972 by Massachusetts Institute of Technology and Honeywell Information Systems Inc.
    Copyright 2006 by BULL HN Information Systems Inc.
    Copyright 2006 by Bull SAS
    All Rights Reserved
