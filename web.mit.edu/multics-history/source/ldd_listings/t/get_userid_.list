	COMPILATION LISTING OF SEGMENT get_userid_
	Compiled by: Multics PL/I Compiler, Release 30, of February 16, 1988
	Compiled at: Honeywell Bull, Phoenix AZ, SysM
	Compiled on: 07/13/88  1011.0 mst Wed
	    Options: optimize map

        1 /****^  ***********************************************************
        2*        *                                                         *
        3*        * Copyright, (C) Honeywell Bull Inc., 1987                *
        4*        *                                                         *
        5*        * Copyright, (C) Honeywell Information Systems Inc., 1982 *
        6*        *                                                         *
        7*        * Copyright (c) 1972 by Massachusetts Institute of        *
        8*        * Technology and Honeywell Information Systems, Inc.      *
        9*        *                                                         *
       10*        *********************************************************** */
       11 
       12 /* format: style4 */
       13 get_userid_: proc (procid, pers, proj, type, anon, ecode);
       14 
       15 /* GET_USERID_ - program to find out who a user is, given process id. */
       16 /* Modified November 1981, E. N. Kittlitz.  user_table_entry conversion. */
       17 
       18 
       19 /****^  HISTORY COMMENTS:
       20*  1) change(87-04-26,GDixon), approve(87-07-09,MCR7741),
       21*     audit(87-05-06,Parisek), install(87-08-04,MR12.1-1055):
       22*     Upgraded for change to answer_table.incl.pl1 and user_table_entry.incl.pl1
       23*  2) change(87-05-31,GDixon), approve(87-07-09,MCR7719),
       24*     audit(87-07-13,Hartogs), install(87-08-04,MR12.1-1055):
       25*     Add $info entrypoint.
       26*                                                   END HISTORY COMMENTS */
       27 
       28 
       29 dcl  procid bit (36),				/* input process id */
       30      pers char (*),					/* output person id */
       31      proj char (*),					/* output project id */
       32      tag char (*),					/* output instance tag */
       33      process_type fixed bin,				/* output process type */
       34      abs_queue fixed bin,				/* output absentee queue, 0 = fg */
       35      type fixed bin,				/* 0 = interactive, -1 daemon, >0 abs queue */
       36      anon fixed bin,				/* 1 if anonymous, else 0 */
       37      ecode fixed bin (35);
       38 
       39 dcl  ec fixed bin (35),
       40      i fixed bin,
       41      info_entry bit(1);
       42 
       43 dcl (static_ansp, static_autp, static_dutp) ptr int static init(null);
       44 
       45 dcl  sysdir char (64) aligned int static options(constant) init (">system_control_dir");
       46 
       47 dcl (addr, null) builtin;
       48 
       49 dcl  hcs_$initiate entry (char (*) aligned, char (*) aligned, char (*) aligned,
       50 	fixed bin (1), fixed bin (2), ptr, fixed bin (35));
       51 
       52 dcl  error_table_$noentry fixed bin(35) ext static;
       53 
       54 /* --------------------------------------------- */
       55 
       56 	info_entry = "0"b;
       57 	go to JOIN;
       58 	
       59 info:	entry (procid, pers, proj, tag, process_type, anon, abs_queue, ecode);
       60 
       61 	info_entry = "1"b;
       62 	
       63 JOIN:	ecode = 0;
       64 	if static_ansp = null then
       65 	     call hcs_$initiate (sysdir, "answer_table", "", 0, 1, static_ansp, ec);
       66 	if static_autp = null then 
       67 	     call hcs_$initiate (sysdir, "absentee_user_table", "", 0, 1, static_autp, ec);
       68 	if static_dutp = null then
       69 	     call hcs_$initiate (sysdir, "daemon_user_table", "", 0, 1, static_dutp, ec);
       70 
       71 	ansp = static_ansp;
       72 	autp = static_autp;
       73 	dutp = static_dutp;
       74 
       75 	if ansp = null & autp = null & dutp = null then do;
       76 	     ecode = ec;
       77 	     return;
       78 	end;
       79 
       80 	if ansp ^= null then do;
       81 	     do i = 1 to anstbl.current_size;
       82 		utep = addr (anstbl.entry (i));
       83 		if ute.active >= NOW_HAS_PROCESS then do;
       84 		     if ute.proc_id = procid then do;
       85 			pers = ute.person;
       86 			proj = ute.project;
       87 			if info_entry then do;
       88 			     tag = ute.tag;
       89 			     process_type = ute.process_type;
       90 			     abs_queue = 0;
       91 			end;
       92 			else type = ute.queue;
       93 			anon = ute.anonymous;
       94 			return;
       95 		     end;
       96 		end;
       97 	     end;
       98 	end;
       99 
      100 	if autp ^= null then do;			/* check access to table */
      101 	     do i = 1 to autp -> autbl.current_size while (autp -> autbl.n_abs_run > 0);
      102 		utep = addr (autp -> autbl.entry (i));
      103 		if ute.active >= NOW_HAS_PROCESS then do;
      104 		     if ute.proc_id = procid then do;
      105 			pers = ute.person;
      106 			proj = ute.project;
      107 			if info_entry then do;
      108 			     tag = ute.tag;
      109 			     process_type = ute.process_type;
      110 			     abs_queue = ute.queue;
      111 			end;
      112 			else type = ute.queue;
      113 			anon = ute.anonymous;
      114 			return;
      115 		     end;
      116 		end;
      117 	     end;
      118 	end;					/* end of autbl search */
      119 
      120 	if dutp ^= null then do;
      121 	     do i = 1 to dutbl.current_size;
      122 		utep = addr (dutbl.entry (i));
      123 		if ute.active >= NOW_HAS_PROCESS then do;
      124 		     if ute.proc_id = procid then do;
      125 			pers = ute.person;
      126 			proj = ute.project;
      127 			if info_entry then do;
      128 			     tag = ute.tag;
      129 			     process_type = ute.process_type;
      130 			     abs_queue = 0;
      131 			end;
      132 			else type = ute.queue;
      133 			anon = ute.anonymous;
      134 			return;
      135 		     end;
      136 		end;
      137 	     end;
      138 	end;					/* end daemon table search */
      139 
      140 	ecode = error_table_$noentry;
      141 
      142  /* BEGIN INCLUDE FILE ... absentee_user_table.incl.pl1 */
  1     2 
  1     3 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  1     4 /*							       */
  1     5 /* The absentee user table is the control data base for the absentee	       */
  1     6 /* facility.  It has a header, with scheduling parameters, then one user     */
  1     7 /* table entry for each logged-in absentee job.			       */
  1     8 /*							       */
  1     9 /* Programs which use this table must also include		       */
  1    10 /* user_table_header.incl.pl1 and user_table_entry.incl.pl1.	       */
  1    11 /*							       */
  1    12 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  1    13 
  1    14 
  1    15 /****^  HISTORY COMMENTS:
  1    16*  1) change(81-09-10,Kittlitz), approve(), audit(), install():
  1    17*     Replace abs_user_tab.incl.pl1.
  1    18*  2) change(87-04-26,GDixon), approve(87-07-13,MCR7741),
  1    19*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  1    20*     Use ut_header common to all user control tables.
  1    21*                                                   END HISTORY COMMENTS */
  1    22 
  1    23 
  1    24 dcl  AUTBL_version_4 fixed bin int static options (constant) init (4);
  1    25 
  1    26 dcl  autp ptr automatic init (null);
  1    27 
  1    28 dcl 1 autbl based (autp) aligned,			/* a per system table to store info on absentee processes */
  1    29     2 header like ut_header,				/* Header common to all user tables. */
  1    30 
  1    31 /* Counter elements */
  1    32     2 n_abs_run fixed bin,				/* actual number of absentee processes current */
  1    33     2 max_abs_users fixed bin,			/* max number of background absentee processes permitted */
  1    34     2 n_background_abs fixed bin,			/* number of absentee processes not from foreground queue */
  1    35     2 n_sec_fg fixed bin,				/* number of secondary foreground absentee jobs */
  1    36     2 idle_units fixed bin,				/* used in adjusting abs_maxu dynamically */
  1    37     2 abs_units fixed bin,				/* part of anstbl.n_units used by background absentees */
  1    38     2 n_abs (4) fixed bin,				/* number of processes from each background queue */
  1    39     2 qres (4) fixed bin,				/* number of slots reserved for each background queue */
  1    40     2 rsc_waiting (-1:4) fixed bin,			/* number of requests waiting for resources, from each queue */
  1    41     2 qerr (-1:4) fixed bin,				/* number of consecutive errors for q (dropped if > QERR_MAX) */
  1    42     2 cpu_limit (4) fixed bin (35),			/* current per-queue cpu time limits */
  1    43 
  1    44 /* absentee user manager values. */
  1    45     2 defer_channel fixed bin (71),			/* IPC for time-defered queue entries */
  1    46     2 absentee_rq_chn fixed bin (71),			/* IPC channel for absentee requests */
  1    47     2 last_queue_searched fixed bin,			/* highest queue looked at by scheduler */
  1    48     2 debugging fixed bin,				/* take asdumps at strategic places */
  1    49     2 control,					/* see also whotab.incl.pl1 */
  1    50       3 mnbz bit (1) unal,				/* must not be zero */
  1    51       3 abs_maxu_auto bit (1) unal,			/* 1 if abs maxu has not been set by operator command */
  1    52       3 abs_maxq_auto bit (1) unal,			/* 1 if abs maxq has not been set by operator command */
  1    53       3 abs_qres_auto bit (1) unal,			/* 1 if abs qres has not been set by operator command */
  1    54       3 abs_cpu_limit_auto bit (1) unal,		/* 1 if abs cpu_limit has not been set by operator command */
  1    55       3 queue_dropped (-1:4) bit (1) unal,		/* 1 if queue has been dropped because of errors */
  1    56       3 abs_up bit (1) unal,				/* 1 if absentee facility is running */
  1    57       3 abs_stopped bit (1) unal,			/* 1 if abs stop command was issued */
  1    58 						/* both 1 if we're waiting for the last jobs to log out */
  1    59       3 aum_ctl bit (1) unal,				/* for AUM to tell AU to start a new sequence */
  1    60       3 lc_list bit (1) unal,				/* for AU to tell AUM that the lc list is non-empty */
  1    61 						/* comments in AU and AUM explain aum_ctl and lc_list */
  1    62       3 control_pad (21) bit (1) unal,			/* fill out rest of word */
  1    63     2 aum_pad fixed bin,
  1    64 
  1    65     2 entry_pad (80) fixed bin,			/*  pad table header to 128 words */
  1    66     2 entry (0 refer (autbl.current_size)) like ute;
  1    67 
  1    68 dcl AUTBL_CONTROL_NAMES (15) char(20) varying int static options(constant) init(
  1    69 	"mnbz",
  1    70 	"abs_maxu_auto",
  1    71 	"abs_maxq_auto",
  1    72 	"abs_qres_auto",
  1    73 	"abs_cpu_limit_auto",
  1    74 	"queue_dropped(-1)",
  1    75 	"queue_dropped( 0)",
  1    76 	"queue_dropped( 1)",
  1    77 	"queue_dropped( 2)",
  1    78 	"queue_dropped( 3)",
  1    79 	"queue_dropped( 4)",
  1    80 	"abs_up",
  1    81 	"abs_stopped",
  1    82 	"aum_ctl",
  1    83 	"lc_list");
  1    84 
  1    85 /* END INCLUDE FILE ... absentee_user_table.incl.pl1 */
      142 
      143  /* BEGIN INCLUDE FILE ... answer_table.incl.pl1 */
  2     2 
  2     3 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  2     4 /*							       */
  2     5 /* The answer table has one entry per "login instance" whether completed or  */
  2     6 /* not.  It is connected to the Channel Definition Table by the pointer      */
  2     7 /* "channel".  The header is used mostly by dialup_.		       */
  2     8 /*							       */
  2     9 /* Programs which use this file must also include user_table_header.incl.pl1 */
  2    10 /*							       */
  2    11 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  2    12 
  2    13 /****^  HISTORY COMMENTS:
  2    14*  1) change(81-09-10,Kittlitz), approve(), audit(), install():
  2    15*     Replace anstbl.incl.pl1.
  2    16*  2) change(85-01-15,Swenson), approve(), audit(), install():
  2    17*     Add anstbl.session_uid_counter.
  2    18*  3) change(85-08-21,Coren), approve(), audit(), install():
  2    19*     Add anstbl.message_update_time and named constants for values of
  2    20*     anstbl.session, and to make all padding explicit.
  2    21*  4) change(85-08-23,Coren), approve(), audit(), install():
  2    22*     Change "entry" to a placeholder so as not to require
  2    23*     user_table_entry.incl.pl1.
  2    24*  5) change(86-06-29,Swenson), approve(87-07-13,MCR7741),
  2    25*     audit(87-04-14,GDixon), install(87-08-04,MR12.1-1056):
  2    26*     Added the flag login_server_present which indicates whether a login
  2    27*     server request has been received.  This is used to determine whether
  2    28*     dial_ctl_ should call uc_cleanup_network_dials_ (and thus
  2    29*     hpriv_connection_list_, which only exists with the MNA RPQ software).
  2    30*  6) change(87-04-14,GDixon), approve(87-07-13,MCR7741),
  2    31*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  2    32*      A) Moved constants for ute.pw_flags.mask_ctl into
  2    33*         user_table_entry.incl.pl1.
  2    34*      B) Added common table header to all user tables.
  2    35*                                                   END HISTORY COMMENTS */
  2    36 
  2    37 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  2    38 /*							       */
  2    39 /* The anstbl structure below is divided into sections.  Each section begins */
  2    40 /* with a comment describing the elements in the section.  Elements are      */
  2    41 /* placed within a section, based upon their function or the programs that   */
  2    42 /* use them.  Each section begins on a double word and is an even number of  */
  2    43 /* words long.						       */
  2    44 /*							       */
  2    45 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  2    46 
  2    47 
  2    48 
  2    49 /* format: style4 */
  2    50 
  2    51 dcl  ANSTBL_version_4 static options (constant) init (4);	/* version of this declaration */
  2    52 
  2    53 dcl  ansp ptr automatic init (null);
  2    54 
  2    55 dcl  1 anstbl based (ansp) aligned,			/* Structure of answer table */
  2    56        2 header like ut_header,			/* Header common to all user tables. */
  2    57 
  2    58 /* Counter elements. */
  2    59        2 nlin fixed bin,				/* number of active lines */
  2    60        2 mxlin fixed bin,				/* maximum number of active lines */
  2    61        2 n_users fixed bin,				/* number of logged-in users */
  2    62        2 max_users fixed bin,				/* maximum number of users allowed */
  2    63        2 n_units fixed bin,				/* number of logged in units */
  2    64        2 max_units fixed bin,				/* maximum number of units */
  2    65        2 n_sessions fixed bin,			/* number of Multics sessions */
  2    66        2 n_pad fixed bin,
  2    67 
  2    68 /* Name elements. */
  2    69        2 sysdir char (64) unal,			/* name of main system control directory */
  2    70        2 as_tty char (8) unal,			/* name of main answering service device. */
  2    71 
  2    72 /* Login elements. */
  2    73        2 login_word char (8) unal,			/* login word if special_session=1  */
  2    74        2 session char (8) unal,			/* session indicator */
  2    75        2 special_message char (128) unal,		/* message to be printed for special session */
  2    76        2 message_update_time fixed bin (71),		/* time at which special_message was last updated */
  2    77        2 message_lng fixed bin,			/* length of special message */
  2    78        2 login_pad fixed bin,
  2    79 
  2    80 /* Table update elements. */
  2    81        2 lock_count fixed bin,			/* global lock for all system control tables */
  2    82        2 update_pending bit (1) aligned,		/* flag indicating that update is required */
  2    83        2 update_channel fixed binary (71),		/* event channel of update procedure */
  2    84        2 acct_update_chn fixed bin (71) aligned,		/* Timer IPC channel */
  2    85        2 acct_last_update_time fixed bin (71) aligned,	/* Time of last accounting update */
  2    86        2 acct_alarm_fail fixed bin,			/* non-zero if alarm has failed */
  2    87        2 update_pad fixed bin,
  2    88 
  2    89 /* dialup_ data values. */
  2    90        2 current_time fixed bin (71),			/* Time of last transaction */
  2    91        2 processid_index fixed bin (18),		/* unique index for process id generation */
  2    92        2 session_uid_counter fixed bin (35),		/* current session_uid */
  2    93 
  2    94 /* load_ctl_ elements. */
  2    95        2 shift fixed bin,				/* Shift, set by act_ctl_ */
  2    96        2 auto_maxu fixed bin,				/* 0 = manual, 1 = config, 2 = load-level */
  2    97        2 extra_units fixed bin,			/* Total daemon and abs units. */
  2    98 						/* load_ctl_ load leveling desired response range: */
  2    99        2 response_high fixed bin,			/* bad if user response time slower than this */
  2   100        2 response_low fixed bin,			/* bad if user response time faster than this */
  2   101        2 load_ctl_pad fixed bin,
  2   102 
  2   103 /* Login server request server data. */
  2   104        2 ls_request_server_event_channel fixed bin (71),	/* channel for login server requests */
  2   105        2 ls_request_server_process_id bit (36) aligned,	/* process serving login server requests */
  2   106        2 login_server_present bit (1) aligned,		/* On IFF a login server request has been processed */
  2   107 
  2   108        2 entry_pad (28) fixed bin,			/* pad to 128 words */
  2   109        2 entry (0 refer (anstbl.current_size)),		/* user entries */
  2   110          3 contents (UTE_SIZE) fixed bin;
  2   111 
  2   112 /* constants */
  2   113 
  2   114 /* values for anstbl.session */
  2   115 
  2   116 dcl  (AT_NORMAL init ("normal  "),
  2   117      AT_SPECIAL init ("special "),
  2   118      AT_SHUTDOWN init ("shutdown")) char (8) internal static options (constant);
  2   119 
  2   120 dcl  UTE_SIZE fixed bin internal static initial (300);
  2   121 
  2   122 /* END INCLUDE FILE ... answer_table.incl.pl1 */
      143 
      144  /* BEGIN INCLUDE FILE ... daemon_user_table.incl.pl1 */
  3     2 
  3     3 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  3     4 /*							       */
  3     5 /* The daemon_user_table has one entry per daemon.  Daemons are logged in by */
  3     6 /* operator command or automatically.  If they do any I/O, it is done via    */
  3     7 /* the message coordinator.					       */
  3     8 /*							       */
  3     9 /* Programs using this include file must also use user_table_header.incl.pl1 */
  3    10 /* and user_table_entry.incl.pl1.				       */
  3    11 /*							       */
  3    12 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  3    13 
  3    14 
  3    15 /****^  HISTORY COMMENTS:
  3    16*  1) change(81-09-10,Kittlitz), approve(), audit(), install():
  3    17*     Initially coded from dutbl.incl.pl1.
  3    18*  2) change(87-04-26,GDixon), approve(87-07-13,MCR7741),
  3    19*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  3    20*      A) Add use of ut_header common to all user control tables.
  3    21*      B) Corrected padding prior to first ute entry.
  3    22*                                                   END HISTORY COMMENTS */
  3    23 
  3    24 
  3    25 dcl  DUTBL_version_4 fixed bin int static init (4);	/* version of this declaration */
  3    26 
  3    27 dcl  dutp ptr automatic init (null);
  3    28 
  3    29 dcl 1 dutbl based (dutp) aligned,			/* Daemon user table */
  3    30     2 header like ut_header,				/* Header common to all user tables. */
  3    31 
  3    32     2 active_count fixed bin,				/* the count of active daemons managed by DUM_ */
  3    33 
  3    34     2 entry_pad (117) fixed bin,			/* pad to 128 words */
  3    35     2 entry (0 refer (dutbl.current_size)) like ute;	/* daemon user entries */
  3    36 
  3    37 /* END INCLUDE FILE ... daemon_user_table.incl.pl1 */
      144 
      145  /* BEGIN INCLUDE FILE ... dialup_values.incl.pl1 */
  4     2 
  4     3 /* format: style4 */
  4     4 
  4     5 /* Values for "cdte.tra_vec" used by dialup_ and others. */
  4     6 
  4     7 /* Modified by T. Casey April 1976 to add WAIT_NEW_PASSWORD
  4     8*   -		in 1977 and 1978 to add WAIT_(GREETING_MSG DELETE_CHANNEL)
  4     9*   -		and in October 1979 to add WAIT_CONNECT_REQUEST
  4    10*   Modified by Robert Coren in May 1981 to add TANDD_ATTACH values and 
  4    11*		WAIT_DISCARD_WAKEUP
  4    12*   Modified by T. Casey, July 1981, for MR9.0, to add WAIT_BEFORE_HANGUP.
  4    13*   Modified by E. N. Kittlitz, July 1982, to add TTY_MASKED.
  4    14**/
  4    15 
  4    16 /****^  HISTORY COMMENTS:
  4    17*  1) change(87-04-20,GDixon), approve(87-07-13,MCR7741),
  4    18*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  4    19*     Add constant arrays naming cdte.state, cdte.tra_vec and ute.active values.
  4    20*  2) change(87-05-11,GDixon), approve(87-07-13,MCR7741),
  4    21*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  4    22*     Add named constants for instance tags.
  4    23*                                                   END HISTORY COMMENTS */
  4    24 
  4    25 dcl  (WAIT_DIALUP init (1),				/* Channel waiting for dialup. */
  4    26      WAIT_ANSWERBACK initial (2),			/* WRU sent, waiting for reply */
  4    27      WAIT_LOGIN_LINE init (3),			/* Greeting typed, wait for login command. */
  4    28      WAIT_LOGIN_ARGS init (4),			/* Want rest of login line */
  4    29      WAIT_OLD_PASSWORD init (5),			/* "-cpw" was specified. Wait for old password. */
  4    30      WAIT_PASSWORD init (6),				/* Waiting for password. (If "-cpw", repeat of new one.) */
  4    31      WAIT_NEW_PASSWORD init (7),			/* "-cpw" was specified. Wait for new password */
  4    32      WAIT_LOGOUT_SIG init (8),			/* Channel is hooked up. Wait for logout. */
  4    33      WAIT_LOGOUT init (9),				/* A logout has been requested. Wait for process to die */
  4    34      WAIT_LOGOUT_HOLD init (10),			/* As above but don't hang up when it dies. */
  4    35      WAIT_DETACH init (11),				/* As above but ignore channel afterwards. */
  4    36      WAIT_NEW_PROC init (12),				/* As above but make new process and continue. */
  4    37      WAIT_REMOVE init (13),				/* As above but completely expunge channel. */
  4    38      WAIT_FIN_PRIV_ATTACH init (14),			/* When channel dials up, connect it to user */
  4    39      WAIT_DIAL_RELEASE init (15),			/* Waiting for master process to release. */
  4    40      WAIT_DIAL_OUT init (16),				/* Waiting for auto call to complete */
  4    41      WAIT_HANGUP init (17),				/* Wait for the hangup event to occur for a channel */
  4    42      WAIT_SLAVE_REQUEST init (18),			/* Ignore line until someone asks */
  4    43      WAIT_GREETING_MSG init (19),			/* Print greeting message and wait for login line */
  4    44      WAIT_DELETE_CHANNEL init (20),			/* Channel deleted - mark cdte after process is destroyed */
  4    45      WAIT_CONNECT_REQUEST init (21),			/* logged in; awaiting request re disconnected processes */
  4    46      WAIT_TANDD_HANGUP init (22),			/* when channel hangs up, proceed with t & d attachment */
  4    47      WAIT_FIN_TANDD_ATTACH init (23),			/* when channel dials up, finish t & d attachment */
  4    48      WAIT_DISCARD_WAKEUPS init (24),			/* disregard all wakeups on channel */
  4    49      WAIT_BEFORE_HANGUP init (25),			/* allow output to print before hanging up */
  4    50      WAIT_DESTROY_REQUEST init (26),			/* waiting to continue with destroy request after process has destroyed itself */
  4    51      WAIT_NEW_PROC_REQUEST init (27)			/* waiting to continue with new_proc request after process has destroyed itself */
  4    52      ) fixed bin internal static options (constant);
  4    53 
  4    54 dcl  TRA_VEC_VALUES (0:13) char (32) aligned int static options (constant) init
  4    55 						/* names of ute.destroy_flag values */
  4    56 	("", "wait dialup", "wait answerback", "wait login line", /*  0-3  */
  4    57 	"wait login args", "wait old password", "wait password",  /*  4-6  */
  4    58 	"wait new password", "wait logout signal", "wait logout", /*  7-9  */
  4    59 	"wait logout hold", "wait detach", "wait new proc",       /* 10-12 */
  4    60 	"wait remove");				        /*   -13 */
  4    61 
  4    62 /* Values for "cdte.state", typewriter state. */
  4    63 
  4    64 dcl  (TTY_MASKED init (-1),				/* Terminal channel is there, but masked by MCS */
  4    65      TTY_HUNG init (1),				/* Terminal channel is there, but dead. */
  4    66      TTY_KNOWN init (2),				/* Channel being "listened" to, awaiting dialup. */
  4    67      TTY_DIALED init (5)				/* Channel is dialed up. This is normal state. */
  4    68      ) fixed bin internal static options (constant);
  4    69 
  4    70 dcl  STATE_VALUES (-1:5) char (15) aligned int static options (constant) init
  4    71 						/* names of cdte.state values */
  4    72 	("masked", "dead", "hung up", "listening", "", "", "dialed up");
  4    73 
  4    74 /* Values for "cdte.in_use" and "ate.active" */
  4    75 
  4    76 dcl  (NOW_FREE init (0),				/* Entry is empty. */
  4    77      NOW_HUNG_UP init (1),				/* Entry is usable but tty is hung up. */
  4    78      NOW_LISTENING init (2),				/* Entry is waiting for phone call. */
  4    79      NOW_DIALED init (3),				/* Entry is connected but login not complete. */
  4    80      NOW_LOGGED_IN init (4),				/* Entry is logged in but no process. */
  4    81      NOW_HAS_PROCESS init (5),			/* Entry has a valid process. */
  4    82      NOW_DIALING init (6),				/* Entry (auto_call line) is dialing */
  4    83      NOW_DIALED_OUT init (7)				/* Entry (auto_call line) is in use */
  4    84      ) fixed bin internal static options (constant);
  4    85 
  4    86 dcl  ACTIVE_VALUES (0:5) char (18) aligned int static options (constant) init
  4    87 						/* names of ute.active values */
  4    88 	("free", "hung-up", "listening", "dialed", "logged in, no proc", "logged in & proc");
  4    89 
  4    90 
  4    91 /**** Values for ute.tag */
  4    92 
  4    93 dcl (TAG_INTERACTIVE init("a"),
  4    94      TAG_UFT init("f"),
  4    95      TAG_ABSENTEE init("m"),
  4    96      TAG_PROXY init("p"),
  4    97      TAG_DAEMON init("z")
  4    98      ) char(1) int static options(constant);
  4    99 
  4   100 
  4   101 /**** Following are constants used to indicate to the process termination
  4   102*      handler the reason for the process termination.  They are used by
  4   103*      uc_proc_term_handler_, as well as uc_ls_new_proc_request_ and
  4   104*      uc_ls_destroy_request_. */
  4   105 
  4   106 dcl  (
  4   107      PT_FPE initial (1),
  4   108      PT_LOGOUT initial (4),
  4   109      PT_NEW_PROC_AUTH initial (13),
  4   110      PT_HANGUP initial (20),
  4   111      PT_SHUTDOWN initial (21),
  4   112      PT_BUMP initial (22),
  4   113      PT_ALARM initial (23),
  4   114      PT_DETACH initial (24),
  4   115      PT_UNBUMP initial (25),
  4   116      PT_OPERATOR_TERMINATE initial (27),
  4   117      PT_DESTROY_REQUEST initial (30),
  4   118      PT_NEW_PROC_REQUEST initial (31)
  4   119      ) fixed bin (17) internal static options (constant);
  4   120 
  4   121 /**** Values for ute.preempted:
  4   122*  -1  user unbumped after term signal sent
  4   123*   0  user unbumped; ignore alarm___
  4   124*   1  value internally used in load_ctl_
  4   125*   2  user bumped; when alarm___ comes in, send term signal
  4   126*   3  term signal sent; destroy process if termsgnl, alarm___, or cpulimit 
  4   127*      signals come in
  4   128*   4  user bumped; process sick, so destroy without sending term signal
  4   129*   5  trm_ signal sent, termsgnl received; (if still 3, we never got the 
  4   130*      termsgnl).						       */
  4   131 
  4   132 dcl  (
  4   133      PREEMPT_UNBUMP initial (-1),
  4   134      PREEMPT_UNBUMP_IGNORE_ALARM initial (0),
  4   135      PREEMPT_LOAD_CTL initial (1),
  4   136      PREEMPT_BUMPED initial (2),
  4   137      PREEMPT_TERM_SENT initial (3),
  4   138      PREEMPT_BUMPED_NO_TERM initial (4),
  4   139      PREEMPT_TERMSGNL_RECEIVED initial (5)
  4   140      ) fixed bin (17) internal static options(constant);
  4   141 
  4   142 dcl  PREEMPT_VALUES (-1:5) char(28) varying int static options(constant) init(
  4   143 	"unbumped",
  4   144 	"not bumped, ignore alarm___",
  4   145 	"load_ctl_",
  4   146 	"bumped",
  4   147 	"bumped, trm_ sent",
  4   148 	"bumped without trm_",
  4   149 	"bumped, termsgnl received");
  4   150 
  4   151 /* END INCLUDE FILE ... dialup_values.incl.pl1 */
      145 
      146  /* BEGIN INCLUDE FILE ... user_attributes.incl.pl1  TAC 10/79 */
  5     2 
  5     3 
  5     4 /****^  HISTORY COMMENTS:
  5     5*  1) change(86-12-11,Brunelle), approve(87-07-13,MCR7741),
  5     6*     audit(87-04-19,GDixon), install(87-08-04,MR12.1-1056):
  5     7*     Add incl for abs_attributes.incl.pl1 to automatically include absentee
  5     8*     attribute switches.
  5     9*  2) change(87-04-19,GDixon), approve(87-07-13,MCR7741),
  5    10*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  5    11*      A) Add USER_ATTRIBUTE_NAMES arrays.  attribute_names.incl.pl1 can thereby
  5    12*         be deleted.
  5    13*      B) Add constants identifying attributes that can be changed by user at
  5    14*         login, etc.
  5    15*                                                   END HISTORY COMMENTS */
  5    16 
  5    17 
  5    18 /* Modified 82-01-03  E. N. Kittlitz.  to declare a complete level-1 structure */
  5    19 
  5    20 /* format: style4 */
  5    21 dcl  1 user_attributes aligned based,			/* the user user_attributes */
  5    22        (2 administrator bit (1),			/* 1  system administrator privileges */
  5    23        2 primary_line bit (1),			/* 2  user has primary-line privileges  */
  5    24        2 nobump bit (1),				/* 2  user cannot be bumped */
  5    25        2 guaranteed_login bit (1),			/* 4  user has guaranteed login privileges */
  5    26        2 anonymous bit (1),				/* 5  used only in SAT. project may have anon.users */
  5    27        2 nopreempt bit (1),				/* 6  used only in PDT. user not preemptable by others
  5    28*						   .  of same project (distinct from "nobump") */
  5    29        2 nolist bit (1),				/* 7  don't list user on "who" */
  5    30        2 dialok bit (1),				/* 8  user may have multiple consoles */
  5    31        2 multip bit (1),				/* 9  user may have several processes */
  5    32        2 bumping bit (1),				/* 10 in SAT. Can users in project bump each other? */
  5    33        2 brief bit (1),				/* 11 no login or logout message */
  5    34        2 vinitproc bit (1),				/* 12 user may change initial procedure */
  5    35        2 vhomedir bit (1),				/* 13 user may change homedir */
  5    36        2 nostartup bit (1),				/* 14 user does not want start_up.ec */
  5    37        2 sb_ok bit (1),				/* 15 user may be standby */
  5    38        2 pm_ok bit (1),				/* 16 user may be primary */
  5    39        2 eo_ok bit (1),				/* 17 user may be edit_only */
  5    40        2 daemon bit (1),				/* 18 user may login as daemon */
  5    41        2 vdim bit (1),				/* 19 * OBSOLETE * user may change outer mdle */
  5    42        2 no_warning bit (1),				/* 20 no warning message */
  5    43        2 igroup bit (1),				/* 21 in SAT: this project may give its users individual groups
  5    44*						   .  in PDT: this user has an individual load control group */
  5    45        2 save_pdir bit (1),				/* 22 save pdir after fatal process error */
  5    46        2 disconnect_ok bit (1),			/* 23 ok to save user's disconnected processes */
  5    47        2 save_on_disconnect bit (1),			/* 24 save them unless -nosave login arg is given */
  5    48        2 pad bit (12)) unaligned;
  5    49 
  5    50 dcl  USER_ATTRIBUTE_NAMES (0:24) char (20) int static options (constant) init
  5    51     ("none",					/* 0 */
  5    52      "administrator",				/* 1 */
  5    53      "primary_line",				/* 2 */
  5    54      "nobump",					/* 3 */
  5    55      "guaranteed_login",				/* 4 */
  5    56      "anonymous",					/* 5 */
  5    57      "nopreempt",					/* 6 */
  5    58      "nolist",					/* 7 */
  5    59      "dialok",					/* 8 */
  5    60      "multip",					/* 9 */
  5    61      "bumping",					/* 10 */
  5    62      "brief",					/* 11 */
  5    63      "vinitproc",					/* 12 */
  5    64      "vhomedir",					/* 13 */
  5    65      "nostartup",					/* 14 */
  5    66      "no_secondary",				/* 15 */
  5    67      "no_prime",					/* 16 */
  5    68      "no_eo",					/* 17 */
  5    69      "daemon",					/* 18 */
  5    70      "",						/* 19 vdim OBSOLETE */
  5    71      "no_warning",					/* 20 */
  5    72      "igroup",					/* 21 */
  5    73      "save_pdir",					/* 22 */
  5    74      "disconnect_ok",				/* 23 */
  5    75      "save_on_disconnect");				/* 24 */
  5    76 
  5    77 dcl  ALT_USER_ATTRIBUTE_NAMES (0:24) char (20) int static options (constant) init
  5    78     ("null",					/* 0 */
  5    79      "admin",					/* 1 */
  5    80      "", "",					/* 2 - 3 */
  5    81      "guar",					/* 4 */
  5    82      "anon",					/* 5 */
  5    83      "", "",					/* 6 - 7 */
  5    84      "dial",					/* 8 */
  5    85      "multi_login",					/* 9 */
  5    86      "preempting",					/* 10 */
  5    87      "",						/* 11 */
  5    88      "v_process_overseer",				/* 12 */
  5    89      "v_home_dir",					/* 13 */
  5    90      "no_start_up",					/* 14 */
  5    91      "no_sec",					/* 15 */
  5    92      "no_primary",					/* 16 */
  5    93      "no_edit_only",				/* 17 */
  5    94      "op_login",					/* 18 */
  5    95      "",						/* 19 */
  5    96      "nowarn",					/* 20 */
  5    97      "", "", "",					/* 21 - 23 */
  5    98      "save");					/* 24 */
  5    99 
  5   100 dcl  USER_ATTRIBUTES_always_allowed bit (36) aligned int static
  5   101      options(constant) init("000000000010000000010000000000000000"b);
  5   102     /* SAT/PDT attributes not needed for user to give (brief, no_warning) */
  5   103 
  5   104 dcl  USER_ATTRIBUTES_default_in_pdt bit (36) aligned int static
  5   105      options(constant) init("000000000010000000010000000000000000"b);
  5   106     /* PDT value for (brief, no_warning) is default */
  5   107 
  5   108 dcl  USER_ATTRIBUTES_settable_by_user bit (36) aligned int static
  5   109      options(constant) init("000100000110010000010000000000000000"b);	
  5   110     /* user MIGHT set (bump, ns, brief, guar, no_warning) */
  5   111 
  6     1 /* BEGIN INCLUDE FILE ... user_abs_attributes.incl.pl1 */
  6     2 
  6     3 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  6     4 /*							       */
  6     5 /* This include file describes the attributes of an absentee job.  It is     */
  6     6 /* used by user_table_entry.incl.pl1, abs_message_format.incl.pl1            */
  6     7 /* and PIT.incl.pl1.   */
  6     8 /*							       */
  6     9 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  6    10 
  6    11 /****^  HISTORY COMMENTS:
  6    12*  1) change(86-12-08,GDixon), approve(87-07-13,MCR7741),
  6    13*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  6    14*     Separated abs_attributes from the request structure
  6    15*     (abs_message_format.incl.pl1) so that the identical structure could be
  6    16*     used in the ute structure (user_table_entry.incl.pl1).
  6    17*  2) change(87-04-19,GDixon), approve(87-07-13,MCR7741),
  6    18*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  6    19*     Added ABS_ATTRIBUTE_NAMES array.
  6    20*  3) change(87-11-11,Parisek), approve(88-02-11,MCR7849),
  6    21*     audit(88-03-22,Lippard), install(88-07-13,MR12.2-1047):
  6    22*     Added the no_start_up flag. SCP6367
  6    23*                                                   END HISTORY COMMENTS */
  6    24 
  6    25 dcl 1 user_abs_attributes		aligned based,
  6    26       2 restartable			bit (1) unaligned,	/* 1 if request may be started over from the beginning */
  6    27       2 user_deferred_until_time	bit (1) unaligned,	/* 1 if request was specified as deferred */
  6    28       2 proxy			bit (1) unaligned,	/* 1 if request submitted for someone else */
  6    29       2 set_bit_cnt			bit (1) unaligned,	/* 1 if should set bit count after every write call */
  6    30       2 time_in_gmt			bit (1) unaligned,	/* 1 if deferred_time is in GMT */
  6    31       2 user_deferred_indefinitely	bit (1) unaligned,	/* 1 if operator is to say when to run it */
  6    32       2 secondary_ok		bit (1) unaligned,	/* 1 if ok to log in as secondary foreground user */
  6    33       2 truncate_absout		bit (1) unaligned,	/* 1 if .absout is to be truncated */
  6    34       2 restarted			bit (1) unaligned,	/* 1 if job is restarted */
  6    35       2 no_start_up                     bit (1) unaligned,	/* 1 if requested -ns */
  6    36       2 attributes_pad		bit (26) unaligned;
  6    37 
  6    38 dcl  ABS_ATTRIBUTE_NAMES (10) char (28) varying int static options(constant) init(
  6    39 	"restartable",
  6    40 	"user_deferred_until_time",
  6    41 	"proxy",
  6    42 	"set_bit_cnt",
  6    43 	"time_in_gmt",
  6    44 	"user_deferred_indefinitely",
  6    45 	"secondary_ok",
  6    46 	"truncate_absout",
  6    47 	"restarted",
  6    48 	"no_start_up");
  6    49 
  6    50 /* END INCLUDE FILE ... user_abs_attributes.incl.pl1 */
  6    51 
  5   112 
  5   113 
  5   114 /* END INCLUDE FILE ... user_attributes.incl.pl1 */
      146 
      147  /*  BEGIN INCLUDE FILE ... user_table_entry.incl.pl1 */
  7     2 
  7     3 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  7     4 /*							       */
  7     5 /* This include file requires that the user include		       */
  7     6 /* user_attributes.incl.pl1 as well.  It also includes		       */
  7     7 /* abs_attributes.incl.pl1 itself.				       */
  7     8 /*							       */
  7     9 /* This include file must be included to use absentee_user_table.incl.pl1,   */
  7    10 /* answer_table.incl.pl1, and daemon_user_table.incl.pl1.		       */
  7    11 /*							       */
  7    12 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  7    13 
  7    14 /****^  HISTORY COMMENTS:
  7    15*  1) change(81-12-21,Gilcrease), approve(86-03-27,MCR7370),
  7    16*     audit(86-06-23,Lippard), install(86-06-30,MR12.0-1082):
  7    17*     This comment for hcom.
  7    18*     81-12-21  E. N. Kittlitz. derived from abs_user_tab.incl.pl1,
  7    19*     anstbl.incl.pl1, and dutbl.incl.pl1.
  7    20*     82-01-02 E. N. Kittlitz. user_attributes.incl.pl1 changes
  7    21*     84-04-04 BIM added privileged_dial_server and dial_server_ring
  7    22*     84-07-12 BIM added min_process_authorization
  7    23*     84-12-31 Keith Loepere added pdir_dir_quota
  7    24*     85-01-16 by E. Swenson to add ute.session_uid
  7    25*  2) change(85-11-16,Swenson), approve(87-07-13,MCR7737),
  7    26*     audit(87-04-14,GDixon), install(87-08-04,MR12.1-1056):
  7    27*     Added fields for DSA login server support.
  7    28*  3) change(86-03-27,Gilcrease), approve(86-03-27,MCR7370),
  7    29*     audit(86-06-23,Lippard), install(86-06-30,MR12.0-1082):
  7    30*     Add truncate_absout and restarted bit for -truncate absout, SCP6297.
  7    31*  4) change(86-04-09,Herbst), approve(87-07-13,MCR7697),
  7    32*     audit(87-04-14,GDixon), install(87-08-04,MR12.1-1056):
  7    33*     Added disconnection_rel_minutes.
  7    34*  5) change(86-12-08,GDixon), approve(87-07-13,MCR7741),
  7    35*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  7    36*     Changed structure under ute.abs_attributes to use like structure in
  7    37*     abs_attributes.incl.pl1.  This allows the same attributes to be used
  7    38*     in abs_message_format.incl.pl1 and pit.incl.pl1 as well as this include
  7    39*     file.
  7    40*  6) change(87-04-14,GDixon), approve(87-07-13,MCR7741),
  7    41*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  7    42*     Move constants for ute.pw_flags.mask_ctl from answer_table.incl.pl1.
  7    43*  7) change(87-04-16,GDixon), approve(87-07-13,MCR7741),
  7    44*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  7    45*      A) Global reorganization to locate things by type of data.
  7    46*      B) Eliminate ute.uflags.logged_in.
  7    47*  8) change(87-05-10,GDixon), approve(87-07-13,MCR7741),
  7    48*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  7    49*      A) Reduced overlength person and project fields to proper length.
  7    50*      B) Adjusted dialed-console section to begin on even word boundary.
  7    51*  9) change(87-05-13,GDixon), approve(87-07-13,MCR7741),
  7    52*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  7    53*     Add ute.line_type.
  7    54* 10) change(87-11-19,Parisek), approve(88-02-11,MCR7849),
  7    55*     audit(88-02-23,Lippard), install(88-07-13,MR12.2-1047):
  7    56*     Added the lowest_ring element. Used the upper half of ute.highest_ring
  7    57*     for the storage.  SCP6367
  7    58*                                                   END HISTORY COMMENTS */
  7    59 
  7    60 /* format: style4 */
  7    61 
  7    62 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  7    63 /*							       */
  7    64 /* Each of the named sections below defines a type of data.  Typing comes    */
  7    65 /* from data associated with the ute entry itself, with the person, with     */
  7    66 /* login argument data, from the main user of the data (eg, dialup_,	       */
  7    67 /* load_ctl_, login server).  Each section begins on a double-word boundary  */
  7    68 /* and is an even number of words long.  The total structure is 300 decimal  */
  7    69 /* words long.						       */
  7    70 /*							       */
  7    71 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  7    72 
  7    73 
  7    74 dcl  UTE_version_4 fixed bin internal static options (constant) init (4);
  7    75 
  7    76 dcl  utep pointer automatic init (null);
  7    77 
  7    78 dcl  1 ute based (utep) aligned,			/* individual entry in one of the user control tables */
  7    79 
  7    80 /* Variables which give state of this entry */
  7    81        2 active fixed bin,				/* state of entry. 0=>free. see dialup_values.incl.pl1 */
  7    82        2 process_type fixed bin,			/* 1=interactive, 2=absentee, 3=daemon */
  7    83        2 ute_index fixed bin,				/* index of ute in (anstbl autbl dutbl).entry array */
  7    84        2 next_free fixed bin,				/* points to previous free entry */
  7    85 
  7    86 /* Information user gave about person_id associated with this entry. */
  7    87        2 person char (24) unal,			/* user's name */
  7    88        2 project char (12) unal,			/* project of absentee user */
  7    89        2 tag char (1) unal,				/* instance tag - someday will be generated */
  7    90        2 tag_pad bit (27) unal,
  7    91        2 anonymous fixed bin,				/* 1 if anonymous, otherwise 0 */
  7    92        2 login_flags,				/* flags for login data */
  7    93          3 cpw bit (1) unal,				/* flag for wish to change password */
  7    94          3 generate_pw bit (1) unal,			/* flag meaning -generate_pw (-gpw) was used. */
  7    95          3 special_pw unal,				/* dial or slave */
  7    96 	 4 dial_pw bit (1) unal,			/* true if dial -user */
  7    97 	 4 slave_pw bit (1) unal,			/* true if slave -user */
  7    98          3 cdp bit (1) unal,				/* flag for wish to change default project */
  7    99          3 cda bit (1) unal,				/* flag to change default authorization */
  7   100          3 auth_given bit (1) unal,			/* flag to mean -authorization was used. */
  7   101          3 noprint bit (1) unal,			/* used at logout. inhibits printing. */
  7   102          3 operator bit (1) unaligned,			/* user specified -operator on login command line */
  7   103          3 pw_pad bit (25) unal,			/* spare parts */
  7   104          3 mask_ctl bit (2) unal,			/* bits controlling pw mask. See constants, below */
  7   105 						/* Must remain last in pw_flags so it does not */
  7   106 						/* appear in PW_FLAG_VALUES array below. */
  7   107        2 generated_pw char (8) unal,			/* user must type this as new password */
  7   108        2 old_password char (8) unal,			/* must match user's previous password (value scrambled) */
  7   109        2 process_authorization bit (72),		/* access_authorization of this process */
  7   110 
  7   111 /* Information user gave about process associated with this entry. */
  7   112        2 outer_module char (32) unal,			/* Name of console dim */
  7   113        2 home_dir char (64) unal,			/* initial home directory */
  7   114        2 init_proc char (64) unal,			/* name of login responder */
  7   115        2 ip_len fixed bin (17) unal,			/* length of initproc string */
  7   116        2 ss_len fixed bin (17) unal,			/* length of subsystem string */
  7   117        2 ur_at like user_attributes aligned,		/* bits on means attributes given by user */
  7   118        2 at like user_attributes aligned,		/* bits on means attribute is on */
  7   119        2 initial_ring fixed bin,			/* ring process will be started in */
  7   120        2 arg_count fixed bin,				/* number of arguments to absentee control segment */
  7   121        2 ln_args fixed bin,				/* length of string containing arguments */
  7   122        2 arg_lengths_ptr ptr,				/* pointer to array of argument lengths */
  7   123        2 args_ptr ptr,				/* pointer to arguments to absentee control segment */
  7   124 
  7   125 /* Most of the following information is relevant only to absentee processes */
  7   126        2 input_seg char (168) unal,			/* pathname of absentee control segment */
  7   127        2 output_seg char (168) unal,			/* pathname of absentee output file */
  7   128        2 request_id fixed bin (71),			/* time request was entered - used as uid of request */
  7   129        2 reservation_id fixed bin (71),			/* nonzero if job has a resource reservation */
  7   130        2 message_id bit (72),				/* message segment id assoc with absentee request */
  7   131        2 deferred_time fixed bin (71),			/* time at which absentee process should be created */
  7   132        2 max_cpu_time fixed bin (35),			/* maximum number of seconds this process can run */
  7   133        2 queue fixed bin,				/* -1=daemon;0=interactive or foreground;>0=queue no.
  7   134*						   (but see uflags.adjust_abs_q_no). */
  7   135        2 real_queue fixed bin,			/* real queue number; ute.queue gets fudged sometimes */
  7   136        2 abs_attributes aligned like user_abs_attributes,	/* include abs_attributes.incl.pl1 */
  7   137        2 abs_flags,
  7   138          3 abs_run bit (1) unal,			/* on if job was started by abs run command */
  7   139          3 notify bit (1) unal,			/* on if user wants notification at login and logout */
  7   140          3 abs_flags_pad bit (34) unal,
  7   141        2 abs_group char (8) unal,			/* original group before load_ctl_ moves it to absentee group */
  7   142        2 sender char (32) unal,			/* name of RJE station that job is from */
  7   143        2 proxy_person char (28) unal,			/* name of user who actually entered the request, if proxy */
  7   144        2 proxy_project char (9) unal,
  7   145        2 proxy_project_pad char (3) unal,
  7   146        2 abs_pad fixed bin,
  7   147 
  7   148 /* Information about process actually created */
  7   149        2 proc_id bit (36),				/* process id of absentee process */
  7   150        2 session_uid fixed bin (35),			/* Unique authentication session id */
  7   151        2 process_authorization_range (2) bit (72) aligned,
  7   152        2 audit bit (36),				/* audit flags for user */
  7   153        2 lot_size fixed bin,				/* Size of linkage offset table */
  7   154        2 kst_size fixed bin,				/* Size of process known segment table */
  7   155        2 cls_size fixed bin,				/* Size of process combined linkage */
  7   156        2 sus_channel fixed bin (71),			/* event channel on which suspended process is blocked */
  7   157        2 lowest_ring fixed bin (17) unal,		/* lowest ring permitted */
  7   158        2 highest_ring fixed bin (17) unal,		/* highest ring permitted */
  7   159        2 pdir_lvix fixed bin (17) unal,			/* index in disk table of lv where pdir is */
  7   160        2 pdir_quota fixed bin (17) unal,		/* process directory quota */
  7   161        2 pdir_dir_quota fixed bin (17) unal,		/* process directory quota for dirs */
  7   162        2 pdir_pad fixed bin(17) unal,
  7   163        2 process_pad fixed bin,
  7   164 
  7   165 /* Information about primary terminal associated with this entry */
  7   166        2 tty_name char (32) unal,			/* absentee=>"abs1", etc.  daemon=>"bk", etc. */
  7   167        2 terminal_type char (32) unaligned,		/* terminal type */
  7   168        2 line_type fixed bin,				/* line type */
  7   169        2 tty_id_code char (4) unal,			/* "none" for absentee */
  7   170        2 network_connection_type fixed bin,		/* see net_event_message.incl.pl1 */
  7   171        2 channel ptr unal,				/* points to CDT entry for user, if any */
  7   172 
  7   173 /* Variables useful for dialed terminals */
  7   174        2 ndialed_consoles fixed bin,			/* if master, number of slaves */
  7   175        2 dial_qualifier char (22) unal,			/* first argument to dial command */
  7   176        2 dial_server_ring fixed bin (3) unsigned unaligned, /* dial server intends to attach dialing in channels at this ring. */
  7   177        2 dial_server_flags,
  7   178          3 registered_dial_server bit (1) unal,		/* process is a registered dial server */
  7   179          3 privileged_dial_server bit (1) unal,		/* "1"b -> serves range of AIM classes */
  7   180          3 dial_server_flags_pad bit (13) unal,		/* fill out the word */
  7   181        2 dial_ev_chn fixed bin (71),			/* if master, control event channel */
  7   182 
  7   183 /* Information about usage/accounting.  Device usage meters are in a
  7   184*   separate segment, "devtab" */
  7   185        2 pdtep ptr,					/* ptr to user's pdt entry, where usage meters live */
  7   186        2 cpu_this_process fixed bin (71),		/* cpu used so far this process */
  7   187        2 cpu_usage fixed bin (71),			/* total cpu time used in this session */
  7   188        2 mem_usage fixed bin (71),			/* memory usage for previous processes in session */
  7   189        2 mem_this_process fixed bin (71),		/* memory usage at last update */
  7   190        2 last_update_time fixed bin (71),		/* time of last account update */
  7   191        2 session_cost float bin,			/* dollar cost of session, for printing in logout messages */
  7   192        2 ndevices fixed bin,				/* Count of attached devices */
  7   193        2 device_head fixed bin,			/* Table index of head of device chain */
  7   194        2 device_tail fixed bin,			/* Table index of tail of device chain */
  7   195        2 rs_number fixed bin (6) unsigned unal,		/* rate structure number */
  7   196        2 rs_number_pad bit(30) unal,
  7   197        2 usage_pad fixed bin,
  7   198 
  7   199 /* Information for dialup_ (control variables). */
  7   200        2 event fixed bin (71),			/* event associated with channel or user manager */
  7   201        2 uprojp ptr,				/* ptr to user project sat entry */
  7   202        2 login_time fixed bin (71),			/* time when absentee user approved by lg_ctl_ */
  7   203        2 cant_bump_until fixed bin (71),		/* bump-protection clock */
  7   204        2 recent_fatal_error_time fixed bin (71),		/* time of first error in the suspected loop */
  7   205        2 recent_fatal_error_count fixed bin,		/* counter to detect fatal process error loops */
  7   206        2 failure_reason fixed bin,			/* why login refused 1=lg_ctl, 2=act_ctl, 3=load_ctl */
  7   207        2 count fixed bin,				/* counter for logins and dialups */
  7   208        2 n_processes fixed bin,			/* number of processes created in this session */
  7   209        2 lock_value fixed bin,			/* number of locks set for this entry */
  7   210        2 login_result fixed bin,			/* 0=logged in;1=hopeless,hang him up;2=allow another attempt */
  7   211        2 login_code char (8) unal,			/* login command from LOGIN line */
  7   212        2 preempted fixed bin,				/* if ^= 0 user preempted (never for abs) */
  7   213        2 destroy_flag fixed bin,			/* >8 when awaiting destroy */
  7   214        2 logout_type char (4) unal,			/* type of logout */
  7   215        2 logout_index fixed bin,			/* to save logout handler index while waiting for termsgnl */
  7   216        2 disconnection_rel_minutes fixed bin (17) unal,	/* disconnected this many minutes after login_time */
  7   217        2 next_disconnected_ate_index fixed bin (17) unal,	/* thread of list of user's disconnected processes */
  7   218        2 work_class fixed bin,			/* work class used by priority scheduler */
  7   219        2 group char (8) unal,				/* party group identifier */
  7   220        2 whotabx fixed bin,				/* index of user's entry in whotab */
  7   221 
  7   222        2 uflags,					/* Miscellaneous flags */
  7   223          3 dont_call_init_admin bit (1) unal,		/* Call overseer directly */
  7   224          3 ip_given bit (1) unal,			/* user gave an initproc arg on login line */
  7   225          3 ss_given bit (1) unal,			/* initial_procedure contains a subsystem name */
  7   226          3 lvs_attached bit (1) unal,			/* set and used by the lv_request_ procedure */
  7   227          3 send_initial_string bit (1) unal,		/* initial string should be sent after login line read */
  7   228          3 adjust_abs_q_no bit (1) unal,		/* this is an absentee job; user_profile.queue is NOT true Q # */
  7   229          3 foreground_secondary_ok bit (1) unal,		/* ok to login foreground absentee job as secondary */
  7   230          3 foreground_job bit (1) unal,			/* job was originally from foreground queue */
  7   231          3 sus_sent bit (1) unal,			/* sus_ ips signal has been sent to process */
  7   232          3 suspended bit (1) unal,			/* process has responded to sus_ signal */
  7   233          3 ignore_cpulimit bit (1) unal,		/* process is released, but timer can't be turned off */
  7   234          3 deferral_logged bit (1) unal,		/* abs job deferral has already been logged once */
  7   235          3 save_if_disconnected bit (1) unal,		/* user wants process preserved across hangups */
  7   236          3 disconnected bit (1) unal,			/* process is disconnected from terminal */
  7   237          3 disconnected_list bit (1) unal,		/* this ate is on a list of disconnected processes */
  7   238          3 proc_create_ok bit (1) unal,			/* lg_ctl_ has set the process creation variables */
  7   239          3 activity_can_unbump bit (1) unal,		/* only bump pending is for inactivity */
  7   240          3 fpe_causes_logout bit (1) unal,		/* "1"b means don't try to new_proc after fatal process error */
  7   241          3 user_specified_immediate bit (1) unal,		/* "1"b -> don't wait around for process destruction. */
  7   242          3 uflags_pad bit (17) unal,
  7   243 
  7   244 /* Information used by load_ctl_ for the process */
  7   245        2 user_weight fixed bin,			/* usually 10 - used in load control */
  7   246        2 standby_line fixed bin,			/* 0=user has primary line, 1=standby user */
  7   247        2 bump_grace fixed bin (71),			/* bump grace in microseconds */
  7   248 
  7   249 
  7   250 /* Information for login server */
  7   251        2 login_server_info,
  7   252          3 our_handle bit (72) aligned,			/* how LS refers to us. */
  7   253          3 his_handle bit (72) aligned,			/* how we talk to LS */
  7   254          3 termination_event_channel fixed bin (71),	/* for process termination notifications to the LS */
  7   255          3 response_event_channel fixed bin (71),		/* for other communications with the LS */
  7   256          3 process_id bit (36) aligned,			/* process_id of login server */
  7   257        2 ls_pad (5) fixed bin;			/* pad to 300 decimal words */
  7   258 
  7   259 /* values for ute.process_type */
  7   260 
  7   261 dcl  (PT_INTERACTIVE initial (1),
  7   262      PT_ABSENTEE initial (2),
  7   263      PT_DAEMON initial (3)) fixed bin internal static options (constant);
  7   264 
  7   265 dcl  PROCESS_TYPE_NAMES (0:3) char(12) varying int static options(constant) init(
  7   266 	"INVALID-TYPE",
  7   267 	"interactive",
  7   268 	"absentee",
  7   269 	"daemon");
  7   270 
  7   271 dcl  TABLE_NAMES (0:3) char(20) int static options(constant) init(
  7   272 	"UNKNOWN-TABLE",
  7   273 	"answer_table",
  7   274 	"absentee_user_table",
  7   275 	"daemon_user_table");
  7   276 
  7   277 
  7   278 /* values for ute.pw_flags.mask_ctl  */
  7   279 
  7   280 dcl  (DO_MASK init ("00"b),
  7   281      DONT_MASK init ("01"b),
  7   282      DERIVE_MASK init ("10"b)) bit (2) internal static options (constant);
  7   283 
  7   284 dcl  MASK_CTL_NAMES (0:3) char(12) varying int static options(constant) init(
  7   285 	"do_mask", "dont_mask", "derive_mask", "");
  7   286 
  7   287 
  7   288 /* names for ute.pw_flags */
  7   289 
  7   290 dcl  PW_FLAG_NAMES (9) char (12) varying int static options(constant) init(
  7   291 	"cpw",
  7   292 	"generate_pw",
  7   293 	"dial_pw",
  7   294 	"slave_pw",
  7   295 	"cdp",
  7   296 	"cda",
  7   297 	"auth_given",
  7   298 	"noprint",
  7   299 	"operator");
  7   300 
  7   301 /* names for ute.uflags */
  7   302 
  7   303 dcl  UFLAG_NAMES (19) char (24) varying int static options (constant) init (
  7   304 	"dont_call_init_admin",
  7   305 	"ip_given",
  7   306 	"ss_given",
  7   307 	"lvs_attached",
  7   308 	"send_initial_string",
  7   309 	"adjust_abs_q_no",
  7   310 	"foreground_secondary_ok",
  7   311 	"foreground_job",
  7   312 	"sus_sent",
  7   313 	"suspended",
  7   314 	"ignore_cpulimit",
  7   315 	"deferral_logged",
  7   316 	"save_if_disconnected",
  7   317 	"disconnected",
  7   318 	"disconnected_list",
  7   319 	"proc_create_ok",
  7   320 	"activity_can_unbump",
  7   321 	"fpe_causes_logout",
  7   322 	"user_specified_immediate");
  7   323 
  7   324 /* names for ute.abs_flags */
  7   325 
  7   326 dcl  ABS_FLAG_NAMES (2) char (8) varying int static options (constant) init (
  7   327 	"abs_run",
  7   328 	"notify");
  7   329 
  7   330 /* names of ute.dial_server_flags */
  7   331 
  7   332 dcl  DIAL_SERVER_FLAG_NAMES (2) char (12) varying int static options (constant) init (
  7   333 	"registered",
  7   334 	"privileged");
  7   335 
  7   336 /* values of ute.login_result */
  7   337 
  7   338 dcl  LOGIN_RESULT_VALUES (0:2) char(24) varying int static options(constant) init(
  7   339 	"logged in",
  7   340 	"login failed, hangup",
  7   341 	"login failed, try again");
  7   342 
  7   343 /*  END INCLUDE FILE ... user_table_entry.incl.pl1 */
      147 
      148  /* BEGIN INCLUDE FILE ... user_table_header.incl.pl1 */
  8     2 
  8     3 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  8     4 /*							       */
  8     5 /* This include file declares the header shared by the answer_table,	       */
  8     6 /* absentee_user_table and daemon_user_table include files.		       */
  8     7 /*							       */
  8     8 /* *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  * */
  8     9 
  8    10 /****^  HISTORY COMMENTS:
  8    11*  1) change(87-04-26,GDixon), approve(87-07-13,MCR7741),
  8    12*     audit(87-07-16,Brunelle), install(87-08-04,MR12.1-1056):
  8    13*     Initial coding.
  8    14*                                                   END HISTORY COMMENTS */
  8    15 
  8    16 dcl  1 ut_header			aligned based,	/* header shared by all user control tables. */
  8    17        2 header_version fixed bin,			/* version of the header (3) */
  8    18        2 entry_version fixed bin,			/* version of user table entries */
  8    19        2 user_table_type fixed bin,			/* 1 interactive, 2 absentee, 3 daemon */
  8    20        2 header_length fixed bin,			/* length of the header */
  8    21        2 max_size fixed bin,				/* max number of entries in this table */
  8    22        2 current_size fixed bin,			/* actual size of table (in entries) */
  8    23        2 number_free fixed bin,			/* number of free entries in the table. */
  8    24        2 first_free fixed bin,			/* index of first entry in the free list. */
  8    25        2 as_procid bit (36),				/* process ID of user table manager process */
  8    26        2 ut_header_pad fixed bin;
  8    27 
  8    28 /* END INCLUDE FILE ... user_table_header.incl.pl1 */
      148 
      149 
      150      end get_userid_;
	SOURCE FILES USED IN THIS COMPILATION.

LINE      NUMBER  DATE MODIFIED     NAME			PATHNAME
             0    07/13/88  0938.6  get_userid_.pl1                   >special_ldd>install>MR12.2-1047>get_userid_.pl1
142          1    08/06/87  0913.4  absentee_user_table.incl.pl1      >ldd>include>absentee_user_table.incl.pl1
143          2    08/06/87  0913.0  answer_table.incl.pl1             >ldd>include>answer_table.incl.pl1
144          3    08/06/87  0912.9  daemon_user_table.incl.pl1        >ldd>include>daemon_user_table.incl.pl1
145          4    08/06/87  0913.4  dialup_values.incl.pl1            >ldd>include>dialup_values.incl.pl1
146          5    08/06/87  0913.6  user_attributes.incl.pl1          >ldd>include>user_attributes.incl.pl1
5-112        6    07/13/88  0900.1  user_abs_attributes.incl.pl1      >special_ldd>install>MR12.2-1047>user_abs_attributes.incl.pl1
147          7    07/13/88  0903.2  user_table_entry.incl.pl1         >special_ldd>install>MR12.2-1047>user_table_entry.incl.pl1
148          8    08/06/87  0913.6  user_table_header.incl.pl1        >ldd>include>user_table_header.incl.pl1
	NAMES DECLARED IN THIS COMPILATION.

IDENTIFIER	     OFFSET    LOC STORAGE CLASS   DATA TYPE		ATTRIBUTES AND REFERENCES
								(* indicates a set context)

NAMES DECLARED BY DECLARE STATEMENT.
NOW_HAS_PROCESS                        constant        fixed bin(17,0)          initial dcl 4-76 ref 83 103 123
UTE_SIZE                               constant        fixed bin(17,0)          initial dcl 2-120 ref 82 82
abs_queue                              parameter       fixed bin(17,0)          dcl 29 set ref 59 90* 110* 130*
active                                 based           fixed bin(17,0)          level 2 dcl 7-78 ref 83 103 123
addr                                                   builtin function         dcl 47 ref 82 102 122
anon                                   parameter       fixed bin(17,0)          dcl 29 set ref 13 59 93* 113* 133*
anonymous                16            based           fixed bin(17,0)          level 2 dcl 7-78 ref 93 113 133
ansp                            000106 automatic       pointer                  initial dcl 2-53 set ref 71* 75 80 81 82 2-53*
anstbl                                 based           structure                level 1 dcl 2-55
autbl                                  based           structure                level 1 dcl 1-28
autp                            000104 automatic       pointer                  initial dcl 1-26 set ref 72* 75 100 101 101 102
                                                                                  1-26*
current_size              5            based           fixed bin(17,0)          level 3 in structure "dutbl" dcl 3-29 in procedure
                                                                                  "get_userid_" ref 121
current_size              5            based           fixed bin(17,0)          level 3 in structure "anstbl" dcl 2-55 in procedure
                                                                                  "get_userid_" ref 81
current_size              5            based           fixed bin(17,0)          level 3 in structure "autbl" dcl 1-28 in procedure
                                                                                  "get_userid_" ref 101
dutbl                                  based           structure                level 1 dcl 3-29
dutp                            000110 automatic       pointer                  initial dcl 3-27 set ref 73* 75 120 121 122 3-27*
ec                              000100 automatic       fixed bin(35,0)          dcl 39 set ref 64* 66* 68* 76
ecode                                  parameter       fixed bin(35,0)          dcl 29 set ref 13 59 63* 76* 140*
entry                   200            based           structure                array level 2 in structure "dutbl" dcl 3-29
                                                                                  in procedure "get_userid_" set ref 122
entry                   200            based           structure                array level 2 in structure "autbl" dcl 1-28
                                                                                  in procedure "get_userid_" set ref 102
entry                   200            based           structure                array level 2 in structure "anstbl" dcl 2-55
                                                                                  in procedure "get_userid_" set ref 82
error_table_$noentry            000020 external static fixed bin(35,0)          dcl 52 ref 140
hcs_$initiate                   000016 constant        entry                    external dcl 49 ref 64 66 68
header                                 based           structure                level 2 in structure "dutbl" dcl 3-29 in procedure
                                                                                  "get_userid_"
header                                 based           structure                level 2 in structure "anstbl" dcl 2-55 in procedure
                                                                                  "get_userid_"
header                                 based           structure                level 2 in structure "autbl" dcl 1-28 in procedure
                                                                                  "get_userid_"
i                               000101 automatic       fixed bin(17,0)          dcl 39 set ref 81* 82* 101* 102* 121* 122*
info_entry                      000102 automatic       bit(1)                   packed unaligned dcl 39 set ref 56* 61* 87 107 127
n_abs_run                12            based           fixed bin(17,0)          level 2 dcl 1-28 ref 101
null                                                   builtin function         dcl 47 ref 64 66 68 75 75 75 80 100 120 1-26 2-53
                                                                                  3-27 7-76
pers                                   parameter       char                     packed unaligned dcl 29 set ref 13 59 85* 105* 125*
person                    4            based           char(24)                 level 2 packed packed unaligned dcl 7-78 ref 85 105
                                                                                  125
proc_id                 276            based           bit(36)                  level 2 dcl 7-78 ref 84 104 124
process_type              1            based           fixed bin(17,0)          level 2 in structure "ute" dcl 7-78 in procedure
                                                                                  "get_userid_" ref 89 109 129
process_type                           parameter       fixed bin(17,0)          dcl 29 in procedure "get_userid_" set ref 59 89*
                                                                                  109* 129*
procid                                 parameter       bit(36)                  packed unaligned dcl 29 ref 13 59 84 104 124
proj                                   parameter       char                     packed unaligned dcl 29 set ref 13 59 86* 106* 126*
project                  12            based           char(12)                 level 2 packed packed unaligned dcl 7-78 ref 86 106
                                                                                  126
queue                   245            based           fixed bin(17,0)          level 2 dcl 7-78 ref 92 110 112 132
static_ansp                     000010 internal static pointer                  initial dcl 43 set ref 64 64* 71
static_autp                     000012 internal static pointer                  initial dcl 43 set ref 66 66* 72
static_dutp                     000014 internal static pointer                  initial dcl 43 set ref 68 68* 73
sysdir                          000000 constant        char(64)                 initial dcl 45 set ref 64* 66* 68*
tag                      15            based           char(1)                  level 2 in structure "ute" packed packed unaligned
                                                                                  dcl 7-78 in procedure "get_userid_" ref 88 108 128
tag                                    parameter       char                     packed unaligned dcl 29 in procedure "get_userid_"
                                                                                  set ref 59 88* 108* 128*
type                                   parameter       fixed bin(17,0)          dcl 29 set ref 13 92* 112* 132*
user_abs_attributes                    based           structure                level 1 dcl 6-25
user_attributes                        based           structure                level 1 dcl 5-21
ut_header                              based           structure                level 1 dcl 8-16
ute                                    based           structure                level 1 dcl 7-78
utep                            000112 automatic       pointer                  initial dcl 7-76 set ref 82* 83 84 85 86 88 89 92 93
                                                                                  102* 103 104 105 106 108 109 110 112 113 122* 123
                                                                                  124 125 126 128 129 132 133 7-76*

NAMES DECLARED BY DECLARE STATEMENT AND NEVER REFERENCED.
ABS_ATTRIBUTE_NAMES                    internal static varying char(28)         initial array dcl 6-38
ABS_FLAG_NAMES                         internal static varying char(8)          initial array dcl 7-326
ACTIVE_VALUES                          internal static char(18)                 initial array dcl 4-86
ALT_USER_ATTRIBUTE_NAMES               internal static char(20)                 initial array packed unaligned dcl 5-77
ANSTBL_version_4                       internal static fixed bin(17,0)          initial dcl 2-51
AT_NORMAL                              internal static char(8)                  initial packed unaligned dcl 2-116
AT_SHUTDOWN                            internal static char(8)                  initial packed unaligned dcl 2-116
AT_SPECIAL                             internal static char(8)                  initial packed unaligned dcl 2-116
AUTBL_CONTROL_NAMES                    internal static varying char(20)         initial array dcl 1-68
AUTBL_version_4                        internal static fixed bin(17,0)          initial dcl 1-24
DERIVE_MASK                            internal static bit(2)                   initial packed unaligned dcl 7-280
DIAL_SERVER_FLAG_NAMES                 internal static varying char(12)         initial array dcl 7-332
DONT_MASK                              internal static bit(2)                   initial packed unaligned dcl 7-280
DO_MASK                                internal static bit(2)                   initial packed unaligned dcl 7-280
DUTBL_version_4                        internal static fixed bin(17,0)          initial dcl 3-25
LOGIN_RESULT_VALUES                    internal static varying char(24)         initial array dcl 7-338
MASK_CTL_NAMES                         internal static varying char(12)         initial array dcl 7-284
NOW_DIALED                             internal static fixed bin(17,0)          initial dcl 4-76
NOW_DIALED_OUT                         internal static fixed bin(17,0)          initial dcl 4-76
NOW_DIALING                            internal static fixed bin(17,0)          initial dcl 4-76
NOW_FREE                               internal static fixed bin(17,0)          initial dcl 4-76
NOW_HUNG_UP                            internal static fixed bin(17,0)          initial dcl 4-76
NOW_LISTENING                          internal static fixed bin(17,0)          initial dcl 4-76
NOW_LOGGED_IN                          internal static fixed bin(17,0)          initial dcl 4-76
PREEMPT_BUMPED                         internal static fixed bin(17,0)          initial dcl 4-132
PREEMPT_BUMPED_NO_TERM                 internal static fixed bin(17,0)          initial dcl 4-132
PREEMPT_LOAD_CTL                       internal static fixed bin(17,0)          initial dcl 4-132
PREEMPT_TERMSGNL_RECEIVED              internal static fixed bin(17,0)          initial dcl 4-132
PREEMPT_TERM_SENT                      internal static fixed bin(17,0)          initial dcl 4-132
PREEMPT_UNBUMP                         internal static fixed bin(17,0)          initial dcl 4-132
PREEMPT_UNBUMP_IGNORE_ALARM            internal static fixed bin(17,0)          initial dcl 4-132
PREEMPT_VALUES                         internal static varying char(28)         initial array dcl 4-142
PROCESS_TYPE_NAMES                     internal static varying char(12)         initial array dcl 7-265
PT_ABSENTEE                            internal static fixed bin(17,0)          initial dcl 7-261
PT_ALARM                               internal static fixed bin(17,0)          initial dcl 4-106
PT_BUMP                                internal static fixed bin(17,0)          initial dcl 4-106
PT_DAEMON                              internal static fixed bin(17,0)          initial dcl 7-261
PT_DESTROY_REQUEST                     internal static fixed bin(17,0)          initial dcl 4-106
PT_DETACH                              internal static fixed bin(17,0)          initial dcl 4-106
PT_FPE                                 internal static fixed bin(17,0)          initial dcl 4-106
PT_HANGUP                              internal static fixed bin(17,0)          initial dcl 4-106
PT_INTERACTIVE                         internal static fixed bin(17,0)          initial dcl 7-261
PT_LOGOUT                              internal static fixed bin(17,0)          initial dcl 4-106
PT_NEW_PROC_AUTH                       internal static fixed bin(17,0)          initial dcl 4-106
PT_NEW_PROC_REQUEST                    internal static fixed bin(17,0)          initial dcl 4-106
PT_OPERATOR_TERMINATE                  internal static fixed bin(17,0)          initial dcl 4-106
PT_SHUTDOWN                            internal static fixed bin(17,0)          initial dcl 4-106
PT_UNBUMP                              internal static fixed bin(17,0)          initial dcl 4-106
PW_FLAG_NAMES                          internal static varying char(12)         initial array dcl 7-290
STATE_VALUES                           internal static char(15)                 initial array dcl 4-70
TABLE_NAMES                            internal static char(20)                 initial array packed unaligned dcl 7-271
TAG_ABSENTEE                           internal static char(1)                  initial packed unaligned dcl 4-93
TAG_DAEMON                             internal static char(1)                  initial packed unaligned dcl 4-93
TAG_INTERACTIVE                        internal static char(1)                  initial packed unaligned dcl 4-93
TAG_PROXY                              internal static char(1)                  initial packed unaligned dcl 4-93
TAG_UFT                                internal static char(1)                  initial packed unaligned dcl 4-93
TRA_VEC_VALUES                         internal static char(32)                 initial array dcl 4-54
TTY_DIALED                             internal static fixed bin(17,0)          initial dcl 4-64
TTY_HUNG                               internal static fixed bin(17,0)          initial dcl 4-64
TTY_KNOWN                              internal static fixed bin(17,0)          initial dcl 4-64
TTY_MASKED                             internal static fixed bin(17,0)          initial dcl 4-64
UFLAG_NAMES                            internal static varying char(24)         initial array dcl 7-303
USER_ATTRIBUTES_always_allowed         internal static bit(36)                  initial dcl 5-100
USER_ATTRIBUTES_default_in_pdt         internal static bit(36)                  initial dcl 5-104
USER_ATTRIBUTES_settable_by_user       internal static bit(36)                  initial dcl 5-108
USER_ATTRIBUTE_NAMES                   internal static char(20)                 initial array packed unaligned dcl 5-50
UTE_version_4                          internal static fixed bin(17,0)          initial dcl 7-74
WAIT_ANSWERBACK                        internal static fixed bin(17,0)          initial dcl 4-25
WAIT_BEFORE_HANGUP                     internal static fixed bin(17,0)          initial dcl 4-25
WAIT_CONNECT_REQUEST                   internal static fixed bin(17,0)          initial dcl 4-25
WAIT_DELETE_CHANNEL                    internal static fixed bin(17,0)          initial dcl 4-25
WAIT_DESTROY_REQUEST                   internal static fixed bin(17,0)          initial dcl 4-25
WAIT_DETACH                            internal static fixed bin(17,0)          initial dcl 4-25
WAIT_DIALUP                            internal static fixed bin(17,0)          initial dcl 4-25
WAIT_DIAL_OUT                          internal static fixed bin(17,0)          initial dcl 4-25
WAIT_DIAL_RELEASE                      internal static fixed bin(17,0)          initial dcl 4-25
WAIT_DISCARD_WAKEUPS                   internal static fixed bin(17,0)          initial dcl 4-25
WAIT_FIN_PRIV_ATTACH                   internal static fixed bin(17,0)          initial dcl 4-25
WAIT_FIN_TANDD_ATTACH                  internal static fixed bin(17,0)          initial dcl 4-25
WAIT_GREETING_MSG                      internal static fixed bin(17,0)          initial dcl 4-25
WAIT_HANGUP                            internal static fixed bin(17,0)          initial dcl 4-25
WAIT_LOGIN_ARGS                        internal static fixed bin(17,0)          initial dcl 4-25
WAIT_LOGIN_LINE                        internal static fixed bin(17,0)          initial dcl 4-25
WAIT_LOGOUT                            internal static fixed bin(17,0)          initial dcl 4-25
WAIT_LOGOUT_HOLD                       internal static fixed bin(17,0)          initial dcl 4-25
WAIT_LOGOUT_SIG                        internal static fixed bin(17,0)          initial dcl 4-25
WAIT_NEW_PASSWORD                      internal static fixed bin(17,0)          initial dcl 4-25
WAIT_NEW_PROC                          internal static fixed bin(17,0)          initial dcl 4-25
WAIT_NEW_PROC_REQUEST                  internal static fixed bin(17,0)          initial dcl 4-25
WAIT_OLD_PASSWORD                      internal static fixed bin(17,0)          initial dcl 4-25
WAIT_PASSWORD                          internal static fixed bin(17,0)          initial dcl 4-25
WAIT_REMOVE                            internal static fixed bin(17,0)          initial dcl 4-25
WAIT_SLAVE_REQUEST                     internal static fixed bin(17,0)          initial dcl 4-25
WAIT_TANDD_HANGUP                      internal static fixed bin(17,0)          initial dcl 4-25

NAMES DECLARED BY EXPLICIT CONTEXT.
JOIN                            000165 constant        label                    dcl 63 ref 57
get_userid_                     000071 constant        entry                    external dcl 13
info                            000130 constant        entry                    external dcl 59

THERE WERE NO NAMES DECLARED BY CONTEXT OR IMPLICATION.

STORAGE REQUIREMENTS FOR THIS PROGRAM.

	Object	Text	Link	Symbol	Defs	Static
Start          0       0       744         766     672         754
Length      1336     672        22         334      52           6

BLOCK NAME	         STACK SIZE     TYPE		WHY NONQUICK/WHO SHARES STACK FRAME
get_userid_                         154 external procedure  is an external procedure.  

STORAGE FOR INTERNAL STATIC VARIABLES.

   LOC IDENTIFIER                  BLOCK NAME
000010 static_ansp                 get_userid_
000012 static_autp                 get_userid_
000014 static_dutp                 get_userid_

STORAGE FOR AUTOMATIC VARIABLES.

STACK FRAME                 LOC IDENTIFIER                  BLOCK NAME
get_userid_              000100 ec                          get_userid_
                         000101 i                           get_userid_
                         000102 info_entry                  get_userid_
                         000104 autp                        get_userid_
                         000106 ansp                        get_userid_
                         000110 dutp                        get_userid_
                         000112 utep                        get_userid_

THE FOLLOWING EXTERNAL OPERATORS ARE USED BY THIS PROGRAM.
call_ext_out_desc   return_mac          ext_entry_desc

THE FOLLOWING EXTERNAL ENTRIES ARE CALLED BY THIS PROGRAM.
hcs_$initiate

THE FOLLOWING EXTERNAL VARIABLES ARE USED BY THIS PROGRAM.
error_table_$noentry




   LINE    LOC      LINE    LOC      LINE    LOC      LINE    LOC      LINE    LOC      LINE    LOC      LINE    LOC   
 1   26 000054    2   53 000056    3   27 000057    7   76 000060        13 000063        56 000117        57 000120
     59 000121        61 000163        63 000165        64 000166        66 000242        68 000320        71 000373
     72 000376        73 000400        75 000402        76 000416        77 000420        80 000421        81 000425
     82 000435        83 000442        84 000445        85 000453        86 000460        87 000465        88 000467
     89 000474        90 000476        91 000477        92 000500        93 000502        94 000504        97 000505
    100 000507       101 000513       102 000526       103 000532       104 000535       105 000543       106 000550
    107 000555       108 000557       109 000564       110 000566       111 000570       112 000571       113 000573
    114 000575       117 000576       120 000600       121 000604       122 000615       123 000621       124 000624
    125 000632       126 000637       127 000644       128 000646       129 000653       130 000655       131 000656
    132 000657       133 000661       134 000663       137 000664       140 000666       150 000671


                                          -----------------------------------------------------------


Historical Background

This edition of the Multics software materials and documentation is provided and donated
to Massachusetts Institute of Technology by Group BULL including BULL HN Information Systems Inc. 
as a contribution to computer science knowledge.  
This donation is made also to give evidence of the common contributions of Massachusetts Institute of Technology,
Bell Laboratories, General Electric, Honeywell Information Systems Inc., Honeywell BULL Inc., Groupe BULL
and BULL HN Information Systems Inc. to the development of this operating system. 
Multics development was initiated by Massachusetts Institute of Technology Project MAC (1963-1970),
renamed the MIT Laboratory for Computer Science and Artificial Intelligence in the mid 1970s, under the leadership
of Professor Fernando Jose Corbato. Users consider that Multics provided the best software architecture 
for managing computer hardware properly and for executing programs. Many subsequent operating systems 
incorporated Multics principles.
Multics was distributed in 1975 to 2000 by Group Bull in Europe , and in the U.S. by Bull HN Information Systems Inc., 
as successor in interest by change in name only to Honeywell Bull Inc. and Honeywell Information Systems Inc. .

                                          -----------------------------------------------------------

Permission to use, copy, modify, and distribute these programs and their documentation for any purpose and without
fee is hereby granted,provided that the below copyright notice and historical background appear in all copies
and that both the copyright notice and historical background and this permission notice appear in supporting
documentation, and that the names of MIT, HIS, BULL or BULL HN not be used in advertising or publicity pertaining
to distribution of the programs without specific prior written permission.
    Copyright 1972 by Massachusetts Institute of Technology and Honeywell Information Systems Inc.
    Copyright 2006 by BULL HN Information Systems Inc.
    Copyright 2006 by Bull SAS
    All Rights Reserved
