	COMPILATION LISTING OF SEGMENT pnt_fs_interface_
	Compiled by: Multics PL/I Compiler, Release 28d, of October 4, 1983
	Compiled at: Honeywell Multics Op. - System M
	Compiled on: 12/05/84  1128.5 mst Wed
	    Options: optimize list

        1 /* ***********************************************************
        2*   *                                                         *
        3*   * Copyright, (C) Honeywell Information Systems Inc., 1984 *
        4*   *                                                         *
        5*   *********************************************************** */
        6 /* format: style2 */
        7 
        8 /* PNT_FS_INTERFACE_: This is one of two programs that are the target
        9*   of PNT-related gates.  This program is primarily the gate-level
       10*   interface to pnt_fs_util_ which does the actual work of file system
       11*   related manipulations of PNTs.  Pnt_db_interface_ is the gate-level
       12*   interface to pnt_db_util_ which does the actual work of database
       13*   related manipulations of the PNT.  
       14*
       15*   This program, and pnt_db_interface_, being the target of ring-1 gates,
       16*   copy arguments, manipulate the validation level, and call supporting
       17*   routines. */
       18 
       19 pnt_fs_interface_:
       20      procedure ();
       21 
       22 	return;					/* Not a valid entrypoint */
       23 
       24 /**** Written 1984-07-18 by BIM */
       25 /**** Rewritten 1984-07-25 by E. Swenson */
       26 
       27 /* Parameters */
       28 
       29 	dcl     P_acl_ptr		 ptr parameter;
       30 	dcl     P_area_ptr		 ptr parameter;
       31 	dcl     P_dirname		 char (*) parameter;
       32 	dcl     P_desired_version	 char (*) parameter;
       33 	dcl     P_entryname		 char (*) parameter;
       34 	dcl     P_size		 fixed bin (35) parameter;
       35 	dcl     P_code		 fixed bin (35) parameter;
       36 	dcl     P_old_entryname	 char (*) parameter;
       37 	dcl     P_new_entryname	 char (*) parameter;
       38 	dcl     P_no_sysdaemon	 bit (1) parameter;
       39 	dcl     P_target_dirname	 char (*) parameter;
       40 	dcl     P_target_entryname	 char (*) parameter;
       41 	dcl     P_error_on_target	 bit (1) aligned parameter;
       42 
       43 /* Automatic */
       44 
       45 	dcl     acl_ptr		 ptr;		/* Pointer to the acl structures */
       46 	dcl     area_ptr		 ptr;		/* Area in which to allocate the acl structures */
       47 	dcl     code		 fixed bin (35);	/* status code */
       48 	dcl     desired_version	 char (8);	/* Version passed to acl routines */
       49 	dcl     dirname		 char (168);	/* PNT directory */
       50 	dcl     entryname		 char (32);	/* PNT entryname */
       51 	dcl     new_entryname	 char (32);	/* new name for chname */
       52 	dcl     no_sysdaemon	 bit (1);		/* Whether or not to delete *.SysDaemon.* ACLs */
       53 	dcl     old_entryname	 char (32);	/* old name for chname */
       54 	dcl     size		 fixed bin (35);	/* PNT size */
       55 	dcl     saved_level		 fixed bin (3);	/* saved validation level */
       56 	dcl     target_dirname	 char (168);	/* For copy entrypoint */
       57 	dcl     target_entryname	 char (32);	/* For copy entrypoint */
       58 	dcl     error_on_target	 bit (1) aligned;	/* For copy; whether error is on target or not */
       59 
       60 /* External Entries */
       61 
       62 	dcl     get_ring_		 entry () returns (fixed bin (3));
       63 	dcl     hcs_$level_get	 entry (fixed bin (3));
       64 	dcl     hcs_$level_set	 entry (fixed bin (3));
       65 	dcl     pnt_fs_util_$add_acl_entries
       66 				 entry (char (*), char (*), ptr, fixed bin (35));
       67 	dcl     pnt_fs_util_$create	 entry (char (*), char (*), fixed bin (35), fixed bin (35));
       68 	dcl     pnt_fs_util_$delete	 entry (char (*), char (*), fixed bin (35));
       69 	dcl     pnt_fs_util_$delete_acl_entries
       70 				 entry (char (*), char (*), ptr, fixed bin (35));
       71 	dcl     pnt_fs_util_$copy	 entry (char (*), char (*), char (*), char (*), bit (1) aligned, fixed bin (35));
       72 	dcl     pnt_fs_util_$list_acl	 entry (char (*), char (*), char (*), ptr, ptr, fixed bin (35));
       73 	dcl     pnt_fs_util_$replace_acl
       74 				 entry (char (*), char (*), ptr, bit (1), fixed bin (35));
       75 	declare pnt_fs_util_$chname_file
       76 				 entry (char (*), char (*), char (*), char (*), fixed bin (35));
       77 	dcl     pnt_fs_util_$validate	 entry (char (*), char (*), fixed bin (35));
       78 
       79 /* Conditions */
       80 
       81 	declare cleanup		 condition;
       82 
       83 create:
       84      entry (P_dirname, P_entryname, P_size, P_code);
       85 
       86 /* This entry creates a PNT */
       87 
       88 	code = 0;
       89 	dirname = P_dirname;
       90 	entryname = P_entryname;
       91 	size = P_size;
       92 
       93 	saved_level = -1;
       94 	on cleanup call reset_level;
       95 	call set_level;
       96 
       97 	call pnt_fs_util_$create (dirname, entryname, size, code);
       98 
       99 	P_code = code;
      100 	call reset_level;
      101 	return;
      102 
      103 delete:
      104      entry (P_dirname, P_entryname, P_code);
      105 
      106 /* This entry deletes a PNT */
      107 
      108 	code = 0;
      109 	dirname = P_dirname;
      110 	entryname = P_entryname;
      111 
      112 	saved_level = -1;
      113 	on cleanup call reset_level;
      114 	call set_level;
      115 
      116 	call pnt_fs_util_$delete (dirname, entryname, code);
      117 
      118 	P_code = code;
      119 	call reset_level;
      120 	return;
      121 
      122 chname_file:
      123      entry (P_dirname, P_entryname, P_old_entryname, P_new_entryname, P_code);
      124 
      125 /* This entry renames a PNT */
      126 
      127 	code = 0;
      128 	dirname = P_dirname;
      129 	entryname = P_entryname;
      130 	old_entryname = P_old_entryname;
      131 	new_entryname = P_new_entryname;
      132 
      133 	saved_level = -1;
      134 	on cleanup call reset_level;
      135 	call set_level;
      136 
      137 	call pnt_fs_util_$chname_file (dirname, entryname, old_entryname, new_entryname, code);
      138 
      139 	P_code = code;
      140 	call reset_level;
      141 	return;
      142 
      143 copy:
      144      entry (P_dirname, P_entryname, P_target_dirname, P_target_entryname, P_error_on_target, P_code);
      145 
      146 	dirname = P_dirname;
      147 	entryname = P_entryname;
      148 	target_dirname = P_target_dirname;
      149 	target_entryname = P_target_entryname;
      150 
      151 	code = 0;
      152 	error_on_target = "0"b;
      153 
      154 	saved_level = -1;
      155 	on cleanup call reset_level;
      156 	call set_level;
      157 
      158 	call pnt_fs_util_$copy (dirname, entryname, target_dirname, target_entryname, error_on_target, code);
      159 
      160 	P_error_on_target = error_on_target;
      161 	P_code = code;
      162 	call reset_level;
      163 	return;
      164 
      165 list_acl:
      166      entry (P_dirname, P_entryname, P_desired_version, P_area_ptr, P_acl_ptr, P_code);
      167 
      168 	dirname = P_dirname;
      169 	entryname = P_entryname;
      170 	desired_version = P_desired_version;
      171 	area_ptr = P_area_ptr;
      172 	acl_ptr = P_acl_ptr;			/* can be input or output variable */
      173 
      174 	code = 0;
      175 
      176 	saved_level = -1;
      177 	on cleanup call reset_level;
      178 	call set_level;
      179 
      180 	call pnt_fs_util_$list_acl (dirname, entryname, desired_version, area_ptr, acl_ptr, code);
      181 
      182 /**** Don't need to copy output structure here, since it was allocated
      183*      in the user supplied area. */
      184 
      185 	P_acl_ptr = acl_ptr;
      186 	P_code = code;
      187 	call reset_level;
      188 	return;
      189 
      190 add_acl_entries:
      191      entry (P_dirname, P_entryname, P_acl_ptr, P_code);
      192 
      193 	dirname = P_dirname;
      194 	entryname = P_entryname;
      195 	acl_ptr = P_acl_ptr;
      196 
      197 	code = 0;
      198 
      199 	saved_level = -1;
      200 	on cleanup call reset_level;
      201 	call set_level;
      202 
      203 	call pnt_fs_util_$add_acl_entries (dirname, entryname, acl_ptr, code);
      204 
      205 	P_code = code;
      206 	call reset_level;
      207 	return;
      208 
      209 delete_acl_entries:
      210      entry (P_dirname, P_entryname, P_acl_ptr, P_code);
      211 
      212 	dirname = P_dirname;
      213 	entryname = P_entryname;
      214 	acl_ptr = P_acl_ptr;
      215 
      216 	code = 0;
      217 
      218 	saved_level = -1;
      219 	on cleanup call reset_level;
      220 	call set_level;
      221 
      222 	call pnt_fs_util_$delete_acl_entries (dirname, entryname, acl_ptr, code);
      223 
      224 	P_acl_ptr = acl_ptr;
      225 	P_code = code;
      226 	call reset_level;
      227 	return;
      228 
      229 replace_acl:
      230      entry (P_dirname, P_entryname, P_acl_ptr, P_no_sysdaemon, P_code);
      231 
      232 	dirname = P_dirname;
      233 	entryname = P_entryname;
      234 	acl_ptr = P_acl_ptr;
      235 	no_sysdaemon = P_no_sysdaemon;
      236 
      237 	code = 0;
      238 
      239 	saved_level = -1;
      240 	on cleanup call reset_level;
      241 	call set_level;
      242 
      243 	call pnt_fs_util_$replace_acl (dirname, entryname, acl_ptr, no_sysdaemon, code);
      244 
      245 	P_acl_ptr = acl_ptr;
      246 	P_code = code;
      247 	call reset_level;
      248 	return;
      249 
      250 validate:
      251      entry (P_dirname, P_entryname, P_code);
      252 
      253 /* This entry supports the extended object software in validating that
      254*   the caller supplied pathname is in fact, a PNT. */
      255 
      256 	code = 0;
      257 	dirname = P_dirname;
      258 	entryname = P_entryname;
      259 
      260 	saved_level = -1;
      261 	on cleanup call reset_level;
      262 	call set_level;
      263 
      264 	call pnt_fs_util_$validate (dirname, entryname, code);
      265 
      266 	P_code = code;
      267 	call reset_level;
      268 	return;
      269 
      270 reset_level:
      271      procedure ();
      272 
      273 /* This procedure resets the validation level, it it was previously
      274*   set by calling entry. */
      275 
      276 	if saved_level ^= -1
      277 	then do;
      278 		call hcs_$level_set (saved_level);
      279 		saved_level = -1;
      280 	     end;
      281 	return;
      282      end reset_level;
      283 
      284 set_level:
      285      procedure ();
      286 
      287 /* This procedure gets the current validation level and saves it away in
      288*   saved_level.  It then sets the validation level to the PNT level (1). */
      289 
      290 	call hcs_$level_get (saved_level);
      291 	call hcs_$level_set (get_ring_ ());
      292 	return;
      293      end set_level;
      294 
      295      end pnt_fs_interface_;
	SOURCE FILES USED IN THIS COMPILATION.

LINE      NUMBER  DATE MODIFIED     NAME			PATHNAME
             0    12/05/84  0925.9  pnt_fs_interface_.pl1             >special_ldd>temp>as>pnt_fs_interface_.pl1
	NAMES DECLARED IN THIS COMPILATION.

IDENTIFIER	     OFFSET    LOC STORAGE CLASS   DATA TYPE		ATTRIBUTES AND REFERENCES
								(* indicates a set context)

NAMES DECLARED BY DECLARE STATEMENT.
P_acl_ptr                              parameter       pointer                  dcl 29 set ref 165 172 185* 190 195 209 214 224* 229
                                                                                  234 245*
P_area_ptr                             parameter       pointer                  dcl 30 ref 165 171
P_code                                 parameter       fixed bin(35,0)          dcl 35 set ref 83 99* 103 118* 122 139* 143 161* 165
                                                                                  186* 190 205* 209 225* 229 246* 250 266*
P_desired_version                      parameter       char                     unaligned dcl 32 ref 165 170
P_dirname                              parameter       char                     unaligned dcl 31 ref 83 89 103 109 122 128 143 146
                                                                                  165 168 190 193 209 212 229 232 250 257
P_entryname                            parameter       char                     unaligned dcl 33 ref 83 90 103 110 122 129 143 147
                                                                                  165 169 190 194 209 213 229 233 250 258
P_error_on_target                      parameter       bit(1)                   dcl 41 set ref 143 160*
P_new_entryname                        parameter       char                     unaligned dcl 37 ref 122 131
P_no_sysdaemon                         parameter       bit(1)                   unaligned dcl 38 ref 229 235
P_old_entryname                        parameter       char                     unaligned dcl 36 ref 122 130
P_size                                 parameter       fixed bin(35,0)          dcl 34 ref 83 91
P_target_dirname                       parameter       char                     unaligned dcl 39 ref 143 148
P_target_entryname                     parameter       char                     unaligned dcl 40 ref 143 149
acl_ptr                         000100 automatic       pointer                  dcl 45 set ref 172* 180* 185 195* 203* 214* 222* 224
                                                                                  234* 243* 245
area_ptr                        000102 automatic       pointer                  dcl 46 set ref 171* 180*
cleanup                         000300 stack reference condition                dcl 81 ref 94 113 134 155 177 200 219 240 261
code                            000104 automatic       fixed bin(35,0)          dcl 47 set ref 88* 97* 99 108* 116* 118 127* 137*
                                                                                  139 151* 158* 161 174* 180* 186 197* 203* 205 216*
                                                                                  222* 225 237* 243* 246 256* 264* 266
desired_version                 000106 automatic       char(8)                  unaligned dcl 48 set ref 170* 180*
dirname                         000110 automatic       char(168)                unaligned dcl 49 set ref 89* 97* 109* 116* 128* 137*
                                                                                  146* 158* 168* 180* 193* 203* 212* 222* 232* 243*
                                                                                  257* 264*
entryname                       000162 automatic       char(32)                 unaligned dcl 50 set ref 90* 97* 110* 116* 129* 137*
                                                                                  147* 158* 169* 180* 194* 203* 213* 222* 233* 243*
                                                                                  258* 264*
error_on_target                 000277 automatic       bit(1)                   dcl 58 set ref 152* 158* 160
get_ring_                       000010 constant        entry                    external dcl 62 ref 291 291
hcs_$level_get                  000012 constant        entry                    external dcl 63 ref 290
hcs_$level_set                  000014 constant        entry                    external dcl 64 ref 278 291
new_entryname                   000172 automatic       char(32)                 unaligned dcl 51 set ref 131* 137*
no_sysdaemon                    000202 automatic       bit(1)                   unaligned dcl 52 set ref 235* 243*
old_entryname                   000203 automatic       char(32)                 unaligned dcl 53 set ref 130* 137*
pnt_fs_util_$add_acl_entries    000016 constant        entry                    external dcl 65 ref 203
pnt_fs_util_$chname_file        000034 constant        entry                    external dcl 75 ref 137
pnt_fs_util_$copy               000026 constant        entry                    external dcl 71 ref 158
pnt_fs_util_$create             000020 constant        entry                    external dcl 67 ref 97
pnt_fs_util_$delete             000022 constant        entry                    external dcl 68 ref 116
pnt_fs_util_$delete_acl_entries 000024 constant        entry                    external dcl 69 ref 222
pnt_fs_util_$list_acl           000030 constant        entry                    external dcl 72 ref 180
pnt_fs_util_$replace_acl        000032 constant        entry                    external dcl 73 ref 243
pnt_fs_util_$validate           000036 constant        entry                    external dcl 77 ref 264
saved_level                     000214 automatic       fixed bin(3,0)           dcl 55 set ref 93* 112* 133* 154* 176* 199* 218*
                                                                                  239* 260* 276 278* 279* 290*
size                            000213 automatic       fixed bin(35,0)          dcl 54 set ref 91* 97*
target_dirname                  000215 automatic       char(168)                unaligned dcl 56 set ref 148* 158*
target_entryname                000267 automatic       char(32)                 unaligned dcl 57 set ref 149* 158*

NAMES DECLARED BY EXPLICIT CONTEXT.
add_acl_entries                 001017 constant        entry                    external dcl 190
chname_file                     000276 constant        entry                    external dcl 122
copy                            000452 constant        entry                    external dcl 143
create                          000030 constant        entry                    external dcl 83
delete                          000155 constant        entry                    external dcl 103
delete_acl_entries              001146 constant        entry                    external dcl 209
list_acl                        000637 constant        entry                    external dcl 165
pnt_fs_interface_               000015 constant        entry                    external dcl 19
replace_acl                     001302 constant        entry                    external dcl 229
reset_level                     001561 constant        entry                    internal dcl 270 ref 94 100 113 119 134 140 155 162
                                                                                  177 187 200 206 219 226 240 247 261 267
set_level                       001604 constant        entry                    internal dcl 284 ref 95 114 135 156 178 201 220 241
                                                                                  262
validate                        001444 constant        entry                    external dcl 250

THERE WERE NO NAMES DECLARED BY CONTEXT OR IMPLICATION.

STORAGE REQUIREMENTS FOR THIS PROGRAM.

	Object	Text	Link	Symbol	Defs	Static
Start          0       0      2130        2170    1634        2140
Length      2420    1634        40         214     273           0

BLOCK NAME	         STACK SIZE     TYPE		WHY NONQUICK/WHO SHARES STACK FRAME
pnt_fs_interface_                   283 external procedure  is an external procedure.  
on unit on line 94                   64 on unit               
on unit on line 113                  64 on unit               
on unit on line 134                  64 on unit               
on unit on line 155                  64 on unit               
on unit on line 177                  64 on unit               
on unit on line 200                  64 on unit               
on unit on line 219                  64 on unit               
on unit on line 240                  64 on unit               
on unit on line 261                  64 on unit               
reset_level                          68 internal procedure  is called by several nonquick procedures.  
set_level                               internal procedure  shares stack frame of external procedure pnt_fs_interface_.  

STORAGE FOR AUTOMATIC VARIABLES.

STACK FRAME                 LOC IDENTIFIER                  BLOCK NAME
pnt_fs_interface_        000100 acl_ptr                     pnt_fs_interface_
                         000102 area_ptr                    pnt_fs_interface_
                         000104 code                        pnt_fs_interface_
                         000106 desired_version             pnt_fs_interface_
                         000110 dirname                     pnt_fs_interface_
                         000162 entryname                   pnt_fs_interface_
                         000172 new_entryname               pnt_fs_interface_
                         000202 no_sysdaemon                pnt_fs_interface_
                         000203 old_entryname               pnt_fs_interface_
                         000213 size                        pnt_fs_interface_
                         000214 saved_level                 pnt_fs_interface_
                         000215 target_dirname              pnt_fs_interface_
                         000267 target_entryname            pnt_fs_interface_
                         000277 error_on_target             pnt_fs_interface_

THE FOLLOWING EXTERNAL OPERATORS ARE USED BY THIS PROGRAM.
call_ext_out_desc   call_ext_out        call_int_this       call_int_other      return              enable
ext_entry           ext_entry_desc      int_entry

THE FOLLOWING EXTERNAL ENTRIES ARE CALLED BY THIS PROGRAM.
get_ring_                     hcs_$level_get                hcs_$level_set                pnt_fs_util_$add_acl_entries
pnt_fs_util_$chname_file      pnt_fs_util_$copy             pnt_fs_util_$create           pnt_fs_util_$delete
pnt_fs_util_$delete_acl_entries                             pnt_fs_util_$list_acl         pnt_fs_util_$replace_acl
pnt_fs_util_$validate

NO EXTERNAL VARIABLES ARE USED BY THIS PROGRAM.


CONSTANTS
000000  aa     526000000010

000001  aa     526000000040

000002  aa     526000000250

001633  aa     777777777777

000003  aa     404000000003

000004  aa     514000000001

000005  aa     516000000001

000006  aa     404000000043

000007  aa     526077777777

000010  aa     464000000000

000012  aa  143 154 145 141	clea
000013  aa  156 165 160 000	nup

BEGIN PROCEDURE pnt_fs_interface_
ENTRY TO pnt_fs_interface_                                  STATEMENT 1 ON LINE 19
pnt_fs_interface_:
     procedure ();

000014  da     000140200000
000015  aa   000440 6270 00	eax7 	288
000016  aa  7 00034 3521 20	epp2 	pr7|28,*
000017  aa  2 01045 2721 00	tsp2 	pr2|549		ext_entry
000020  aa     000000000000
000021  aa     000000000000
						STATEMENT 1 ON LINE 22
	return;

000022  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO create                                             STATEMENT 1 ON LINE 83
create:
     entry (P_dirname, P_entryname, P_size, P_code);

000023  at     000004000007
000024  tt     000007000006
000025  ta     000006000000
000026  ta     000023000000
000027  da     000143300000
000030  aa   000440 6270 00	eax7 	288
000031  aa  7 00034 3521 20	epp2 	pr7|28,*
000032  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
000033  aa     000010000000
000034  aa     000000000000
000035  aa  6 00042 3735 20	epp7 	pr6|34,*
000036  aa  7 00000 2361 20	ldq  	pr7|0,*
000037  aa   000002 6040 04	tmi  	2,ic		000041
000040  aa   777777 3760 07	anq  	262143,dl
000041  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000042  aa  6 00320 7561 00	stq  	pr6|208
000043  aa  7 00002 2361 20	ldq  	pr7|2,*
000044  aa   000002 6040 04	tmi  	2,ic		000046
000045  aa   777777 3760 07	anq  	262143,dl
000046  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000047  aa  6 00321 7561 00	stq  	pr6|209
000050  aa  6 00032 3715 20	epp5 	pr6|26,*
000051  aa  5 00010 3535 20	epp3 	pr5|8,*
000052  aa  6 00310 2535 00	spri3	pr6|200
						STATEMENT 1 ON LINE 88
	code = 0;

000053  aa  6 00104 4501 00	stz  	pr6|68		code
						STATEMENT 1 ON LINE 89
	dirname = P_dirname;

000054  aa  6 00032 3735 20	epp7 	pr6|26,*
000055  aa  7 00002 3715 20	epp5 	pr7|2,*
000056  aa  6 00320 2351 00	lda  	pr6|208
000057  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000060  aa  5 00000 00 0005	desc9a	pr5|0,al		P_dirname
000061  aa  6 00110 00 0250	desc9a	pr6|72,168	dirname
						STATEMENT 1 ON LINE 90
	entryname = P_entryname;

000062  aa  7 00004 3535 20	epp3 	pr7|4,*
000063  aa  6 00321 2361 00	ldq  	pr6|209
000064  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000065  aa  3 00000 00 0006	desc9a	pr3|0,ql		P_entryname
000066  aa  6 00162 00 0040	desc9a	pr6|114,32	entryname
						STATEMENT 1 ON LINE 91
	size = P_size;

000067  aa  7 00006 2361 20	ldq  	pr7|6,*		P_size
000070  aa  6 00213 7561 00	stq  	pr6|139		size
						STATEMENT 1 ON LINE 93
	saved_level = -1;

000071  aa   000001 3360 07	lcq  	1,dl
000072  aa  6 00214 7561 00	stq  	pr6|140		saved_level
						STATEMENT 1 ON LINE 94
	on cleanup call reset_level;

000073  aa   000007 7260 07	lxl6 	7,dl
000074  aa   777716 3520 04	epp2 	-50,ic		000012 = 143154145141
000075  aa  0 00717 7001 00	tsx0 	pr0|463		enable
000076  aa   000004 7100 04	tra  	4,ic		000102
000077  aa     000300000000
000100  aa   000015 7100 04	tra  	13,ic		000115
BEGIN CONDITION cleanup.1
ENTRY TO cleanup.1                                          STATEMENT 1 ON LINE 94
	on cleanup call reset_level;

000101  da     000151200000
000102  aa   000100 6270 00	eax7 	64
000103  aa  7 00034 3521 20	epp2 	pr7|28,*
000104  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
000105  aa     000000000000
000106  aa     000000000000
000107  aa   000001 7270 07	lxl7 	1,dl
000110  aa  6 00056 6211 00	eax1 	pr6|46
000111  aa   000000 4310 07	fld  	0,dl
000112  aa   001447 3520 04	epp2 	807,ic		001561 = 000120627000
000113  aa  0 00627 7001 00	tsx0 	pr0|407		call_int_other
000114  aa  0 00631 7101 00	tra  	pr0|409		return
  END CONDITION cleanup.1
						STATEMENT 1 ON LINE 95
	call set_level;

000115  aa   001467 6700 04	tsp4 	823,ic		001604
						STATEMENT 1 ON LINE 97
	call pnt_fs_util_$create (dirname, entryname, size, code);

000116  aa  6 00110 3521 00	epp2 	pr6|72		dirname
000117  aa  6 00324 2521 00	spri2	pr6|212
000120  aa  6 00162 3521 00	epp2 	pr6|114		entryname
000121  aa  6 00326 2521 00	spri2	pr6|214
000122  aa  6 00213 3521 00	epp2 	pr6|139		size
000123  aa  6 00330 2521 00	spri2	pr6|216
000124  aa  6 00104 3521 00	epp2 	pr6|68		code
000125  aa  6 00332 2521 00	spri2	pr6|218
000126  aa   777654 3520 04	epp2 	-84,ic		000002 = 526000000250
000127  aa  6 00334 2521 00	spri2	pr6|220
000130  aa   777651 3520 04	epp2 	-87,ic		000001 = 526000000040
000131  aa  6 00336 2521 00	spri2	pr6|222
000132  aa   777654 3520 04	epp2 	-84,ic		000006 = 404000000043
000133  aa  6 00340 2521 00	spri2	pr6|224
000134  aa  6 00342 2521 00	spri2	pr6|226
000135  aa  6 00322 6211 00	eax1 	pr6|210
000136  aa   020000 4310 07	fld  	8192,dl
000137  aa  6 00044 3701 20	epp4 	pr6|36,*
000140  la  4 00020 3521 20	epp2 	pr4|16,*		pnt_fs_util_$create
000141  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 99
	P_code = code;

000142  aa  6 00104 2361 00	ldq  	pr6|68		code
000143  aa  6 00310 7561 20	stq  	pr6|200,*		P_code
						STATEMENT 1 ON LINE 100
	call reset_level;

000144  aa  6 00056 6211 00	eax1 	pr6|46
000145  aa   000000 4310 07	fld  	0,dl
000146  aa   001413 3520 04	epp2 	779,ic		001561 = 000120627000
000147  aa  0 00625 7001 00	tsx0 	pr0|405		call_int_this
						STATEMENT 1 ON LINE 101
	return;

000150  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO delete                                             STATEMENT 1 ON LINE 103
delete:
     entry (P_dirname, P_entryname, P_code);

000151  at     000003000007
000152  tt     000007000006
000153  ta     000151000000
000154  da     000154300000
000155  aa   000440 6270 00	eax7 	288
000156  aa  7 00034 3521 20	epp2 	pr7|28,*
000157  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
000160  aa     000006000000
000161  aa     000000000000
000162  aa  6 00042 3735 20	epp7 	pr6|34,*
000163  aa  7 00000 2361 20	ldq  	pr7|0,*
000164  aa   000002 6040 04	tmi  	2,ic		000166
000165  aa   777777 3760 07	anq  	262143,dl
000166  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000167  aa  6 00320 7561 00	stq  	pr6|208
000170  aa  7 00002 2361 20	ldq  	pr7|2,*
000171  aa   000002 6040 04	tmi  	2,ic		000173
000172  aa   777777 3760 07	anq  	262143,dl
000173  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000174  aa  6 00321 7561 00	stq  	pr6|209
000175  aa  6 00032 3715 20	epp5 	pr6|26,*
000176  aa  5 00006 3535 20	epp3 	pr5|6,*
000177  aa  6 00310 2535 00	spri3	pr6|200
						STATEMENT 1 ON LINE 108
	code = 0;

000200  aa  6 00104 4501 00	stz  	pr6|68		code
						STATEMENT 1 ON LINE 109
	dirname = P_dirname;

000201  aa  6 00032 3735 20	epp7 	pr6|26,*
000202  aa  7 00002 3715 20	epp5 	pr7|2,*
000203  aa  6 00320 2351 00	lda  	pr6|208
000204  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000205  aa  5 00000 00 0005	desc9a	pr5|0,al		P_dirname
000206  aa  6 00110 00 0250	desc9a	pr6|72,168	dirname
						STATEMENT 1 ON LINE 110
	entryname = P_entryname;

000207  aa  7 00004 3535 20	epp3 	pr7|4,*
000210  aa  6 00321 2361 00	ldq  	pr6|209
000211  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000212  aa  3 00000 00 0006	desc9a	pr3|0,ql		P_entryname
000213  aa  6 00162 00 0040	desc9a	pr6|114,32	entryname
						STATEMENT 1 ON LINE 112
	saved_level = -1;

000214  aa   000001 3360 07	lcq  	1,dl
000215  aa  6 00214 7561 00	stq  	pr6|140		saved_level
						STATEMENT 1 ON LINE 113
	on cleanup call reset_level;

000216  aa   000007 7260 07	lxl6 	7,dl
000217  aa   777573 3520 04	epp2 	-133,ic		000012 = 143154145141
000220  aa  0 00717 7001 00	tsx0 	pr0|463		enable
000221  aa   000004 7100 04	tra  	4,ic		000225
000222  aa     000300000000
000223  aa   000015 7100 04	tra  	13,ic		000240
BEGIN CONDITION cleanup.2
ENTRY TO cleanup.2                                          STATEMENT 1 ON LINE 113
	on cleanup call reset_level;

000224  da     000162200000
000225  aa   000100 6270 00	eax7 	64
000226  aa  7 00034 3521 20	epp2 	pr7|28,*
000227  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
000230  aa     000000000000
000231  aa     000000000000
000232  aa   000001 7270 07	lxl7 	1,dl
000233  aa  6 00056 6211 00	eax1 	pr6|46
000234  aa   000000 4310 07	fld  	0,dl
000235  aa   001324 3520 04	epp2 	724,ic		001561 = 000120627000
000236  aa  0 00627 7001 00	tsx0 	pr0|407		call_int_other
000237  aa  0 00631 7101 00	tra  	pr0|409		return
  END CONDITION cleanup.2
						STATEMENT 1 ON LINE 114
	call set_level;

000240  aa   001344 6700 04	tsp4 	740,ic		001604
						STATEMENT 1 ON LINE 116
	call pnt_fs_util_$delete (dirname, entryname, code);

000241  aa  6 00110 3521 00	epp2 	pr6|72		dirname
000242  aa  6 00324 2521 00	spri2	pr6|212
000243  aa  6 00162 3521 00	epp2 	pr6|114		entryname
000244  aa  6 00326 2521 00	spri2	pr6|214
000245  aa  6 00104 3521 00	epp2 	pr6|68		code
000246  aa  6 00330 2521 00	spri2	pr6|216
000247  aa   777533 3520 04	epp2 	-165,ic		000002 = 526000000250
000250  aa  6 00332 2521 00	spri2	pr6|218
000251  aa   777530 3520 04	epp2 	-168,ic		000001 = 526000000040
000252  aa  6 00334 2521 00	spri2	pr6|220
000253  aa   777533 3520 04	epp2 	-165,ic		000006 = 404000000043
000254  aa  6 00336 2521 00	spri2	pr6|222
000255  aa  6 00322 6211 00	eax1 	pr6|210
000256  aa   014000 4310 07	fld  	6144,dl
000257  aa  6 00044 3701 20	epp4 	pr6|36,*
000260  la  4 00022 3521 20	epp2 	pr4|18,*		pnt_fs_util_$delete
000261  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 118
	P_code = code;

000262  aa  6 00104 2361 00	ldq  	pr6|68		code
000263  aa  6 00310 7561 20	stq  	pr6|200,*		P_code
						STATEMENT 1 ON LINE 119
	call reset_level;

000264  aa  6 00056 6211 00	eax1 	pr6|46
000265  aa   000000 4310 07	fld  	0,dl
000266  aa   001273 3520 04	epp2 	699,ic		001561 = 000120627000
000267  aa  0 00625 7001 00	tsx0 	pr0|405		call_int_this
						STATEMENT 1 ON LINE 120
	return;

000270  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO chname_file                                        STATEMENT 1 ON LINE 122
chname_file:
     entry (P_dirname, P_entryname, P_old_entryname, P_new_entryname, P_code);

000271  at     000005000007
000272  tt     000007000007
000273  tt     000007000006
000274  ta     000271000000
000275  da     000165300000
000276  aa   000440 6270 00	eax7 	288
000277  aa  7 00034 3521 20	epp2 	pr7|28,*
000300  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
000301  aa     000012000000
000302  aa     000000000000
000303  aa  6 00042 3735 20	epp7 	pr6|34,*
000304  aa  7 00000 2361 20	ldq  	pr7|0,*
000305  aa   000002 6040 04	tmi  	2,ic		000307
000306  aa   777777 3760 07	anq  	262143,dl
000307  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000310  aa  6 00320 7561 00	stq  	pr6|208
000311  aa  7 00002 2361 20	ldq  	pr7|2,*
000312  aa   000002 6040 04	tmi  	2,ic		000314
000313  aa   777777 3760 07	anq  	262143,dl
000314  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000315  aa  6 00321 7561 00	stq  	pr6|209
000316  aa  7 00004 2361 20	ldq  	pr7|4,*
000317  aa   000002 6040 04	tmi  	2,ic		000321
000320  aa   777777 3760 07	anq  	262143,dl
000321  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000322  aa  6 00344 7561 00	stq  	pr6|228
000323  aa  7 00006 2361 20	ldq  	pr7|6,*
000324  aa   000002 6040 04	tmi  	2,ic		000326
000325  aa   777777 3760 07	anq  	262143,dl
000326  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000327  aa  6 00345 7561 00	stq  	pr6|229
000330  aa  6 00032 3715 20	epp5 	pr6|26,*
000331  aa  5 00012 3535 20	epp3 	pr5|10,*
000332  aa  6 00310 2535 00	spri3	pr6|200
						STATEMENT 1 ON LINE 127
	code = 0;

000333  aa  6 00104 4501 00	stz  	pr6|68		code
						STATEMENT 1 ON LINE 128
	dirname = P_dirname;

000334  aa  6 00032 3735 20	epp7 	pr6|26,*
000335  aa  7 00002 3715 20	epp5 	pr7|2,*
000336  aa  6 00320 2351 00	lda  	pr6|208
000337  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000340  aa  5 00000 00 0005	desc9a	pr5|0,al		P_dirname
000341  aa  6 00110 00 0250	desc9a	pr6|72,168	dirname
						STATEMENT 1 ON LINE 129
	entryname = P_entryname;

000342  aa  7 00004 3535 20	epp3 	pr7|4,*
000343  aa  6 00321 2361 00	ldq  	pr6|209
000344  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000345  aa  3 00000 00 0006	desc9a	pr3|0,ql		P_entryname
000346  aa  6 00162 00 0040	desc9a	pr6|114,32	entryname
						STATEMENT 1 ON LINE 130
	old_entryname = P_old_entryname;

000347  aa  7 00006 3515 20	epp1 	pr7|6,*
000350  aa  6 00344 2351 00	lda  	pr6|228
000351  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000352  aa  1 00000 00 0005	desc9a	pr1|0,al		P_old_entryname
000353  aa  6 00203 00 0040	desc9a	pr6|131,32	old_entryname
						STATEMENT 1 ON LINE 131
	new_entryname = P_new_entryname;

000354  aa  7 00010 3715 20	epp5 	pr7|8,*
000355  aa  6 00345 2361 00	ldq  	pr6|229
000356  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000357  aa  5 00000 00 0006	desc9a	pr5|0,ql		P_new_entryname
000360  aa  6 00172 00 0040	desc9a	pr6|122,32	new_entryname
						STATEMENT 1 ON LINE 133
	saved_level = -1;

000361  aa   000001 3360 07	lcq  	1,dl
000362  aa  6 00214 7561 00	stq  	pr6|140		saved_level
						STATEMENT 1 ON LINE 134
	on cleanup call reset_level;

000363  aa   000007 7260 07	lxl6 	7,dl
000364  aa   777426 3520 04	epp2 	-234,ic		000012 = 143154145141
000365  aa  0 00717 7001 00	tsx0 	pr0|463		enable
000366  aa   000004 7100 04	tra  	4,ic		000372
000367  aa     000300000000
000370  aa   000015 7100 04	tra  	13,ic		000405
BEGIN CONDITION cleanup.3
ENTRY TO cleanup.3                                          STATEMENT 1 ON LINE 134
	on cleanup call reset_level;

000371  da     000173200000
000372  aa   000100 6270 00	eax7 	64
000373  aa  7 00034 3521 20	epp2 	pr7|28,*
000374  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
000375  aa     000000000000
000376  aa     000000000000
000377  aa   000001 7270 07	lxl7 	1,dl
000400  aa  6 00056 6211 00	eax1 	pr6|46
000401  aa   000000 4310 07	fld  	0,dl
000402  aa   001157 3520 04	epp2 	623,ic		001561 = 000120627000
000403  aa  0 00627 7001 00	tsx0 	pr0|407		call_int_other
000404  aa  0 00631 7101 00	tra  	pr0|409		return
  END CONDITION cleanup.3
						STATEMENT 1 ON LINE 135
	call set_level;

000405  aa   001177 6700 04	tsp4 	639,ic		001604
						STATEMENT 1 ON LINE 137
	call pnt_fs_util_$chname_file (dirname, entryname, old_entryname, new_entryname, code);

000406  aa  6 00110 3521 00	epp2 	pr6|72		dirname
000407  aa  6 00350 2521 00	spri2	pr6|232
000410  aa  6 00162 3521 00	epp2 	pr6|114		entryname
000411  aa  6 00352 2521 00	spri2	pr6|234
000412  aa  6 00203 3521 00	epp2 	pr6|131		old_entryname
000413  aa  6 00354 2521 00	spri2	pr6|236
000414  aa  6 00172 3521 00	epp2 	pr6|122		new_entryname
000415  aa  6 00356 2521 00	spri2	pr6|238
000416  aa  6 00104 3521 00	epp2 	pr6|68		code
000417  aa  6 00360 2521 00	spri2	pr6|240
000420  aa   777362 3520 04	epp2 	-270,ic		000002 = 526000000250
000421  aa  6 00362 2521 00	spri2	pr6|242
000422  aa   777357 3520 04	epp2 	-273,ic		000001 = 526000000040
000423  aa  6 00364 2521 00	spri2	pr6|244
000424  aa  6 00366 2521 00	spri2	pr6|246
000425  aa  6 00370 2521 00	spri2	pr6|248
000426  aa   777360 3520 04	epp2 	-272,ic		000006 = 404000000043
000427  aa  6 00372 2521 00	spri2	pr6|250
000430  aa  6 00346 6211 00	eax1 	pr6|230
000431  aa   024000 4310 07	fld  	10240,dl
000432  aa  6 00044 3701 20	epp4 	pr6|36,*
000433  la  4 00034 3521 20	epp2 	pr4|28,*		pnt_fs_util_$chname_file
000434  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 139
	P_code = code;

000435  aa  6 00104 2361 00	ldq  	pr6|68		code
000436  aa  6 00310 7561 20	stq  	pr6|200,*		P_code
						STATEMENT 1 ON LINE 140
	call reset_level;

000437  aa  6 00056 6211 00	eax1 	pr6|46
000440  aa   000000 4310 07	fld  	0,dl
000441  aa   001120 3520 04	epp2 	592,ic		001561 = 000120627000
000442  aa  0 00625 7001 00	tsx0 	pr0|405		call_int_this
						STATEMENT 1 ON LINE 141
	return;

000443  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO copy                                               STATEMENT 1 ON LINE 143
copy:
     entry (P_dirname, P_entryname, P_target_dirname, P_target_entryname, P_error_on_target, P_code);

000444  at     000006000007
000445  tt     000007000007
000446  tt     000007000004
000447  ta     000006000000
000450  ta     000444000000
000451  da     000176300000
000452  aa   000440 6270 00	eax7 	288
000453  aa  7 00034 3521 20	epp2 	pr7|28,*
000454  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
000455  aa     000014000000
000456  aa     000000000000
000457  aa  6 00042 3735 20	epp7 	pr6|34,*
000460  aa  7 00000 2361 20	ldq  	pr7|0,*
000461  aa   000002 6040 04	tmi  	2,ic		000463
000462  aa   777777 3760 07	anq  	262143,dl
000463  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000464  aa  6 00320 7561 00	stq  	pr6|208
000465  aa  7 00002 2361 20	ldq  	pr7|2,*
000466  aa   000002 6040 04	tmi  	2,ic		000470
000467  aa   777777 3760 07	anq  	262143,dl
000470  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000471  aa  6 00321 7561 00	stq  	pr6|209
000472  aa  7 00004 2361 20	ldq  	pr7|4,*
000473  aa   000002 6040 04	tmi  	2,ic		000475
000474  aa   777777 3760 07	anq  	262143,dl
000475  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000476  aa  6 00344 7561 00	stq  	pr6|228
000477  aa  7 00006 2361 20	ldq  	pr7|6,*
000500  aa   000002 6040 04	tmi  	2,ic		000502
000501  aa   777777 3760 07	anq  	262143,dl
000502  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000503  aa  6 00345 7561 00	stq  	pr6|229
000504  aa  6 00032 3715 20	epp5 	pr6|26,*
000505  aa  5 00014 3535 20	epp3 	pr5|12,*
000506  aa  6 00310 2535 00	spri3	pr6|200
						STATEMENT 1 ON LINE 146
	dirname = P_dirname;

000507  aa  6 00032 3735 20	epp7 	pr6|26,*
000510  aa  7 00002 3715 20	epp5 	pr7|2,*
000511  aa  6 00320 2351 00	lda  	pr6|208
000512  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000513  aa  5 00000 00 0005	desc9a	pr5|0,al		P_dirname
000514  aa  6 00110 00 0250	desc9a	pr6|72,168	dirname
						STATEMENT 1 ON LINE 147
	entryname = P_entryname;

000515  aa  7 00004 3535 20	epp3 	pr7|4,*
000516  aa  6 00321 2361 00	ldq  	pr6|209
000517  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000520  aa  3 00000 00 0006	desc9a	pr3|0,ql		P_entryname
000521  aa  6 00162 00 0040	desc9a	pr6|114,32	entryname
						STATEMENT 1 ON LINE 148
	target_dirname = P_target_dirname;

000522  aa  7 00006 3515 20	epp1 	pr7|6,*
000523  aa  6 00344 2351 00	lda  	pr6|228
000524  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000525  aa  1 00000 00 0005	desc9a	pr1|0,al		P_target_dirname
000526  aa  6 00215 00 0250	desc9a	pr6|141,168	target_dirname
						STATEMENT 1 ON LINE 149
	target_entryname = P_target_entryname;

000527  aa  7 00010 3715 20	epp5 	pr7|8,*
000530  aa  6 00345 2361 00	ldq  	pr6|229
000531  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000532  aa  5 00000 00 0006	desc9a	pr5|0,ql		P_target_entryname
000533  aa  6 00267 00 0040	desc9a	pr6|183,32	target_entryname
						STATEMENT 1 ON LINE 151
	code = 0;

000534  aa  6 00104 4501 00	stz  	pr6|68		code
						STATEMENT 1 ON LINE 152
	error_on_target = "0"b;

000535  aa  6 00277 4501 00	stz  	pr6|191		error_on_target
						STATEMENT 1 ON LINE 154
	saved_level = -1;

000536  aa   000001 3360 07	lcq  	1,dl
000537  aa  6 00214 7561 00	stq  	pr6|140		saved_level
						STATEMENT 1 ON LINE 155
	on cleanup call reset_level;

000540  aa   000007 7260 07	lxl6 	7,dl
000541  aa   777251 3520 04	epp2 	-343,ic		000012 = 143154145141
000542  aa  0 00717 7001 00	tsx0 	pr0|463		enable
000543  aa   000004 7100 04	tra  	4,ic		000547
000544  aa     000300000000
000545  aa   000015 7100 04	tra  	13,ic		000562
BEGIN CONDITION cleanup.4
ENTRY TO cleanup.4                                          STATEMENT 1 ON LINE 155
	on cleanup call reset_level;

000546  da     000204200000
000547  aa   000100 6270 00	eax7 	64
000550  aa  7 00034 3521 20	epp2 	pr7|28,*
000551  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
000552  aa     000000000000
000553  aa     000000000000
000554  aa   000001 7270 07	lxl7 	1,dl
000555  aa  6 00056 6211 00	eax1 	pr6|46
000556  aa   000000 4310 07	fld  	0,dl
000557  aa   001002 3520 04	epp2 	514,ic		001561 = 000120627000
000560  aa  0 00627 7001 00	tsx0 	pr0|407		call_int_other
000561  aa  0 00631 7101 00	tra  	pr0|409		return
  END CONDITION cleanup.4
						STATEMENT 1 ON LINE 156
	call set_level;

000562  aa   001022 6700 04	tsp4 	530,ic		001604
						STATEMENT 1 ON LINE 158
	call pnt_fs_util_$copy (dirname, entryname, target_dirname, target_entryname, error_on_target, code);

000563  aa  6 00110 3521 00	epp2 	pr6|72		dirname
000564  aa  6 00376 2521 00	spri2	pr6|254
000565  aa  6 00162 3521 00	epp2 	pr6|114		entryname
000566  aa  6 00400 2521 00	spri2	pr6|256
000567  aa  6 00215 3521 00	epp2 	pr6|141		target_dirname
000570  aa  6 00402 2521 00	spri2	pr6|258
000571  aa  6 00267 3521 00	epp2 	pr6|183		target_entryname
000572  aa  6 00404 2521 00	spri2	pr6|260
000573  aa  6 00277 3521 00	epp2 	pr6|191		error_on_target
000574  aa  6 00406 2521 00	spri2	pr6|262
000575  aa  6 00104 3521 00	epp2 	pr6|68		code
000576  aa  6 00410 2521 00	spri2	pr6|264
000577  aa   777203 3520 04	epp2 	-381,ic		000002 = 526000000250
000600  aa  6 00412 2521 00	spri2	pr6|266
000601  aa  6 00416 2521 00	spri2	pr6|270
000602  aa   777177 3520 04	epp2 	-385,ic		000001 = 526000000040
000603  aa  6 00414 2521 00	spri2	pr6|268
000604  aa  6 00420 2521 00	spri2	pr6|272
000605  aa   777177 3520 04	epp2 	-385,ic		000004 = 514000000001
000606  aa  6 00422 2521 00	spri2	pr6|274
000607  aa   777177 3520 04	epp2 	-385,ic		000006 = 404000000043
000610  aa  6 00424 2521 00	spri2	pr6|276
000611  aa  6 00374 6211 00	eax1 	pr6|252
000612  aa   030000 4310 07	fld  	12288,dl
000613  aa  6 00044 3701 20	epp4 	pr6|36,*
000614  la  4 00026 3521 20	epp2 	pr4|22,*		pnt_fs_util_$copy
000615  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 160
	P_error_on_target = error_on_target;

000616  aa  6 00277 2351 00	lda  	pr6|191		error_on_target
000617  aa  0 00002 3771 00	anaq 	pr0|2		= 400000000000 000000000000
000620  aa  6 00032 3735 20	epp7 	pr6|26,*
000621  aa  7 00012 7551 20	sta  	pr7|10,*		P_error_on_target
						STATEMENT 1 ON LINE 161
	P_code = code;

000622  aa  6 00104 2361 00	ldq  	pr6|68		code
000623  aa  6 00310 7561 20	stq  	pr6|200,*		P_code
						STATEMENT 1 ON LINE 162
	call reset_level;

000624  aa  6 00056 6211 00	eax1 	pr6|46
000625  aa   000000 4310 07	fld  	0,dl
000626  aa   000733 3520 04	epp2 	475,ic		001561 = 000120627000
000627  aa  0 00625 7001 00	tsx0 	pr0|405		call_int_this
						STATEMENT 1 ON LINE 163
	return;

000630  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO list_acl                                           STATEMENT 1 ON LINE 165
list_acl:
     entry (P_dirname, P_entryname, P_desired_version, P_area_ptr, P_acl_ptr, P_code);

000631  at     000006000007
000632  tt     000007000007
000633  tt     000010000010
000634  ta     000006000000
000635  ta     000631000000
000636  da     000207300000
000637  aa   000440 6270 00	eax7 	288
000640  aa  7 00034 3521 20	epp2 	pr7|28,*
000641  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
000642  aa     000014000000
000643  aa     000000000000
000644  aa  6 00042 3735 20	epp7 	pr6|34,*
000645  aa  7 00000 2361 20	ldq  	pr7|0,*
000646  aa   000002 6040 04	tmi  	2,ic		000650
000647  aa   777777 3760 07	anq  	262143,dl
000650  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000651  aa  6 00320 7561 00	stq  	pr6|208
000652  aa  7 00002 2361 20	ldq  	pr7|2,*
000653  aa   000002 6040 04	tmi  	2,ic		000655
000654  aa   777777 3760 07	anq  	262143,dl
000655  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000656  aa  6 00321 7561 00	stq  	pr6|209
000657  aa  7 00004 2361 20	ldq  	pr7|4,*
000660  aa   000002 6040 04	tmi  	2,ic		000662
000661  aa   777777 3760 07	anq  	262143,dl
000662  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000663  aa  6 00344 7561 00	stq  	pr6|228
000664  aa  6 00032 3715 20	epp5 	pr6|26,*
000665  aa  5 00012 3535 20	epp3 	pr5|10,*
000666  aa  6 00306 2535 00	spri3	pr6|198
000667  aa  5 00014 3515 20	epp1 	pr5|12,*
000670  aa  6 00310 2515 00	spri1	pr6|200
						STATEMENT 1 ON LINE 168
	dirname = P_dirname;

000671  aa  6 00032 3735 20	epp7 	pr6|26,*
000672  aa  7 00002 3715 20	epp5 	pr7|2,*
000673  aa  6 00320 2351 00	lda  	pr6|208
000674  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000675  aa  5 00000 00 0005	desc9a	pr5|0,al		P_dirname
000676  aa  6 00110 00 0250	desc9a	pr6|72,168	dirname
						STATEMENT 1 ON LINE 169
	entryname = P_entryname;

000677  aa  7 00004 3535 20	epp3 	pr7|4,*
000700  aa  6 00321 2361 00	ldq  	pr6|209
000701  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000702  aa  3 00000 00 0006	desc9a	pr3|0,ql		P_entryname
000703  aa  6 00162 00 0040	desc9a	pr6|114,32	entryname
						STATEMENT 1 ON LINE 170
	desired_version = P_desired_version;

000704  aa  7 00006 3515 20	epp1 	pr7|6,*
000705  aa  6 00344 2351 00	lda  	pr6|228
000706  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000707  aa  1 00000 00 0005	desc9a	pr1|0,al		P_desired_version
000710  aa  6 00106 00 0010	desc9a	pr6|70,8		desired_version
						STATEMENT 1 ON LINE 171
	area_ptr = P_area_ptr;

000711  aa  7 00010 3715 20	epp5 	pr7|8,*		P_area_ptr
000712  aa  5 00000 3715 20	epp5 	pr5|0,*		P_area_ptr
000713  aa  6 00102 6515 00	spri5	pr6|66		area_ptr
						STATEMENT 1 ON LINE 172
	acl_ptr = P_acl_ptr;

000714  aa  6 00306 3535 20	epp3 	pr6|198,*		P_acl_ptr
000715  aa  3 00000 3535 20	epp3 	pr3|0,*		P_acl_ptr
000716  aa  6 00100 2535 00	spri3	pr6|64		acl_ptr
						STATEMENT 1 ON LINE 174
	code = 0;

000717  aa  6 00104 4501 00	stz  	pr6|68		code
						STATEMENT 1 ON LINE 176
	saved_level = -1;

000720  aa   000001 3360 07	lcq  	1,dl
000721  aa  6 00214 7561 00	stq  	pr6|140		saved_level
						STATEMENT 1 ON LINE 177
	on cleanup call reset_level;

000722  aa   000007 7260 07	lxl6 	7,dl
000723  aa   777067 3520 04	epp2 	-457,ic		000012 = 143154145141
000724  aa  0 00717 7001 00	tsx0 	pr0|463		enable
000725  aa   000004 7100 04	tra  	4,ic		000731
000726  aa     000300000000
000727  aa   000015 7100 04	tra  	13,ic		000744
BEGIN CONDITION cleanup.5
ENTRY TO cleanup.5                                          STATEMENT 1 ON LINE 177
	on cleanup call reset_level;

000730  da     000215200000
000731  aa   000100 6270 00	eax7 	64
000732  aa  7 00034 3521 20	epp2 	pr7|28,*
000733  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
000734  aa     000000000000
000735  aa     000000000000
000736  aa   000001 7270 07	lxl7 	1,dl
000737  aa  6 00056 6211 00	eax1 	pr6|46
000740  aa   000000 4310 07	fld  	0,dl
000741  aa   000620 3520 04	epp2 	400,ic		001561 = 000120627000
000742  aa  0 00627 7001 00	tsx0 	pr0|407		call_int_other
000743  aa  0 00631 7101 00	tra  	pr0|409		return
  END CONDITION cleanup.5
						STATEMENT 1 ON LINE 178
	call set_level;

000744  aa   000640 6700 04	tsp4 	416,ic		001604
						STATEMENT 1 ON LINE 180
	call pnt_fs_util_$list_acl (dirname, entryname, desired_version, area_ptr, acl_ptr, code);

000745  aa  6 00110 3521 00	epp2 	pr6|72		dirname
000746  aa  6 00376 2521 00	spri2	pr6|254
000747  aa  6 00162 3521 00	epp2 	pr6|114		entryname
000750  aa  6 00400 2521 00	spri2	pr6|256
000751  aa  6 00106 3521 00	epp2 	pr6|70		desired_version
000752  aa  6 00402 2521 00	spri2	pr6|258
000753  aa  6 00102 3521 00	epp2 	pr6|66		area_ptr
000754  aa  6 00404 2521 00	spri2	pr6|260
000755  aa  6 00100 3521 00	epp2 	pr6|64		acl_ptr
000756  aa  6 00406 2521 00	spri2	pr6|262
000757  aa  6 00104 3521 00	epp2 	pr6|68		code
000760  aa  6 00410 2521 00	spri2	pr6|264
000761  aa   777021 3520 04	epp2 	-495,ic		000002 = 526000000250
000762  aa  6 00412 2521 00	spri2	pr6|266
000763  aa   777016 3520 04	epp2 	-498,ic		000001 = 526000000040
000764  aa  6 00414 2521 00	spri2	pr6|268
000765  aa   777013 3520 04	epp2 	-501,ic		000000 = 526000000010
000766  aa  6 00416 2521 00	spri2	pr6|270
000767  aa   777021 3520 04	epp2 	-495,ic		000010 = 464000000000
000770  aa  6 00420 2521 00	spri2	pr6|272
000771  aa  6 00422 2521 00	spri2	pr6|274
000772  aa   777014 3520 04	epp2 	-500,ic		000006 = 404000000043
000773  aa  6 00424 2521 00	spri2	pr6|276
000774  aa  6 00374 6211 00	eax1 	pr6|252
000775  aa   030000 4310 07	fld  	12288,dl
000776  aa  6 00044 3701 20	epp4 	pr6|36,*
000777  la  4 00030 3521 20	epp2 	pr4|24,*		pnt_fs_util_$list_acl
001000  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 185
	P_acl_ptr = acl_ptr;

001001  aa  6 00100 3735 20	epp7 	pr6|64,*		acl_ptr
001002  aa  6 00306 6535 20	spri7	pr6|198,*		P_acl_ptr
						STATEMENT 1 ON LINE 186
	P_code = code;

001003  aa  6 00104 2361 00	ldq  	pr6|68		code
001004  aa  6 00310 7561 20	stq  	pr6|200,*		P_code
						STATEMENT 1 ON LINE 187
	call reset_level;

001005  aa  6 00056 6211 00	eax1 	pr6|46
001006  aa   000000 4310 07	fld  	0,dl
001007  aa   000552 3520 04	epp2 	362,ic		001561 = 000120627000
001010  aa  0 00625 7001 00	tsx0 	pr0|405		call_int_this
						STATEMENT 1 ON LINE 188
	return;

001011  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO add_acl_entries                                    STATEMENT 1 ON LINE 190
add_acl_entries:
     entry (P_dirname, P_entryname, P_acl_ptr, P_code);

001012  at     000004000007
001013  tt     000007000010
001014  ta     000006000000
001015  ta     001012000000
001016  da     000220300000
001017  aa   000440 6270 00	eax7 	288
001020  aa  7 00034 3521 20	epp2 	pr7|28,*
001021  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
001022  aa     000010000000
001023  aa     000000000000
001024  aa  6 00042 3735 20	epp7 	pr6|34,*
001025  aa  7 00000 2361 20	ldq  	pr7|0,*
001026  aa   000002 6040 04	tmi  	2,ic		001030
001027  aa   777777 3760 07	anq  	262143,dl
001030  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001031  aa  6 00320 7561 00	stq  	pr6|208
001032  aa  7 00002 2361 20	ldq  	pr7|2,*
001033  aa   000002 6040 04	tmi  	2,ic		001035
001034  aa   777777 3760 07	anq  	262143,dl
001035  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001036  aa  6 00321 7561 00	stq  	pr6|209
001037  aa  6 00032 3715 20	epp5 	pr6|26,*
001040  aa  5 00006 3535 20	epp3 	pr5|6,*
001041  aa  6 00306 2535 00	spri3	pr6|198
001042  aa  5 00010 3515 20	epp1 	pr5|8,*
001043  aa  6 00310 2515 00	spri1	pr6|200
						STATEMENT 1 ON LINE 193
	dirname = P_dirname;

001044  aa  6 00032 3735 20	epp7 	pr6|26,*
001045  aa  7 00002 3715 20	epp5 	pr7|2,*
001046  aa  6 00320 2351 00	lda  	pr6|208
001047  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001050  aa  5 00000 00 0005	desc9a	pr5|0,al		P_dirname
001051  aa  6 00110 00 0250	desc9a	pr6|72,168	dirname
						STATEMENT 1 ON LINE 194
	entryname = P_entryname;

001052  aa  7 00004 3535 20	epp3 	pr7|4,*
001053  aa  6 00321 2361 00	ldq  	pr6|209
001054  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001055  aa  3 00000 00 0006	desc9a	pr3|0,ql		P_entryname
001056  aa  6 00162 00 0040	desc9a	pr6|114,32	entryname
						STATEMENT 1 ON LINE 195
	acl_ptr = P_acl_ptr;

001057  aa  6 00306 3515 20	epp1 	pr6|198,*		P_acl_ptr
001060  aa  1 00000 3515 20	epp1 	pr1|0,*		P_acl_ptr
001061  aa  6 00100 2515 00	spri1	pr6|64		acl_ptr
						STATEMENT 1 ON LINE 197
	code = 0;

001062  aa  6 00104 4501 00	stz  	pr6|68		code
						STATEMENT 1 ON LINE 199
	saved_level = -1;

001063  aa   000001 3360 07	lcq  	1,dl
001064  aa  6 00214 7561 00	stq  	pr6|140		saved_level
						STATEMENT 1 ON LINE 200
	on cleanup call reset_level;

001065  aa   000007 7260 07	lxl6 	7,dl
001066  aa   776724 3520 04	epp2 	-556,ic		000012 = 143154145141
001067  aa  0 00717 7001 00	tsx0 	pr0|463		enable
001070  aa   000004 7100 04	tra  	4,ic		001074
001071  aa     000300000000
001072  aa   000015 7100 04	tra  	13,ic		001107
BEGIN CONDITION cleanup.6
ENTRY TO cleanup.6                                          STATEMENT 1 ON LINE 200
	on cleanup call reset_level;

001073  da     000226200000
001074  aa   000100 6270 00	eax7 	64
001075  aa  7 00034 3521 20	epp2 	pr7|28,*
001076  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
001077  aa     000000000000
001100  aa     000000000000
001101  aa   000001 7270 07	lxl7 	1,dl
001102  aa  6 00056 6211 00	eax1 	pr6|46
001103  aa   000000 4310 07	fld  	0,dl
001104  aa   000455 3520 04	epp2 	301,ic		001561 = 000120627000
001105  aa  0 00627 7001 00	tsx0 	pr0|407		call_int_other
001106  aa  0 00631 7101 00	tra  	pr0|409		return
  END CONDITION cleanup.6
						STATEMENT 1 ON LINE 201
	call set_level;

001107  aa   000475 6700 04	tsp4 	317,ic		001604
						STATEMENT 1 ON LINE 203
	call pnt_fs_util_$add_acl_entries (dirname, entryname, acl_ptr, code);

001110  aa  6 00110 3521 00	epp2 	pr6|72		dirname
001111  aa  6 00324 2521 00	spri2	pr6|212
001112  aa  6 00162 3521 00	epp2 	pr6|114		entryname
001113  aa  6 00326 2521 00	spri2	pr6|214
001114  aa  6 00100 3521 00	epp2 	pr6|64		acl_ptr
001115  aa  6 00330 2521 00	spri2	pr6|216
001116  aa  6 00104 3521 00	epp2 	pr6|68		code
001117  aa  6 00332 2521 00	spri2	pr6|218
001120  aa   776662 3520 04	epp2 	-590,ic		000002 = 526000000250
001121  aa  6 00334 2521 00	spri2	pr6|220
001122  aa   776657 3520 04	epp2 	-593,ic		000001 = 526000000040
001123  aa  6 00336 2521 00	spri2	pr6|222
001124  aa   776664 3520 04	epp2 	-588,ic		000010 = 464000000000
001125  aa  6 00340 2521 00	spri2	pr6|224
001126  aa   776660 3520 04	epp2 	-592,ic		000006 = 404000000043
001127  aa  6 00342 2521 00	spri2	pr6|226
001130  aa  6 00322 6211 00	eax1 	pr6|210
001131  aa   020000 4310 07	fld  	8192,dl
001132  aa  6 00044 3701 20	epp4 	pr6|36,*
001133  la  4 00016 3521 20	epp2 	pr4|14,*		pnt_fs_util_$add_acl_entries
001134  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 205
	P_code = code;

001135  aa  6 00104 2361 00	ldq  	pr6|68		code
001136  aa  6 00310 7561 20	stq  	pr6|200,*		P_code
						STATEMENT 1 ON LINE 206
	call reset_level;

001137  aa  6 00056 6211 00	eax1 	pr6|46
001140  aa   000000 4310 07	fld  	0,dl
001141  aa   000420 3520 04	epp2 	272,ic		001561 = 000120627000
001142  aa  0 00625 7001 00	tsx0 	pr0|405		call_int_this
						STATEMENT 1 ON LINE 207
	return;

001143  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO delete_acl_entries                                 STATEMENT 1 ON LINE 209
delete_acl_entries:
     entry (P_dirname, P_entryname, P_acl_ptr, P_code);

001144  ta     001012000000
001145  da     000231300000
001146  aa   000440 6270 00	eax7 	288
001147  aa  7 00034 3521 20	epp2 	pr7|28,*
001150  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
001151  aa     000010000000
001152  aa     000000000000
001153  aa  6 00042 3735 20	epp7 	pr6|34,*
001154  aa  7 00000 2361 20	ldq  	pr7|0,*
001155  aa   000002 6040 04	tmi  	2,ic		001157
001156  aa   777777 3760 07	anq  	262143,dl
001157  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001160  aa  6 00320 7561 00	stq  	pr6|208
001161  aa  7 00002 2361 20	ldq  	pr7|2,*
001162  aa   000002 6040 04	tmi  	2,ic		001164
001163  aa   777777 3760 07	anq  	262143,dl
001164  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001165  aa  6 00321 7561 00	stq  	pr6|209
001166  aa  6 00032 3715 20	epp5 	pr6|26,*
001167  aa  5 00006 3535 20	epp3 	pr5|6,*
001170  aa  6 00306 2535 00	spri3	pr6|198
001171  aa  5 00010 3515 20	epp1 	pr5|8,*
001172  aa  6 00310 2515 00	spri1	pr6|200
						STATEMENT 1 ON LINE 212
	dirname = P_dirname;

001173  aa  6 00032 3735 20	epp7 	pr6|26,*
001174  aa  7 00002 3715 20	epp5 	pr7|2,*
001175  aa  6 00320 2351 00	lda  	pr6|208
001176  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001177  aa  5 00000 00 0005	desc9a	pr5|0,al		P_dirname
001200  aa  6 00110 00 0250	desc9a	pr6|72,168	dirname
						STATEMENT 1 ON LINE 213
	entryname = P_entryname;

001201  aa  7 00004 3535 20	epp3 	pr7|4,*
001202  aa  6 00321 2361 00	ldq  	pr6|209
001203  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001204  aa  3 00000 00 0006	desc9a	pr3|0,ql		P_entryname
001205  aa  6 00162 00 0040	desc9a	pr6|114,32	entryname
						STATEMENT 1 ON LINE 214
	acl_ptr = P_acl_ptr;

001206  aa  6 00306 3515 20	epp1 	pr6|198,*		P_acl_ptr
001207  aa  1 00000 3515 20	epp1 	pr1|0,*		P_acl_ptr
001210  aa  6 00100 2515 00	spri1	pr6|64		acl_ptr
						STATEMENT 1 ON LINE 216
	code = 0;

001211  aa  6 00104 4501 00	stz  	pr6|68		code
						STATEMENT 1 ON LINE 218
	saved_level = -1;

001212  aa   000001 3360 07	lcq  	1,dl
001213  aa  6 00214 7561 00	stq  	pr6|140		saved_level
						STATEMENT 1 ON LINE 219
	on cleanup call reset_level;

001214  aa   000007 7260 07	lxl6 	7,dl
001215  aa   776575 3520 04	epp2 	-643,ic		000012 = 143154145141
001216  aa  0 00717 7001 00	tsx0 	pr0|463		enable
001217  aa   000004 7100 04	tra  	4,ic		001223
001220  aa     000300000000
001221  aa   000015 7100 04	tra  	13,ic		001236
BEGIN CONDITION cleanup.7
ENTRY TO cleanup.7                                          STATEMENT 1 ON LINE 219
	on cleanup call reset_level;

001222  da     000237200000
001223  aa   000100 6270 00	eax7 	64
001224  aa  7 00034 3521 20	epp2 	pr7|28,*
001225  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
001226  aa     000000000000
001227  aa     000000000000
001230  aa   000001 7270 07	lxl7 	1,dl
001231  aa  6 00056 6211 00	eax1 	pr6|46
001232  aa   000000 4310 07	fld  	0,dl
001233  aa   000326 3520 04	epp2 	214,ic		001561 = 000120627000
001234  aa  0 00627 7001 00	tsx0 	pr0|407		call_int_other
001235  aa  0 00631 7101 00	tra  	pr0|409		return
  END CONDITION cleanup.7
						STATEMENT 1 ON LINE 220
	call set_level;

001236  aa   000346 6700 04	tsp4 	230,ic		001604
						STATEMENT 1 ON LINE 222
	call pnt_fs_util_$delete_acl_entries (dirname, entryname, acl_ptr, code);

001237  aa  6 00110 3521 00	epp2 	pr6|72		dirname
001240  aa  6 00324 2521 00	spri2	pr6|212
001241  aa  6 00162 3521 00	epp2 	pr6|114		entryname
001242  aa  6 00326 2521 00	spri2	pr6|214
001243  aa  6 00100 3521 00	epp2 	pr6|64		acl_ptr
001244  aa  6 00330 2521 00	spri2	pr6|216
001245  aa  6 00104 3521 00	epp2 	pr6|68		code
001246  aa  6 00332 2521 00	spri2	pr6|218
001247  aa   776533 3520 04	epp2 	-677,ic		000002 = 526000000250
001250  aa  6 00334 2521 00	spri2	pr6|220
001251  aa   776530 3520 04	epp2 	-680,ic		000001 = 526000000040
001252  aa  6 00336 2521 00	spri2	pr6|222
001253  aa   776535 3520 04	epp2 	-675,ic		000010 = 464000000000
001254  aa  6 00340 2521 00	spri2	pr6|224
001255  aa   776531 3520 04	epp2 	-679,ic		000006 = 404000000043
001256  aa  6 00342 2521 00	spri2	pr6|226
001257  aa  6 00322 6211 00	eax1 	pr6|210
001260  aa   020000 4310 07	fld  	8192,dl
001261  aa  6 00044 3701 20	epp4 	pr6|36,*
001262  la  4 00024 3521 20	epp2 	pr4|20,*		pnt_fs_util_$delete_acl_entries
001263  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 224
	P_acl_ptr = acl_ptr;

001264  aa  6 00100 3735 20	epp7 	pr6|64,*		acl_ptr
001265  aa  6 00306 6535 20	spri7	pr6|198,*		P_acl_ptr
						STATEMENT 1 ON LINE 225
	P_code = code;

001266  aa  6 00104 2361 00	ldq  	pr6|68		code
001267  aa  6 00310 7561 20	stq  	pr6|200,*		P_code
						STATEMENT 1 ON LINE 226
	call reset_level;

001270  aa  6 00056 6211 00	eax1 	pr6|46
001271  aa   000000 4310 07	fld  	0,dl
001272  aa   000267 3520 04	epp2 	183,ic		001561 = 000120627000
001273  aa  0 00625 7001 00	tsx0 	pr0|405		call_int_this
						STATEMENT 1 ON LINE 227
	return;

001274  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO replace_acl                                        STATEMENT 1 ON LINE 229
replace_acl:
     entry (P_dirname, P_entryname, P_acl_ptr, P_no_sysdaemon, P_code);

001275  at     000005000007
001276  tt     000007000010
001277  tt     000005000006
001300  ta     001275000000
001301  da     000242300000
001302  aa   000440 6270 00	eax7 	288
001303  aa  7 00034 3521 20	epp2 	pr7|28,*
001304  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
001305  aa     000012000000
001306  aa     000000000000
001307  aa  6 00042 3735 20	epp7 	pr6|34,*
001310  aa  7 00000 2361 20	ldq  	pr7|0,*
001311  aa   000002 6040 04	tmi  	2,ic		001313
001312  aa   777777 3760 07	anq  	262143,dl
001313  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001314  aa  6 00320 7561 00	stq  	pr6|208
001315  aa  7 00002 2361 20	ldq  	pr7|2,*
001316  aa   000002 6040 04	tmi  	2,ic		001320
001317  aa   777777 3760 07	anq  	262143,dl
001320  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001321  aa  6 00321 7561 00	stq  	pr6|209
001322  aa  6 00032 3715 20	epp5 	pr6|26,*
001323  aa  5 00006 3535 20	epp3 	pr5|6,*
001324  aa  6 00306 2535 00	spri3	pr6|198
001325  aa  5 00012 3515 20	epp1 	pr5|10,*
001326  aa  6 00310 2515 00	spri1	pr6|200
						STATEMENT 1 ON LINE 232
	dirname = P_dirname;

001327  aa  6 00032 3735 20	epp7 	pr6|26,*
001330  aa  7 00002 3715 20	epp5 	pr7|2,*
001331  aa  6 00320 2351 00	lda  	pr6|208
001332  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001333  aa  5 00000 00 0005	desc9a	pr5|0,al		P_dirname
001334  aa  6 00110 00 0250	desc9a	pr6|72,168	dirname
						STATEMENT 1 ON LINE 233
	entryname = P_entryname;

001335  aa  7 00004 3535 20	epp3 	pr7|4,*
001336  aa  6 00321 2361 00	ldq  	pr6|209
001337  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001340  aa  3 00000 00 0006	desc9a	pr3|0,ql		P_entryname
001341  aa  6 00162 00 0040	desc9a	pr6|114,32	entryname
						STATEMENT 1 ON LINE 234
	acl_ptr = P_acl_ptr;

001342  aa  6 00306 3515 20	epp1 	pr6|198,*		P_acl_ptr
001343  aa  1 00000 3515 20	epp1 	pr1|0,*		P_acl_ptr
001344  aa  6 00100 2515 00	spri1	pr6|64		acl_ptr
						STATEMENT 1 ON LINE 235
	no_sysdaemon = P_no_sysdaemon;

001345  aa  6 00202 4501 00	stz  	pr6|130		no_sysdaemon
001346  aa  7 00010 3715 20	epp5 	pr7|8,*
001347  aa  003 100 060 500	csl  	(pr),(pr),fill(0),bool(move)
001350  aa  5 00000 00 0001	descb	pr5|0,1		P_no_sysdaemon
001351  aa  6 00202 00 0001	descb	pr6|130,1		no_sysdaemon
						STATEMENT 1 ON LINE 237
	code = 0;

001352  aa  6 00104 4501 00	stz  	pr6|68		code
						STATEMENT 1 ON LINE 239
	saved_level = -1;

001353  aa   000001 3360 07	lcq  	1,dl
001354  aa  6 00214 7561 00	stq  	pr6|140		saved_level
						STATEMENT 1 ON LINE 240
	on cleanup call reset_level;

001355  aa   000007 7260 07	lxl6 	7,dl
001356  aa   776434 3520 04	epp2 	-740,ic		000012 = 143154145141
001357  aa  0 00717 7001 00	tsx0 	pr0|463		enable
001360  aa   000004 7100 04	tra  	4,ic		001364
001361  aa     000300000000
001362  aa   000015 7100 04	tra  	13,ic		001377
BEGIN CONDITION cleanup.8
ENTRY TO cleanup.8                                          STATEMENT 1 ON LINE 240
	on cleanup call reset_level;

001363  da     000250200000
001364  aa   000100 6270 00	eax7 	64
001365  aa  7 00034 3521 20	epp2 	pr7|28,*
001366  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
001367  aa     000000000000
001370  aa     000000000000
001371  aa   000001 7270 07	lxl7 	1,dl
001372  aa  6 00056 6211 00	eax1 	pr6|46
001373  aa   000000 4310 07	fld  	0,dl
001374  aa   000165 3520 04	epp2 	117,ic		001561 = 000120627000
001375  aa  0 00627 7001 00	tsx0 	pr0|407		call_int_other
001376  aa  0 00631 7101 00	tra  	pr0|409		return
  END CONDITION cleanup.8
						STATEMENT 1 ON LINE 241
	call set_level;

001377  aa   000205 6700 04	tsp4 	133,ic		001604
						STATEMENT 1 ON LINE 243
	call pnt_fs_util_$replace_acl (dirname, entryname, acl_ptr, no_sysdaemon, code);

001400  aa  6 00110 3521 00	epp2 	pr6|72		dirname
001401  aa  6 00350 2521 00	spri2	pr6|232
001402  aa  6 00162 3521 00	epp2 	pr6|114		entryname
001403  aa  6 00352 2521 00	spri2	pr6|234
001404  aa  6 00100 3521 00	epp2 	pr6|64		acl_ptr
001405  aa  6 00354 2521 00	spri2	pr6|236
001406  aa  6 00202 3521 00	epp2 	pr6|130		no_sysdaemon
001407  aa  6 00356 2521 00	spri2	pr6|238
001410  aa  6 00104 3521 00	epp2 	pr6|68		code
001411  aa  6 00360 2521 00	spri2	pr6|240
001412  aa   776370 3520 04	epp2 	-776,ic		000002 = 526000000250
001413  aa  6 00362 2521 00	spri2	pr6|242
001414  aa   776365 3520 04	epp2 	-779,ic		000001 = 526000000040
001415  aa  6 00364 2521 00	spri2	pr6|244
001416  aa   776372 3520 04	epp2 	-774,ic		000010 = 464000000000
001417  aa  6 00366 2521 00	spri2	pr6|246
001420  aa   776365 3520 04	epp2 	-779,ic		000005 = 516000000001
001421  aa  6 00370 2521 00	spri2	pr6|248
001422  aa   776364 3520 04	epp2 	-780,ic		000006 = 404000000043
001423  aa  6 00372 2521 00	spri2	pr6|250
001424  aa  6 00346 6211 00	eax1 	pr6|230
001425  aa   024000 4310 07	fld  	10240,dl
001426  aa  6 00044 3701 20	epp4 	pr6|36,*
001427  la  4 00032 3521 20	epp2 	pr4|26,*		pnt_fs_util_$replace_acl
001430  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 245
	P_acl_ptr = acl_ptr;

001431  aa  6 00100 3735 20	epp7 	pr6|64,*		acl_ptr
001432  aa  6 00306 6535 20	spri7	pr6|198,*		P_acl_ptr
						STATEMENT 1 ON LINE 246
	P_code = code;

001433  aa  6 00104 2361 00	ldq  	pr6|68		code
001434  aa  6 00310 7561 20	stq  	pr6|200,*		P_code
						STATEMENT 1 ON LINE 247
	call reset_level;

001435  aa  6 00056 6211 00	eax1 	pr6|46
001436  aa   000000 4310 07	fld  	0,dl
001437  aa   000122 3520 04	epp2 	82,ic		001561 = 000120627000
001440  aa  0 00625 7001 00	tsx0 	pr0|405		call_int_this
						STATEMENT 1 ON LINE 248
	return;

001441  aa  0 00631 7101 00	tra  	pr0|409		return
ENTRY TO validate                                           STATEMENT 1 ON LINE 250
validate:
     entry (P_dirname, P_entryname, P_code);

001442  ta     000151000000
001443  da     000253300000
001444  aa   000440 6270 00	eax7 	288
001445  aa  7 00034 3521 20	epp2 	pr7|28,*
001446  aa  2 01046 2721 00	tsp2 	pr2|550		ext_entry_desc
001447  aa     000006000000
001450  aa     000000000000
001451  aa  6 00042 3735 20	epp7 	pr6|34,*
001452  aa  7 00000 2361 20	ldq  	pr7|0,*
001453  aa   000002 6040 04	tmi  	2,ic		001455
001454  aa   777777 3760 07	anq  	262143,dl
001455  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001456  aa  6 00320 7561 00	stq  	pr6|208
001457  aa  7 00002 2361 20	ldq  	pr7|2,*
001460  aa   000002 6040 04	tmi  	2,ic		001462
001461  aa   777777 3760 07	anq  	262143,dl
001462  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001463  aa  6 00321 7561 00	stq  	pr6|209
001464  aa  6 00032 3715 20	epp5 	pr6|26,*
001465  aa  5 00006 3535 20	epp3 	pr5|6,*
001466  aa  6 00310 2535 00	spri3	pr6|200
						STATEMENT 1 ON LINE 256
	code = 0;

001467  aa  6 00104 4501 00	stz  	pr6|68		code
						STATEMENT 1 ON LINE 257
	dirname = P_dirname;

001470  aa  6 00032 3735 20	epp7 	pr6|26,*
001471  aa  7 00002 3715 20	epp5 	pr7|2,*
001472  aa  6 00320 2351 00	lda  	pr6|208
001473  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001474  aa  5 00000 00 0005	desc9a	pr5|0,al		P_dirname
001475  aa  6 00110 00 0250	desc9a	pr6|72,168	dirname
						STATEMENT 1 ON LINE 258
	entryname = P_entryname;

001476  aa  7 00004 3535 20	epp3 	pr7|4,*
001477  aa  6 00321 2361 00	ldq  	pr6|209
001500  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
001501  aa  3 00000 00 0006	desc9a	pr3|0,ql		P_entryname
001502  aa  6 00162 00 0040	desc9a	pr6|114,32	entryname
						STATEMENT 1 ON LINE 260
	saved_level = -1;

001503  aa   000001 3360 07	lcq  	1,dl
001504  aa  6 00214 7561 00	stq  	pr6|140		saved_level
						STATEMENT 1 ON LINE 261
	on cleanup call reset_level;

001505  aa   000007 7260 07	lxl6 	7,dl
001506  aa   776304 3520 04	epp2 	-828,ic		000012 = 143154145141
001507  aa  0 00717 7001 00	tsx0 	pr0|463		enable
001510  aa   000004 7100 04	tra  	4,ic		001514
001511  aa     000300000000
001512  aa   000015 7100 04	tra  	13,ic		001527
BEGIN CONDITION cleanup.9
ENTRY TO cleanup.9                                          STATEMENT 1 ON LINE 261
	on cleanup call reset_level;

001513  da     000261200000
001514  aa   000100 6270 00	eax7 	64
001515  aa  7 00034 3521 20	epp2 	pr7|28,*
001516  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
001517  aa     000000000000
001520  aa     000000000000
001521  aa   000001 7270 07	lxl7 	1,dl
001522  aa  6 00056 6211 00	eax1 	pr6|46
001523  aa   000000 4310 07	fld  	0,dl
001524  aa   000035 3520 04	epp2 	29,ic		001561 = 000120627000
001525  aa  0 00627 7001 00	tsx0 	pr0|407		call_int_other
001526  aa  0 00631 7101 00	tra  	pr0|409		return
  END CONDITION cleanup.9
						STATEMENT 1 ON LINE 262
	call set_level;

001527  aa   000055 6700 04	tsp4 	45,ic		001604
						STATEMENT 1 ON LINE 264
	call pnt_fs_util_$validate (dirname, entryname, code);

001530  aa  6 00110 3521 00	epp2 	pr6|72		dirname
001531  aa  6 00324 2521 00	spri2	pr6|212
001532  aa  6 00162 3521 00	epp2 	pr6|114		entryname
001533  aa  6 00326 2521 00	spri2	pr6|214
001534  aa  6 00104 3521 00	epp2 	pr6|68		code
001535  aa  6 00330 2521 00	spri2	pr6|216
001536  aa   776244 3520 04	epp2 	-860,ic		000002 = 526000000250
001537  aa  6 00332 2521 00	spri2	pr6|218
001540  aa   776241 3520 04	epp2 	-863,ic		000001 = 526000000040
001541  aa  6 00334 2521 00	spri2	pr6|220
001542  aa   776244 3520 04	epp2 	-860,ic		000006 = 404000000043
001543  aa  6 00336 2521 00	spri2	pr6|222
001544  aa  6 00322 6211 00	eax1 	pr6|210
001545  aa   014000 4310 07	fld  	6144,dl
001546  aa  6 00044 3701 20	epp4 	pr6|36,*
001547  la  4 00036 3521 20	epp2 	pr4|30,*		pnt_fs_util_$validate
001550  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 266
	P_code = code;

001551  aa  6 00104 2361 00	ldq  	pr6|68		code
001552  aa  6 00310 7561 20	stq  	pr6|200,*		P_code
						STATEMENT 1 ON LINE 267
	call reset_level;

001553  aa  6 00056 6211 00	eax1 	pr6|46
001554  aa   000000 4310 07	fld  	0,dl
001555  aa   000004 3520 04	epp2 	4,ic		001561 = 000120627000
001556  aa  0 00625 7001 00	tsx0 	pr0|405		call_int_this
						STATEMENT 1 ON LINE 268
	return;

001557  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 295
     end pnt_fs_interface_;

BEGIN PROCEDURE reset_level
ENTRY TO reset_level                                        STATEMENT 1 ON LINE 270
reset_level:
     procedure ();

001560  da     000267200000
001561  aa   000120 6270 00	eax7 	80
001562  aa  7 00034 3521 20	epp2 	pr7|28,*
001563  aa  2 01047 2721 00	tsp2 	pr2|551		int_entry
001564  aa     000000000000
001565  aa     000000000000
						STATEMENT 1 ON LINE 276
	if saved_level ^= -1
	then do;

001566  aa  6 00040 3735 20	epp7 	pr6|32,*
001567  aa  7 00214 2361 00	ldq  	pr7|140		saved_level
001570  aa   000043 1160 04	cmpq 	35,ic		001633 = 777777777777
001571  aa   000012 6000 04	tze  	10,ic		001603
						STATEMENT 1 ON LINE 278
		call hcs_$level_set (saved_level);

001572  aa  7 00214 3521 00	epp2 	pr7|140		saved_level
001573  aa  6 00102 2521 00	spri2	pr6|66
001574  aa  6 00100 6211 00	eax1 	pr6|64
001575  aa   004000 4310 07	fld  	2048,dl
001576  la  4 00014 3521 20	epp2 	pr4|12,*		hcs_$level_set
001577  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 279
		saved_level = -1;

001600  aa   000001 3360 07	lcq  	1,dl
001601  aa  6 00040 3735 20	epp7 	pr6|32,*
001602  aa  7 00214 7561 00	stq  	pr7|140		saved_level
						STATEMENT 1 ON LINE 280
	     end;

						STATEMENT 1 ON LINE 281
	return;

001603  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 282
     end reset_level;

  END PROCEDURE reset_level
BEGIN PROCEDURE set_level
ENTRY TO set_level                                          STATEMENT 1 ON LINE 284
set_level:
     procedure ();

001604  aa  6 00312 6501 00	spri4	pr6|202
						STATEMENT 1 ON LINE 290
	call hcs_$level_get (saved_level);

001605  aa  6 00214 3521 00	epp2 	pr6|140		saved_level
001606  aa  6 00430 2521 00	spri2	pr6|280
001607  aa  6 00426 6211 00	eax1 	pr6|278
001610  aa   004000 4310 07	fld  	2048,dl
001611  aa  6 00044 3701 20	epp4 	pr6|36,*
001612  la  4 00012 3521 20	epp2 	pr4|10,*		hcs_$level_get
001613  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 291
	call hcs_$level_set (get_ring_ ());

001614  aa  6 00432 3521 00	epp2 	pr6|282
001615  aa  6 00430 2521 00	spri2	pr6|280
001616  aa  6 00426 6211 00	eax1 	pr6|278
001617  aa   004000 4310 07	fld  	2048,dl
001620  aa  6 00044 3701 20	epp4 	pr6|36,*
001621  la  4 00010 3521 20	epp2 	pr4|8,*		get_ring_
001622  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
001623  aa  6 00432 3521 00	epp2 	pr6|282
001624  aa  6 00430 2521 00	spri2	pr6|280
001625  aa  6 00426 6211 00	eax1 	pr6|278
001626  aa   004000 4310 07	fld  	2048,dl
001627  aa  6 00044 3701 20	epp4 	pr6|36,*
001630  la  4 00014 3521 20	epp2 	pr4|12,*		hcs_$level_set
001631  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 292
	return;

001632  aa  6 00312 6101 00	rtcd 	pr6|202
						STATEMENT 1 ON LINE 293
     end set_level;

  END PROCEDURE set_level
  END PROCEDURE pnt_fs_interface_


                                          -----------------------------------------------------------


Historical Background

This edition of the Multics software materials and documentation is provided and donated
to Massachusetts Institute of Technology by Group BULL including BULL HN Information Systems Inc. 
as a contribution to computer science knowledge.  
This donation is made also to give evidence of the common contributions of Massachusetts Institute of Technology,
Bell Laboratories, General Electric, Honeywell Information Systems Inc., Honeywell BULL Inc., Groupe BULL
and BULL HN Information Systems Inc. to the development of this operating system. 
Multics development was initiated by Massachusetts Institute of Technology Project MAC (1963-1970),
renamed the MIT Laboratory for Computer Science and Artificial Intelligence in the mid 1970s, under the leadership
of Professor Fernando Jose Corbato. Users consider that Multics provided the best software architecture 
for managing computer hardware properly and for executing programs. Many subsequent operating systems 
incorporated Multics principles.
Multics was distributed in 1975 to 2000 by Group Bull in Europe , and in the U.S. by Bull HN Information Systems Inc., 
as successor in interest by change in name only to Honeywell Bull Inc. and Honeywell Information Systems Inc. .

                                          -----------------------------------------------------------

Permission to use, copy, modify, and distribute these programs and their documentation for any purpose and without
fee is hereby granted,provided that the below copyright notice and historical background appear in all copies
and that both the copyright notice and historical background and this permission notice appear in supporting
documentation, and that the names of MIT, HIS, BULL or BULL HN not be used in advertising or publicity pertaining
to distribution of the programs without specific prior written permission.
    Copyright 1972 by Massachusetts Institute of Technology and Honeywell Information Systems Inc.
    Copyright 2006 by BULL HN Information Systems Inc.
    Copyright 2006 by Bull SAS
    All Rights Reserved
