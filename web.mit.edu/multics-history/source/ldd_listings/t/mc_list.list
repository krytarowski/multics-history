	COMPILATION LISTING OF SEGMENT mc_list
	Compiled by: Multics PL/I Compiler, Release 28d, of October 4, 1983
	Compiled at: Honeywell Multics Op. - System M
	Compiled on: 02/06/85  1448.0 mst Wed
	    Options: optimize list

        1 /* ***********************************************************
        2*   *                                                         *
        3*   * Copyright, (C) Honeywell Information Systems Inc., 1982 *
        4*   *                                                         *
        5*   * Copyright (c) 1972 by Massachusetts Institute of        *
        6*   * Technology and Honeywell Information Systems, Inc.      *
        7*   *                                                         *
        8*   *********************************************************** */
        9 
       10 
       11 mc_list: proc;
       12 
       13 /* MC_LIST - produce a set of define and route commands from current tables.
       14*
       15*   Written by THVV
       16*   Modified 750213 by PG to be able to print test_udd tables
       17**/
       18 
       19 dcl (path, dn) char (168) aligned,
       20      en char (32) aligned,
       21      srch (10) char (32) aligned,
       22     (i, j, k, l, m, n) fixed bin,
       23      write fixed bin init (0),
       24      ap ptr,
       25      al fixed bin,
       26      bchr char (al) unaligned based (ap),
       27      ec fixed bin (35);
       28 
       29 dcl (addr, index, null, search, substr) builtin;
       30 
       31 dcl  cu_$arg_ptr entry (fixed bin, ptr, fixed bin, fixed bin (35)),
       32      expand_path_ entry (ptr, fixed bin, ptr, ptr, fixed bin (35)),
       33      ioa_ entry options (variable),
       34      com_err_ entry options (variable);
       35 
       36 dcl  hcs_$initiate entry (char (*) aligned, char (*) aligned, char (*) aligned, fixed bin (1),
       37      fixed bin (2), ptr, fixed bin (35)),
       38      hcs_$terminate_noname entry (ptr, fixed bin (35));
       39 
  1     1 /* BEGIN INCLUDE FILE vcons_tab.incl.pl1  */
  1     2 /*
  1     3*Virtual Console Table
  1     4*
  1     5*Associates virtual consoles  with  physical  devices  and/or  log
  1     6*segments.  */
  1     7 
  1     8 
  1     9 dcl 1 vcons_tab aligned based based(vconsp),	/* header 4 words */
  1    10           2 lock bit(36),
  1    11           2 no_of_vcons fixed bin,
  1    12 	2 flags       bit(36),
  1    13 	2 pad1	    fixed bin,
  1    14 	2 star_entry like vcons aligned,
  1    15           2 vcons(32) like vcons aligned;
  1    16 
  1    17 dcl	1 vcons aligned based(vcep),	/* This header 10 dec  12 oct words  */
  1    18                2 vcons char(32),
  1    19                2 no_of_dest fixed bin,
  1    20 	     2 flags,
  1    21 		3 inuse	     bit(1) unal,
  1    22 		3 unused	     bit(35) unal,
  1    23                2 dest(8) aligned,	/* 12 dec 14 oct words */
  1    24 		3 type fixed bin,
  1    25 		3 pad2 fixed bin,
  1    26 		3 dest          char(32),
  1    27 		3 queue_seg_ptr ptr;
  1    28 /*
  1    29*
  1    30*vcons_tab
  1    31*lock
  1    32*no_of_vcons
  1    33*vcons
  1    34*vcons		     Symbolic name of virtual console
  1    35*no_of_dest               Number of physical destinations for
  1    36*                         messages to this virtual console.
  1    37*inuse		     "1"b if this entry is in use.
  1    38*dest                     Where the message is to be sent
  1    39*type                     1 for tty, 2 for segment
  1    40*dest                     Symbolic name of physical destination
  1    41*tty_index                If tty, index in mess coordr answer table
  1    42*seg_ptr                  if segment, pointer to it.
  1    43**/
  1    44 /* END INCLUDE FILE vcons_tab.incl.pl1   */
       40 
  2     1 /* Begin include file  mess_route_table.incl.pl1   */
  2     2 
  2     3 /*
  2     4*Message Routing Table 
  2     5*
  2     6*This table will be used by the protocol & router entries of the 
  2     7*message  coordinator  to match source (e.g. I/O Daemon, answering
  2     8*service) -- stream (e.g. "user_i/o","error_output")  combinations 
  2     9*with virtual consoles to which messages are to be directed.  
  2    10**/
  2    11 
  2    12 dcl 1 MRT aligned based(mrtp),		/* header 4 words */
  2    13 	2 lock bit(36),			/*     0 */
  2    14 	2 no_of_sources fixed bin,
  2    15 	2 flags         bit(36),
  2    16 	2 pad1	      fixed bin,
  2    17 	2 star_entry aligned,		/*     4 * */
  2    18 	     3 source	char(32),
  2    19 	     3 hismess      ptr,
  2    20 	     3 no_of_streams fixed bin,
  2    21 	     3 flags,
  2    22 		4 init    bit(1) unal,
  2    23 		4 valid   bit(1) unal,
  2    24 		4 unused  bit(34) unal,
  2    25 	     3 stream like stream aligned,	/*    20 * str */
  2    26 	2 source(16) aligned,	/* source entry head 12 dec 14 oct words */
  2    27 	     3 source	char(32),		/*   220-1,2240-2,4260-3 */
  2    28 	     3 hismess      ptr,
  2    29 	     3 no_of_streams fixed bin,
  2    30 	     3 flags,
  2    31 		4 init    bit(1) unal,
  2    32 		4 valid   bit(1) unal,
  2    33 		4 unused  bit(34) unal,
  2    34 	     3 stream(8) like stream aligned;
  2    35 
  2    36 
  2    37 dcl 1 stream aligned based(streamp),	/* 128dec 200 oct words */
  2    38 	2 gumbo(28)	fixed bin,	/* This stuff is not used */
  2    39 	2 ourmess		ptr,
  2    40 	2 hismess		ptr,
  2    41 	2 source		char(32),
  2    42 	2 stream		char(32),
  2    43 	2 source_index	fixed bin,	/* Our own address */
  2    44 	2 stream_index	fixed bin,
  2    45 	2 flags,				
  2    46 	     3 valid	bit(1) unal,
  2    47 	     3 read	bit(1) unal,
  2    48 	     3 write	bit(1) unal,
  2    49 	     3 active	bit(1) unal,
  2    50 	     3 more	bit(1) unal,
  2    51 	     3 unused	bit(23) unal,
  2    52 	     3 alarm	bit (8) unal,
  2    53 	2 prev_trans,
  2    54 	     3 first_block	fixed bin,
  2    55 	     3 end_block	fixed bin,
  2    56 	     3 current_block fixed bin,
  2    57 	     3 offset	fixed bin,
  2    58 
  2    59 	2 no_of_vcons	fixed bin,
  2    60 	2 vcons(8)	char(32),
  2    61 	2 vcons_index(8)	fixed bin;
  2    62 /*
  2    63*MRT
  2    64*lock
  2    65*no_of_sources	     Number of source rows in this matrix.
  2    66*flags
  2    67*star_entry	     Contains default routing.
  2    68*source		     The source rows
  2    69*source		     Name of this source.
  2    70*no_of_streams	     Number of stream columns that have
  2    71*		     entries in this row.
  2    72*flags
  2    73*init		     "1"b -- This entry is for a source which
  2    74*		     is currently attached & sending messages.
  2    75*valid		     "1"b -- This entry contains correct information.
  2    76*stream		     The virtual consoles for this element
  2    77*		     of the matrix.
  2    78*		     The Source Data Block, which
  2    79*		     corresponds to the Stream Data
  2    80*		     Block on the mrd side has been included
  2    81*		     in the MRT.
  2    82*gumbo		     Stream DB has stuff here we dont need.
  2    83*ourmess		     Pointer to message seg for this
  2    84*		     function (in this case mc_ ).
  2    85*hismess		     Pointer to message seg for other
  2    86*		     guy (in this case, the source).
  2    87*source		     Name of this source
  2    88*stream		     Name of this stream.
  2    89*source_index	     in MRT
  2    90*stream_index
  2    91*flags
  2    92*valid		     "1"b -- This entry contains correct information.
  2    93*active		     "1"b -- This entry is for a stream which
  2    94*		     is currently attached & sending messages.
  2    95*alarm		     "1"b -- These messages are "alarm-class" messages.
  2    96*prev_trans	     Information useful to mrd_util_ if more than
  2    97*		     one read call is made.
  2    98*first_block	     of the message
  2    99*end_block		     of the message
  2   100*current_block	     out of which we are taking text
  2   101*offset		     of current character in current_block
  2   102*
  2   103*no_of_vcons
  2   104*vcons		     Virtual consoles to which messages should
  2   105*		     go when originating from this source
  2   106*		     over this stream.
  2   107*vcons-index	     Index in the virtual console table
  2   108*ev_chn		     For waking up function waiting for
  2   109*		     input.
  2   110*messp		     Pointer to message segment if this is
  2   111*		     input stream.
  2   112**/
  2   113 
  2   114 /* End include file  mess_route_table.incl.pl1  */
       41 
       42 
       43 dcl  mrtp ptr;
       44 dcl  streamp ptr;
       45 
       46 dcl  vconsp ptr;
       47 dcl  vcep ptr;
       48 
       49 dcl  typer (3) char (4) aligned int static init ("tty", "log", "sink");
       50 
       51 /* ------------------------------------------------------- */
       52 
       53 	m = 0;
       54 	l = 0;
       55 	k = 1;
       56 	path = ">system_control_1";
       57 arglp:	call cu_$arg_ptr (k, ap, al, ec);
       58 	if ec ^= 0 then go to vct1;
       59 	if search (bchr, "<>") ^= 0			/* is it a pathname? */
       60 	     then path = bchr;
       61 	else do;
       62 	     m = m + 1;				/* it's a keyword to search for */
       63 	     if m > 10 then go to vct1;
       64 	     if bchr = "*" then l = m;
       65 	     srch (m) = bchr;
       66 	end;
       67 	k = k + 1;
       68 	go to arglp;
       69 
       70 vct1:
       71 	i = index (path, " ");
       72 	if i = 0 then i = length (path);
       73 	call expand_path_ (addr (path), i, addr (dn), null, ec);
       74 	if ec ^= 0 then do;
       75 	     call com_err_ (ec, "mc_list", "^a", path);
       76 	     return;
       77 	end;
       78 	en = "vcons_tab";
       79 	call hcs_$initiate (dn, en, "", 0, 1, vconsp, ec);
       80 	if vconsp = null then do;
       81 er:
       82 	     call com_err_ (ec, "mc_list", "^a>^a", dn, en);
       83 	     return;
       84 	end;
       85 
       86 	call pvcons ("*", addr (vcons_tab.star_entry));
       87 
       88 	do i = 1 to vcons_tab.no_of_vcons;
       89 	     if ^vcons_tab.vcons (i).flags.inuse then go to skip;
       90 	     call pvcons (vcons_tab.vcons (i).vcons, addr (vcons_tab.vcons (i)));
       91 skip:	end;
       92 
       93 	call hcs_$terminate_noname (vconsp, ec);
       94 
       95 /* --------------- */
       96 
       97 	en = "MRT";
       98 	call hcs_$initiate (dn, en, "", 0, 1, mrtp, ec);
       99 	if mrtp = null then go to er;
      100 
      101 	call pstream ("*", addr (MRT.star_entry.stream));
      102 
      103 	do i = 1 to MRT.no_of_sources;
      104 	     if ^MRT.source (i).flags.valid then go to sskip;
      105 	     do j = 1 to MRT.source (i).no_of_streams;
      106 		if MRT.source (i).stream (j).flags.valid then
      107 		     call pstream (MRT.source (i).source, addr (MRT.source (i).stream (j)));
      108 	     end;
      109 
      110 sskip:	end;
      111 
      112 	call hcs_$terminate_noname (mrtp, ec);
      113 	if write = 0 then call ioa_ ("none");
      114 	return;
      115 
      116 /* ------------------------------------------------------- */
      117 
      118 pstream:	proc (id, sp);
      119 
      120 dcl  id char (*) aligned, sp ptr;
      121 
      122 dcl  k fixed bin,
      123      vstr char (64) varying,
      124      vconst char (32) aligned,
      125      sourcet char (32) aligned;
      126 
      127 	     streamp = sp;
      128 	     if substr (stream.source, 1, 1) < " " then sourcet = "*";
      129 	     else sourcet = stream.source;
      130 	     do k = 1 to stream.no_of_vcons;
      131 
      132 		if substr (stream.flags.alarm, k, 1) then vconst = "*" || stream.vcons (k);
      133 		else vconst = stream.vcons (k);	/* Star means alarm flag will be in message */
      134 		do n = 1 to m;
      135 		     if id = srch (n) then go to pvv1;
      136 		end;
      137 		do n = 1 to m;
      138 		     if stream.stream = srch (n) then go to pvv1;
      139 		end;
      140 		do n = 1 to m;
      141 		     if stream.vcons (k) = srch (n) then go to pvv1;
      142 		end;
      143 		if m ^= 0 then go to pvv2;
      144 pvv1:		call ioa_ ("route ^a ^a ^a",
      145 		     id, stream.stream, vconst);
      146 		write = write + 1;
      147 
      148 pvv2:	     end;
      149 
      150 	end pstream;
      151 
      152 pvcons:	proc (id, sp);
      153 
      154 dcl  id char (*) aligned, sp ptr;
      155 
      156 dcl  k fixed bin,
      157      temptype char (8) aligned;
      158 
      159 	     vcep = sp;
      160 	     do k = 1 to vcons.no_of_dest;
      161 		temptype = typer (vcons.dest (k).type);
      162 		do n = 1 to m;
      163 		     if id = srch (n) then go to pvv3;
      164 		end;
      165 		do n = 1 to m;
      166 		     if vcons.dest (k).dest = srch (n) then go to pvv3;
      167 		end;
      168 		do n = 1 to m;
      169 		     if temptype = srch (n) then go to pvv3;
      170 		end;
      171 		if m ^= 0 then go to pvv4;
      172 pvv3:		call ioa_ ("define ^a ^a ^a",
      173 		     id, temptype, vcons.dest (k).dest);
      174 		write = write + 1;
      175 
      176 pvv4:	     end;
      177 
      178 	end pvcons;
      179 
      180      end mc_list;
	SOURCE FILES USED IN THIS COMPILATION.

LINE      NUMBER  DATE MODIFIED     NAME			PATHNAME
             0    02/06/85  1403.7  mc_list.pl1                       >spec>on>41-7>mc_list.pl1
40           1    05/06/74  1759.4  vcons_tab.incl.pl1                >ldd>include>vcons_tab.incl.pl1
41           2    05/06/74  1743.1  mess_route_table.incl.pl1         >ldd>include>mess_route_table.incl.pl1
	NAMES DECLARED IN THIS COMPILATION.

IDENTIFIER	     OFFSET    LOC STORAGE CLASS   DATA TYPE		ATTRIBUTES AND REFERENCES
								(* indicates a set context)

NAMES DECLARED BY DECLARE STATEMENT.
MRT                                    based           structure                level 1 dcl 2-12
addr                                                   builtin function         dcl 29 ref 73 73 73 73 86 86 90 90 101 101 106 106
al                              000366 automatic       fixed bin(17,0)          dcl 19 set ref 57* 59 59 64 65
alarm                    62(28)        based           bit(8)                   level 3 packed unaligned dcl 2-37 ref 132
ap                              000364 automatic       pointer                  dcl 19 set ref 57* 59 59 64 65
bchr                                   based           char                     unaligned dcl 19 ref 59 59 64 65
com_err_                        000016 constant        entry                    external dcl 31 ref 75 81
cu_$arg_ptr                     000010 constant        entry                    external dcl 31 ref 57
dest                     12            based           structure                array level 2 in structure "vcons" dcl 1-17
                                                                                  in procedure "mc_list"
dest                     14            based           char(32)                 array level 3 in structure "vcons" dcl 1-17
                                                                                  in procedure "mc_list" set ref 166 172*
dn                              000152 automatic       char(168)                dcl 19 set ref 73 73 79* 81* 98*
ec                              000367 automatic       fixed bin(35,0)          dcl 19 set ref 57* 58 73* 74 75* 79* 81* 93* 98*
                                                                                  112*
en                              000224 automatic       char(32)                 dcl 19 set ref 78* 79* 81* 97* 98*
expand_path_                    000012 constant        entry                    external dcl 31 ref 73
flags                   316            based           structure                array level 4 in structure "MRT" dcl 2-12
                                                                                  in procedure "mc_list"
flags                   233            based           structure                array level 3 in structure "MRT" dcl 2-12
                                                                                  in procedure "mc_list"
flags                    62            based           structure                level 2 in structure "stream" dcl 2-37 in procedure
                                                                                  "mc_list"
flags                   167            based           structure                array level 3 in structure "vcons_tab" dcl 1-9
                                                                                  in procedure "mc_list"
hcs_$initiate                   000020 constant        entry                    external dcl 36 ref 79 98
hcs_$terminate_noname           000022 constant        entry                    external dcl 36 ref 93 112
i                               000354 automatic       fixed bin(17,0)          dcl 19 set ref 70* 72 72* 73* 88* 89 90 90 90* 103*
                                                                                  104 105 106 106 106 106*
id                                     parameter       char                     dcl 154 in procedure "pvcons" set ref 152 163 172*
id                                     parameter       char                     dcl 120 in procedure "pstream" set ref 118 135 144*
index                                                  builtin function         dcl 29 ref 70
inuse                   167            based           bit(1)                   array level 4 packed unaligned dcl 1-9 set ref 89
ioa_                            000014 constant        entry                    external dcl 31 ref 113 144 172
j                               000355 automatic       fixed bin(17,0)          dcl 19 set ref 105* 106 106 106*
k                               000412 automatic       fixed bin(17,0)          dcl 122 in procedure "pstream" set ref 130* 132 132
                                                                                  133 141*
k                               000356 automatic       fixed bin(17,0)          dcl 19 in procedure "mc_list" set ref 55* 57* 67* 67
k                               000446 automatic       fixed bin(17,0)          dcl 156 in procedure "pvcons" set ref 160* 161 166
                                                                                  172*
l                               000357 automatic       fixed bin(17,0)          dcl 19 set ref 54* 64*
m                               000360 automatic       fixed bin(17,0)          dcl 19 set ref 53* 62* 62 63 64 65 134 137 140 143
                                                                                  162 165 168 171
mrtp                            000370 automatic       pointer                  dcl 43 set ref 98* 99 101 101 103 104 105 106 106
                                                                                  106 106 112*
n                               000361 automatic       fixed bin(17,0)          dcl 19 set ref 134* 135* 137* 138* 140* 141* 162*
                                                                                  163* 165* 166* 168* 169*
no_of_dest               10            based           fixed bin(17,0)          level 2 dcl 1-17 ref 160
no_of_sources             1            based           fixed bin(17,0)          level 2 dcl 2-12 ref 103
no_of_streams           232            based           fixed bin(17,0)          array level 3 dcl 2-12 ref 105
no_of_vcons               1            based           fixed bin(17,0)          level 2 in structure "vcons_tab" dcl 1-9
                                                                                  in procedure "mc_list" ref 88
no_of_vcons              67            based           fixed bin(17,0)          level 2 in structure "stream" dcl 2-37 in procedure
                                                                                  "mc_list" ref 130
null                                                   builtin function         dcl 29 ref 73 73 80 99
path                            000100 automatic       char(168)                dcl 19 set ref 56* 59* 70 72 73 73 75*
search                                                 builtin function         dcl 29 ref 59
source                  220            based           char(32)                 array level 3 in structure "MRT" dcl 2-12
                                                                                  in procedure "mc_list" set ref 106*
source                  220            based           structure                array level 2 in structure "MRT" dcl 2-12
                                                                                  in procedure "mc_list"
source                   40            based           char(32)                 level 2 in structure "stream" dcl 2-37 in procedure
                                                                                  "mc_list" ref 128 129
sourcet                         000423 automatic       char(32)                 dcl 122 set ref 128* 129*
sp                                     parameter       pointer                  dcl 154 in procedure "pvcons" ref 152 159
sp                                     parameter       pointer                  dcl 120 in procedure "pstream" ref 118 127
srch                            000234 automatic       char(32)                 array dcl 19 set ref 65* 135 138 141 163 166 169
star_entry                4            based           structure                level 2 in structure "MRT" dcl 2-12 in procedure
                                                                                  "mc_list"
star_entry                4            based           structure                level 2 in structure "vcons_tab" dcl 1-9
                                                                                  in procedure "mc_list" set ref 86 86
stream                                 based           structure                level 1 dcl 2-37 in procedure "mc_list"
stream                   50            based           char(32)                 level 2 in structure "stream" dcl 2-37 in procedure
                                                                                  "mc_list" set ref 138 144*
stream                  234            based           structure                array level 3 in structure "MRT" dcl 2-12
                                                                                  in procedure "mc_list" set ref 106 106
stream                   20            based           structure                level 3 in structure "MRT" dcl 2-12 in procedure
                                                                                  "mc_list" set ref 101 101
streamp                         000372 automatic       pointer                  dcl 44 set ref 127* 128 129 130 132 132 133 138 141
                                                                                  144
substr                                                 builtin function         dcl 29 ref 128 132
temptype                        000450 automatic       char(8)                  dcl 156 set ref 161* 169 172*
type                     12            based           fixed bin(17,0)          array level 3 dcl 1-17 ref 161
typer                           000000 constant        char(4)                  initial array dcl 49 ref 161
valid                   316            based           bit(1)                   array level 5 in structure "MRT" packed unaligned
                                                                                  dcl 2-12 in procedure "mc_list" set ref 106
valid                   233(01)        based           bit(1)                   array level 4 in structure "MRT" packed unaligned
                                                                                  dcl 2-12 in procedure "mc_list" ref 104
vcep                            000376 automatic       pointer                  dcl 47 set ref 159* 160 161 166 172
vcons                   156            based           char(32)                 array level 3 in structure "vcons_tab" dcl 1-9
                                                                                  in procedure "mc_list" set ref 90*
vcons                                  based           structure                level 1 dcl 1-17 in procedure "mc_list"
vcons                    70            based           char(32)                 array level 2 in structure "stream" dcl 2-37
                                                                                  in procedure "mc_list" ref 132 133 141
vcons                   156            based           structure                array level 2 in structure "vcons_tab" dcl 1-9
                                                                                  in procedure "mc_list" set ref 90 90
vcons_tab                              based           structure                level 1 dcl 1-9
vconsp                          000374 automatic       pointer                  dcl 46 set ref 79* 80 86 86 88 89 90 90 90 93*
vconst                          000413 automatic       char(32)                 dcl 122 set ref 132* 133* 144*
write                           000362 automatic       fixed bin(17,0)          initial dcl 19 set ref 19* 113 146* 146 174* 174

NAME DECLARED BY DECLARE STATEMENT AND NEVER REFERENCED.
vstr                                   automatic       varying char(64)         dcl 122

NAMES DECLARED BY EXPLICIT CONTEXT.
arglp                           000072 constant        label                    dcl 57 ref 68
er                              000321 constant        label                    dcl 81 ref 99
mc_list                         000055 constant        entry                    external dcl 11
pstream                         000631 constant        entry                    internal dcl 118 ref 101 106
pvcons                          001056 constant        entry                    internal dcl 152 ref 86 90
pvv1                            001015 constant        label                    dcl 144 ref 135 138 141
pvv2                            001053 constant        label                    dcl 148 ref 143
pvv3                            001201 constant        label                    dcl 172 ref 163 166 169
pvv4                            001241 constant        label                    dcl 176 ref 171
skip                            000422 constant        label                    dcl 91 ref 89
sskip                           000600 constant        label                    dcl 110 ref 104
vct1                            000151 constant        label                    dcl 70 ref 58 63

NAME DECLARED BY CONTEXT OR IMPLICATION.
length                                                 builtin function         ref 72

STORAGE REQUIREMENTS FOR THIS PROGRAM.

	Object	Text	Link	Symbol	Defs	Static
Start          0       0      1564        1610    1471        1574
Length      2020    1471        24         173      73           0

BLOCK NAME	         STACK SIZE     TYPE		WHY NONQUICK/WHO SHARES STACK FRAME
mc_list                             430 external procedure  is an external procedure.  
pstream                                 internal procedure  shares stack frame of external procedure mc_list.  
pvcons                                  internal procedure  shares stack frame of external procedure mc_list.  

STORAGE FOR AUTOMATIC VARIABLES.

STACK FRAME                 LOC IDENTIFIER                  BLOCK NAME
mc_list                  000100 path                        mc_list
                         000152 dn                          mc_list
                         000224 en                          mc_list
                         000234 srch                        mc_list
                         000354 i                           mc_list
                         000355 j                           mc_list
                         000356 k                           mc_list
                         000357 l                           mc_list
                         000360 m                           mc_list
                         000361 n                           mc_list
                         000362 write                       mc_list
                         000364 ap                          mc_list
                         000366 al                          mc_list
                         000367 ec                          mc_list
                         000370 mrtp                        mc_list
                         000372 streamp                     mc_list
                         000374 vconsp                      mc_list
                         000376 vcep                        mc_list
                         000412 k                           pstream
                         000413 vconst                      pstream
                         000423 sourcet                     pstream
                         000446 k                           pvcons
                         000450 temptype                    pvcons

THE FOLLOWING EXTERNAL OPERATORS ARE USED BY THIS PROGRAM.
alloc_cs            call_ext_out_desc   call_ext_out        return              shorten_stack       ext_entry

THE FOLLOWING EXTERNAL ENTRIES ARE CALLED BY THIS PROGRAM.
com_err_                      cu_$arg_ptr                   expand_path_                  hcs_$initiate
hcs_$terminate_noname         ioa_

NO EXTERNAL VARIABLES ARE USED BY THIS PROGRAM.


CONSTANTS
001244  aa     000004000000
001245  aa     000004000000
001246  aa     600000000041
001247  aa     000512000000
001250  aa     600000000041
001251  aa     000472000000
001252  ta     000012000000
001253  aa     000000000000
001254  ta     000014000000
001255  aa     000000000000

001256  aa     000004000000
001257  aa     000004000000
001260  aa     600000000041
001261  aa     000536000000
001262  aa     600000000041
001263  aa     000472000000
001264  ta     000012000000
001265  aa     000000000000
001266  ta     000014000000
001267  aa     000000000000

001270  aa  000 000 000 000	    
001271  aa  000 000 000 000	    
001272  aa  000 000 000 000	    
001273  aa  000 000 000 000	    
001274  aa  000 000 000 000	    
001275  aa  000 000 000 000	    
001276  aa  000 000 000 000	    
001277  aa  000 000 000 000	    
001300  aa  000 000 000 000	    
001301  aa  000 000 000 000	    
001302  aa  000 000 000 000	    
001303  aa  000 000 000 000	    
001304  aa  000 000 000 000	    
001305  aa  000 000 000 000	    
001306  aa  000 000 000 000	    
001307  aa  777 000 777 000	ÿ ÿ 
001310  aa  000 000 000 000	    
001311  aa  000 000 000 000	    
001312  aa  000 000 000 000	    
001313  aa  000 000 000 000	    
001314  aa  000 000 000 000	    
001315  aa  000 000 000 000	    
001316  aa  000 000 000 000	    
001317  aa  000 000 000 000	    
001320  aa  000 000 000 000	    
001321  aa  000 000 000 000	    
001322  aa  000 000 000 000	    
001323  aa  000 000 000 000	    
001324  aa  000 000 000 000	    
001325  aa  000 000 000 000	    
001326  aa  000 000 000 000	    
001327  aa  000 000 000 000	    
001330  aa  000 000 000 000	    
001331  aa  000 000 000 000	    
001332  aa  000 000 000 000	    
001333  aa  000 000 000 000	    
001334  aa  000 000 000 000	    
001335  aa  000 000 000 000	    
001336  aa  000 000 000 000	    
001337  aa  000 000 000 000	    
001340  aa  000 000 000 000	    
001341  aa  000 000 000 000	    
001342  aa  000 000 000 000	    
001343  aa  000 000 000 000	    
001344  aa  000 000 000 000	    
001345  aa  000 000 000 000	    
001346  aa  000 000 000 000	    
001347  aa  000 000 000 000	    
001350  aa  000 000 000 000	    
001351  aa  000 000 000 000	    
001352  aa  000 000 000 000	    
001353  aa  000 000 000 000	    
001354  aa  000 000 000 000	    
001355  aa  000 000 000 000	    
001356  aa  000 000 000 000	    
001357  aa  000 000 000 000	    
001360  aa  000 000 000 000	    
001361  aa  000 000 000 000	    
001362  aa  000 000 000 000	    
001363  aa  000 000 000 000	    
001364  aa  000 000 000 000	    
001365  aa  000 000 000 000	    
001366  aa  000 000 000 000	    
001367  aa  000 000 000 000	    
001370  aa  000 000 000 000	    
001371  aa  000 000 000 000	    
001372  aa  000 000 000 000	    
001373  aa  000 000 000 000	    
001374  aa  000 000 000 000	    
001375  aa  000 000 000 000	    
001376  aa  000 000 000 000	    
001377  aa  000 000 000 000	    
001400  aa  000 000 000 000	    
001401  aa  000 000 000 000	    
001402  aa  000 000 000 000	    
001403  aa  000 000 000 000	    
001404  aa  000 000 000 000	    
001405  aa  000 000 000 000	    
001406  aa  000 000 000 000	    
001407  aa  000 000 000 000	    
001410  aa  000 000 000 000	    
001411  aa  000 000 000 000	    
001412  aa  000 000 000 000	    
001413  aa  000 000 000 000	    
001414  aa  000 000 000 000	    
001415  aa  000 000 000 000	    
001416  aa  000 000 000 000	    
001417  aa  000 000 000 000	    
001420  aa  000 000 000 000	    
001421  aa  000 000 000 000	    
001422  aa  000 000 000 000	    
001423  aa  000 000 000 000	    
001424  aa  000 000 000 000	    
001425  aa  000 000 000 000	    
001426  aa  000 000 000 000	    
001427  aa  000 000 000 000	    
001430  aa  000 000 000 000	    
001431  aa  000 000 000 000	    
001432  aa  000 000 000 000	    
001433  aa  000 000 000 000	    
001434  aa  000 000 000 000	    
001435  aa  000 000 000 000	    
001436  aa  000 000 000 000	    
001437  aa  000 000 000 000	    
001440  aa  000 000 000 000	    
001441  aa  000 000 000 000	    
001442  aa  000 000 000 000	    
001443  aa  000 000 000 000	    
001444  aa  000 000 000 000	    
001445  aa  000 000 000 000	    
001446  aa  000 000 000 000	    
001447  aa  000 000 000 000	    
001450  aa  000 000 000 000	    
001451  aa  000 000 000 000	    
001452  aa  000 000 000 000	    
001453  aa  000 000 000 000	    
001454  aa  000 000 000 000	    
001455  aa  000 000 000 000	    
001456  aa  000 000 000 000	    
001457  aa  000 000 000 000	    
001460  aa  000 000 000 000	    
001461  aa  000 000 000 000	    
001462  aa  000 000 000 000	    
001463  aa  000 000 000 000	    
001464  aa  000 000 000 000	    
001465  aa  000 000 000 000	    
001466  aa  000 000 000 000	    
001467  aa  000 000 000 000	    

000000  aa  164 164 171 040	tty 
000001  aa  154 157 147 040	log 
000002  aa  163 151 156 153	sink

000003  aa     524000000010

000004  aa     524000000017

000005  aa     524000000016

000006  aa     524077777777

000007  aa     524000000004

000010  aa  156 157 156 145	none

000011  aa  115 122 124 000	MRT

000012  aa     524000000001

000013  aa     524000000005

000014  aa     464000000000

000015  aa     404000000002

000016  aa     404000000001

000017  aa     524000000000

000020  aa     524000000040

000021  aa     524000000250

000022  aa     524000000002

000023  aa     524000000007

000024  aa     404000000043

001470  aa  052 000 000 000	*

000026  aa  136 141 076 136	^a>^
000027  aa  141 000 000 000	a

000030  aa  155 143 137 154	mc_l
000031  aa  151 163 164 000	ist

000032  aa     077777000043
000033  aa     000001000000

000034  aa  166 143 157 156	vcon
000035  aa  163 137 164 141	s_ta
000036  aa  142 000 000 000	b

000037  aa  144 145 146 151	defi
000040  aa  156 145 040 136	ne ^
000041  aa  141 040 136 141	a ^a
000042  aa  040 136 141 000	 ^a

000043  aa  162 157 165 164	rout
000044  aa  145 040 136 141	e ^a
000045  aa  040 136 141 040	 ^a 
000046  aa  136 141 000 000	^a

000047  aa  076 163 171 163	>sys
000050  aa  164 145 155 137	tem_
000051  aa  143 157 156 164	cont
000052  aa  162 157 154 137	rol_
000053  aa  061 000 000 000	1

BEGIN PROCEDURE mc_list
ENTRY TO mc_list                                            STATEMENT 1 ON LINE 11
mc_list: proc;

000054  da     000067200000
000055  aa   000660 6270 00	eax7 	432
000056  aa  7 00034 3521 20	epp2 	pr7|28,*
000057  aa  2 01045 2721 00	tsp2 	pr2|549		ext_entry
000060  aa     000000000000
000061  aa     000000000000
						STATEMENT 1 ON LINE 19
000062  aa  6 00362 4501 00	stz  	pr6|242		write
						STATEMENT 1 ON LINE 53
	m = 0;

000063  aa  6 00360 4501 00	stz  	pr6|240		m
						STATEMENT 1 ON LINE 54
	l = 0;

000064  aa  6 00357 4501 00	stz  	pr6|239		l
						STATEMENT 1 ON LINE 55
	k = 1;

000065  aa   000001 2360 07	ldq  	1,dl
000066  aa  6 00356 7561 00	stq  	pr6|238		k
						STATEMENT 1 ON LINE 56
	path = ">system_control_1";

000067  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
000070  aa   777760 00 0021	desc9a	-16,17		000047 = 076163171163
000071  aa  6 00100 00 0250	desc9a	pr6|64,168	path
						STATEMENT 1 ON LINE 57
arglp:	call cu_$arg_ptr (k, ap, al, ec);

000072  aa  6 00356 3521 00	epp2 	pr6|238		k
000073  aa  6 00460 2521 00	spri2	pr6|304
000074  aa  6 00364 3521 00	epp2 	pr6|244		ap
000075  aa  6 00462 2521 00	spri2	pr6|306
000076  aa  6 00366 3521 00	epp2 	pr6|246		al
000077  aa  6 00464 2521 00	spri2	pr6|308
000100  aa  6 00367 3521 00	epp2 	pr6|247		ec
000101  aa  6 00466 2521 00	spri2	pr6|310
000102  aa  6 00456 6211 00	eax1 	pr6|302
000103  aa   020000 4310 07	fld  	8192,dl
000104  aa  6 00044 3701 20	epp4 	pr6|36,*
000105  la  4 00010 3521 20	epp2 	pr4|8,*		cu_$arg_ptr
000106  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 58
	if ec ^= 0 then go to vct1;

000107  aa  6 00367 2361 00	ldq  	pr6|247		ec
000110  aa   000041 6010 04	tnz  	33,ic		000151
						STATEMENT 1 ON LINE 59
	if search (bchr, "<>") ^= 0			/* is it a pathname? */
	     then path = bchr;

000111  aa  6 00364 3735 20	epp7 	pr6|244,*		ap
000112  aa  6 00366 7271 00	lxl7 	pr6|246		al
000113  aa  000 000 164 540	tct  	(pr,rl)
000114  aa  7 00000 00 0017	desc9a	pr7|0,x7		bchr
000115  aa   001155 0000 04	arg  	621,ic		001270 = 000000000000
000116  aa  6 00056 0001 00	arg  	pr6|46
000117  aa  6 00056 2361 00	ldq  	pr6|46
000120  aa  0 00242 3761 00	anq  	pr0|162		= 000777777777
000121  aa   000002 6070 04	ttf  	2,ic		000123
000122  aa   000001 3360 07	lcq  	1,dl
000123  aa   000001 0760 07	adq  	1,dl
000124  aa   000005 6000 04	tze  	5,ic		000131
000125  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000126  aa  7 00000 00 0017	desc9a	pr7|0,x7		bchr
000127  aa  6 00100 00 0250	desc9a	pr6|64,168	path
000130  aa   000017 7100 04	tra  	15,ic		000147
						STATEMENT 1 ON LINE 61
	else do;

						STATEMENT 1 ON LINE 62
	     m = m + 1;

000131  aa  6 00360 0541 00	aos  	pr6|240		m
						STATEMENT 1 ON LINE 63
	     if m > 10 then go to vct1;

000132  aa  6 00360 2361 00	ldq  	pr6|240		m
000133  aa   000012 1160 07	cmpq 	10,dl
000134  aa   000015 6054 04	tpnz 	13,ic		000151
						STATEMENT 1 ON LINE 64
	     if bchr = "*" then l = m;

000135  aa  040 004 106 540	cmpc 	(pr,rl),(ic),fill(040)
000136  aa  7 00000 00 0017	desc9a	pr7|0,x7		bchr
000137  aa   001333 00 0001	desc9a	731,1		001470 = 052000000000
000140  aa   000002 6010 04	tnz  	2,ic		000142
000141  aa  6 00357 7561 00	stq  	pr6|239		l
						STATEMENT 1 ON LINE 65
	     srch (m) = bchr;

000142  aa   000003 7360 00	qls  	3
000143  aa  6 00224 3715 06	epp5 	pr6|148,ql	srch
000144  aa  040 100 100 540	mlr  	(pr,rl),(pr),fill(040)
000145  aa  7 00000 00 0017	desc9a	pr7|0,x7		bchr
000146  aa  5 00000 00 0040	desc9a	pr5|0,32		srch
						STATEMENT 1 ON LINE 66
	end;

						STATEMENT 1 ON LINE 67
	k = k + 1;

000147  aa  6 00356 0541 00	aos  	pr6|238		k
						STATEMENT 1 ON LINE 68
	go to arglp;

000150  aa   777722 7100 04	tra  	-46,ic		000072
						STATEMENT 1 ON LINE 70
vct1:
	i = index (path, " ");

000151  aa  000 003 124 500	scm  	(pr),(du),mask(000)
000152  aa  6 00100 00 0250	desc9a	pr6|64,168	path
000153  aa   040000 00 0001	desc9a	16384,1
000154  aa  6 00056 0001 00	arg  	pr6|46
000155  aa  6 00056 2361 00	ldq  	pr6|46
000156  aa   000002 6070 04	ttf  	2,ic		000160
000157  aa   000001 3360 07	lcq  	1,dl
000160  aa   000001 0760 07	adq  	1,dl
000161  aa  6 00354 7561 00	stq  	pr6|236		i
						STATEMENT 1 ON LINE 72
	if i = 0 then i = length (path);

000162  aa   000003 6010 04	tnz  	3,ic		000165
000163  aa   000250 2360 07	ldq  	168,dl
000164  aa  6 00354 7561 00	stq  	pr6|236		i
						STATEMENT 1 ON LINE 73
	call expand_path_ (addr (path), i, addr (dn), null, ec);

000165  aa  6 00100 3735 00	epp7 	pr6|64		path
000166  aa  6 00470 6535 00	spri7	pr6|312
000167  aa  6 00152 3715 00	epp5 	pr6|106		dn
000170  aa  6 00472 6515 00	spri5	pr6|314
000171  aa   777641 3534 24	epp3 	-95,ic*
000172  aa  6 00474 2535 00	spri3	pr6|316
000173  aa  6 00470 3521 00	epp2 	pr6|312
000174  aa  6 00500 2521 00	spri2	pr6|320
000175  aa  6 00354 3521 00	epp2 	pr6|236		i
000176  aa  6 00502 2521 00	spri2	pr6|322
000177  aa  6 00472 3521 00	epp2 	pr6|314
000200  aa  6 00504 2521 00	spri2	pr6|324
000201  aa  6 00474 3521 00	epp2 	pr6|316
000202  aa  6 00506 2521 00	spri2	pr6|326
000203  aa  6 00367 3521 00	epp2 	pr6|247		ec
000204  aa  6 00510 2521 00	spri2	pr6|328
000205  aa  6 00476 6211 00	eax1 	pr6|318
000206  aa   024000 4310 07	fld  	10240,dl
000207  aa  6 00044 3701 20	epp4 	pr6|36,*
000210  la  4 00012 3521 20	epp2 	pr4|10,*		expand_path_
000211  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 74
	if ec ^= 0 then do;

000212  aa  6 00367 2361 00	ldq  	pr6|247		ec
000213  aa   000033 6000 04	tze  	27,ic		000246
						STATEMENT 1 ON LINE 75
	     call com_err_ (ec, "mc_list", "^a", path);

000214  aa   777614 2370 04	ldaq 	-116,ic		000030 = 155143137154 151163164000
000215  aa  6 00474 7571 00	staq 	pr6|316
000216  aa   136141 2350 03	lda  	48225,du
000217  aa  6 00512 7551 00	sta  	pr6|330
000220  aa  6 00367 3521 00	epp2 	pr6|247		ec
000221  aa  6 00516 2521 00	spri2	pr6|334
000222  aa  6 00474 3521 00	epp2 	pr6|316
000223  aa  6 00520 2521 00	spri2	pr6|336
000224  aa  6 00512 3521 00	epp2 	pr6|330
000225  aa  6 00522 2521 00	spri2	pr6|338
000226  aa  6 00100 3521 00	epp2 	pr6|64		path
000227  aa  6 00524 2521 00	spri2	pr6|340
000230  aa   777574 3520 04	epp2 	-132,ic		000024 = 404000000043
000231  aa  6 00526 2521 00	spri2	pr6|342
000232  aa   777571 3520 04	epp2 	-135,ic		000023 = 524000000007
000233  aa  6 00530 2521 00	spri2	pr6|344
000234  aa   777566 3520 04	epp2 	-138,ic		000022 = 524000000002
000235  aa  6 00532 2521 00	spri2	pr6|346
000236  aa   777563 3520 04	epp2 	-141,ic		000021 = 524000000250
000237  aa  6 00534 2521 00	spri2	pr6|348
000240  aa  6 00514 6211 00	eax1 	pr6|332
000241  aa   020000 4310 07	fld  	8192,dl
000242  aa  6 00044 3701 20	epp4 	pr6|36,*
000243  la  4 00016 3521 20	epp2 	pr4|14,*		com_err_
000244  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 76
	     return;

000245  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 77
	end;

						STATEMENT 1 ON LINE 78
	en = "vcons_tab";

000246  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
000247  aa   777566 00 0011	desc9a	-138,9		000034 = 166143157156
000250  aa  6 00224 00 0040	desc9a	pr6|148,32	en
						STATEMENT 1 ON LINE 79
	call hcs_$initiate (dn, en, "", 0, 1, vconsp, ec);

000251  aa  6 00513 4501 00	stz  	pr6|331
000252  aa   000001 2360 07	ldq  	1,dl
000253  aa  6 00536 7561 00	stq  	pr6|350
000254  aa  6 00152 3521 00	epp2 	pr6|106		dn
000255  aa  6 00542 2521 00	spri2	pr6|354
000256  aa  6 00224 3521 00	epp2 	pr6|148		en
000257  aa  6 00544 2521 00	spri2	pr6|356
000260  aa  6 00512 3521 00	epp2 	pr6|330
000261  aa  6 00546 2521 00	spri2	pr6|358
000262  aa  6 00513 3521 00	epp2 	pr6|331
000263  aa  6 00550 2521 00	spri2	pr6|360
000264  aa  6 00536 3521 00	epp2 	pr6|350
000265  aa  6 00552 2521 00	spri2	pr6|362
000266  aa  6 00374 3521 00	epp2 	pr6|252		vconsp
000267  aa  6 00554 2521 00	spri2	pr6|364
000270  aa  6 00367 3521 00	epp2 	pr6|247		ec
000271  aa  6 00556 2521 00	spri2	pr6|366
000272  aa   777527 3520 04	epp2 	-169,ic		000021 = 524000000250
000273  aa  6 00560 2521 00	spri2	pr6|368
000274  aa   777524 3520 04	epp2 	-172,ic		000020 = 524000000040
000275  aa  6 00562 2521 00	spri2	pr6|370
000276  aa   777521 3520 04	epp2 	-175,ic		000017 = 524000000000
000277  aa  6 00564 2521 00	spri2	pr6|372
000300  aa   777516 3520 04	epp2 	-178,ic		000016 = 404000000001
000301  aa  6 00566 2521 00	spri2	pr6|374
000302  aa   777513 3520 04	epp2 	-181,ic		000015 = 404000000002
000303  aa  6 00570 2521 00	spri2	pr6|376
000304  aa   777510 3520 04	epp2 	-184,ic		000014 = 464000000000
000305  aa  6 00572 2521 00	spri2	pr6|378
000306  aa   777516 3520 04	epp2 	-178,ic		000024 = 404000000043
000307  aa  6 00574 2521 00	spri2	pr6|380
000310  aa  6 00540 6211 00	eax1 	pr6|352
000311  aa   034000 4310 07	fld  	14336,dl
000312  aa  6 00044 3701 20	epp4 	pr6|36,*
000313  la  4 00020 3521 20	epp2 	pr4|16,*		hcs_$initiate
000314  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 80
	if vconsp = null then do;

000315  aa  6 00374 2371 00	ldaq 	pr6|252		vconsp
000316  aa   777514 6770 04	eraq 	-180,ic		000032 = 077777000043 000001000000
000317  aa  0 00460 3771 00	anaq 	pr0|304		= 077777000077 777777077077
000320  aa   000037 6010 04	tnz  	31,ic		000357
						STATEMENT 1 ON LINE 81
er:
	     call com_err_ (ec, "mc_list", "^a>^a", dn, en);

000321  aa   777507 2370 04	ldaq 	-185,ic		000030 = 155143137154 151163164000
000322  aa  6 00474 7571 00	staq 	pr6|316
000323  aa   777503 2370 04	ldaq 	-189,ic		000026 = 136141076136 141000000000
000324  aa  6 00472 7571 00	staq 	pr6|314
000325  aa  6 00367 3521 00	epp2 	pr6|247		ec
000326  aa  6 00542 2521 00	spri2	pr6|354
000327  aa  6 00474 3521 00	epp2 	pr6|316
000330  aa  6 00544 2521 00	spri2	pr6|356
000331  aa  6 00472 3521 00	epp2 	pr6|314
000332  aa  6 00546 2521 00	spri2	pr6|358
000333  aa  6 00152 3521 00	epp2 	pr6|106		dn
000334  aa  6 00550 2521 00	spri2	pr6|360
000335  aa  6 00224 3521 00	epp2 	pr6|148		en
000336  aa  6 00552 2521 00	spri2	pr6|362
000337  aa   777465 3520 04	epp2 	-203,ic		000024 = 404000000043
000340  aa  6 00554 2521 00	spri2	pr6|364
000341  aa   777462 3520 04	epp2 	-206,ic		000023 = 524000000007
000342  aa  6 00556 2521 00	spri2	pr6|366
000343  aa   777450 3520 04	epp2 	-216,ic		000013 = 524000000005
000344  aa  6 00560 2521 00	spri2	pr6|368
000345  aa   777454 3520 04	epp2 	-212,ic		000021 = 524000000250
000346  aa  6 00562 2521 00	spri2	pr6|370
000347  aa   777451 3520 04	epp2 	-215,ic		000020 = 524000000040
000350  aa  6 00564 2521 00	spri2	pr6|372
000351  aa  6 00540 6211 00	eax1 	pr6|352
000352  aa   024000 4310 07	fld  	10240,dl
000353  aa  6 00044 3701 20	epp4 	pr6|36,*
000354  la  4 00016 3521 20	epp2 	pr4|14,*		com_err_
000355  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 83
	     return;

000356  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 84
	end;

						STATEMENT 1 ON LINE 86
	call pvcons ("*", addr (vcons_tab.star_entry));

000357  aa   052000 2350 03	lda  	21504,du
000360  aa  6 00536 7551 00	sta  	pr6|350
000361  aa  6 00374 3735 20	epp7 	pr6|252,*		vconsp
000362  aa  7 00004 3735 00	epp7 	pr7|4		vcons_tab.star_entry
000363  aa  6 00472 6535 00	spri7	pr6|314
000364  aa   000672 3520 04	epp2 	442,ic		001256 = 000004000000
000365  aa  2 00000 2351 00	lda  	pr2|0
000366  aa   000470 6700 04	tsp4 	312,ic		001056
						STATEMENT 1 ON LINE 88
	do i = 1 to vcons_tab.no_of_vcons;

000367  aa  6 00374 3735 20	epp7 	pr6|252,*		vconsp
000370  aa  7 00001 2361 00	ldq  	pr7|1		vcons_tab.no_of_vcons
000371  aa  6 00400 7561 00	stq  	pr6|256
000372  aa   000001 2360 07	ldq  	1,dl
000373  aa  6 00354 7561 00	stq  	pr6|236		i
000374  aa  6 00354 2361 00	ldq  	pr6|236		i
000375  aa  6 00400 1161 00	cmpq 	pr6|256
000376  aa   000026 6054 04	tpnz 	22,ic		000424
						STATEMENT 1 ON LINE 89
	     if ^vcons_tab.vcons (i).flags.inuse then go to skip;

000377  aa   000152 4020 07	mpy  	106,dl
000400  aa  6 00374 3735 20	epp7 	pr6|252,*		vconsp
000401  aa  7 00015 2351 06	lda  	pr7|13,ql		vcons_tab.inuse
000402  aa   400000 3150 03	cana 	131072,du
000403  aa   000017 6000 04	tze  	15,ic		000422
						STATEMENT 1 ON LINE 90
	     call pvcons (vcons_tab.vcons (i).vcons, addr (vcons_tab.vcons (i)));

000404  aa  7 00004 3715 06	epp5 	pr7|4,ql		vcons_tab.vcons
000405  aa  6 00472 6515 00	spri5	pr6|314
000406  aa  7 00004 3521 06	epp2 	pr7|4,ql		vcons_tab.vcons
000407  aa  6 00500 2521 00	spri2	pr6|320
000410  aa  6 00472 3521 00	epp2 	pr6|314
000411  aa  6 00502 2521 00	spri2	pr6|322
000412  aa   777406 3520 04	epp2 	-250,ic		000020 = 524000000040
000413  aa  6 00504 2521 00	spri2	pr6|324
000414  aa   777400 3520 04	epp2 	-256,ic		000014 = 464000000000
000415  aa  6 00506 2521 00	spri2	pr6|326
000416  aa  6 00476 3521 00	epp2 	pr6|318
000417  aa   010000 4310 07	fld  	4096,dl
000420  aa  2 00000 7571 00	staq 	pr2|0
000421  aa   000435 6700 04	tsp4 	285,ic		001056
						STATEMENT 1 ON LINE 91
skip:	end;

000422  aa  6 00354 0541 00	aos  	pr6|236		i
000423  aa   777751 7100 04	tra  	-23,ic		000374
						STATEMENT 1 ON LINE 93
	call hcs_$terminate_noname (vconsp, ec);

000424  aa  6 00374 3521 00	epp2 	pr6|252		vconsp
000425  aa  6 00460 2521 00	spri2	pr6|304
000426  aa  6 00367 3521 00	epp2 	pr6|247		ec
000427  aa  6 00462 2521 00	spri2	pr6|306
000430  aa  6 00456 6211 00	eax1 	pr6|302
000431  aa   010000 4310 07	fld  	4096,dl
000432  aa  6 00044 3701 20	epp4 	pr6|36,*
000433  la  4 00022 3521 20	epp2 	pr4|18,*		hcs_$terminate_noname
000434  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 97
	en = "MRT";

000435  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
000436  aa   777354 00 0003	desc9a	-276,3		000011 = 115122124000
000437  aa  6 00224 00 0040	desc9a	pr6|148,32	en
						STATEMENT 1 ON LINE 98
	call hcs_$initiate (dn, en, "", 0, 1, mrtp, ec);

000440  aa  6 00513 4501 00	stz  	pr6|331
000441  aa   000001 2360 07	ldq  	1,dl
000442  aa  6 00512 7561 00	stq  	pr6|330
000443  aa  6 00152 3521 00	epp2 	pr6|106		dn
000444  aa  6 00542 2521 00	spri2	pr6|354
000445  aa  6 00224 3521 00	epp2 	pr6|148		en
000446  aa  6 00544 2521 00	spri2	pr6|356
000447  aa  6 00536 3521 00	epp2 	pr6|350
000450  aa  6 00546 2521 00	spri2	pr6|358
000451  aa  6 00513 3521 00	epp2 	pr6|331
000452  aa  6 00550 2521 00	spri2	pr6|360
000453  aa  6 00512 3521 00	epp2 	pr6|330
000454  aa  6 00552 2521 00	spri2	pr6|362
000455  aa  6 00370 3521 00	epp2 	pr6|248		mrtp
000456  aa  6 00554 2521 00	spri2	pr6|364
000457  aa  6 00367 3521 00	epp2 	pr6|247		ec
000460  aa  6 00556 2521 00	spri2	pr6|366
000461  aa   777340 3520 04	epp2 	-288,ic		000021 = 524000000250
000462  aa  6 00560 2521 00	spri2	pr6|368
000463  aa   777335 3520 04	epp2 	-291,ic		000020 = 524000000040
000464  aa  6 00562 2521 00	spri2	pr6|370
000465  aa   777332 3520 04	epp2 	-294,ic		000017 = 524000000000
000466  aa  6 00564 2521 00	spri2	pr6|372
000467  aa   777327 3520 04	epp2 	-297,ic		000016 = 404000000001
000470  aa  6 00566 2521 00	spri2	pr6|374
000471  aa   777324 3520 04	epp2 	-300,ic		000015 = 404000000002
000472  aa  6 00570 2521 00	spri2	pr6|376
000473  aa   777321 3520 04	epp2 	-303,ic		000014 = 464000000000
000474  aa  6 00572 2521 00	spri2	pr6|378
000475  aa   777327 3520 04	epp2 	-297,ic		000024 = 404000000043
000476  aa  6 00574 2521 00	spri2	pr6|380
000477  aa  6 00540 6211 00	eax1 	pr6|352
000500  aa   034000 4310 07	fld  	14336,dl
000501  aa  6 00044 3701 20	epp4 	pr6|36,*
000502  la  4 00020 3521 20	epp2 	pr4|16,*		hcs_$initiate
000503  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 99
	if mrtp = null then go to er;

000504  aa  6 00370 2371 00	ldaq 	pr6|248		mrtp
000505  aa   777325 6770 04	eraq 	-299,ic		000032 = 077777000043 000001000000
000506  aa  0 00460 3771 00	anaq 	pr0|304		= 077777000077 777777077077
000507  aa   777612 6000 04	tze  	-118,ic		000321
						STATEMENT 1 ON LINE 101
	call pstream ("*", addr (MRT.star_entry.stream));

000510  aa   052000 2350 03	lda  	21504,du
000511  aa  6 00512 7551 00	sta  	pr6|330
000512  aa  6 00370 3735 20	epp7 	pr6|248,*		mrtp
000513  aa  7 00020 3735 00	epp7 	pr7|16		MRT.stream
000514  aa  6 00472 6535 00	spri7	pr6|314
000515  aa   000527 3520 04	epp2 	343,ic		001244 = 000004000000
000516  aa  2 00000 2351 00	lda  	pr2|0
000517  aa   000112 6700 04	tsp4 	74,ic		000631
						STATEMENT 1 ON LINE 103
	do i = 1 to MRT.no_of_sources;

000520  aa  6 00370 3735 20	epp7 	pr6|248,*		mrtp
000521  aa  7 00001 2361 00	ldq  	pr7|1		MRT.no_of_sources
000522  aa  6 00401 7561 00	stq  	pr6|257
000523  aa   000001 2360 07	ldq  	1,dl
000524  aa  6 00354 7561 00	stq  	pr6|236		i
000525  aa   000000 0110 03	nop  	0,du
000526  aa  6 00354 2361 00	ldq  	pr6|236		i
000527  aa  6 00401 1161 00	cmpq 	pr6|257
000530  aa   000052 6054 04	tpnz 	42,ic		000602
						STATEMENT 1 ON LINE 104
	     if ^MRT.source (i).flags.valid then go to sskip;

000531  aa   002014 4020 07	mpy  	1036,dl
000532  aa  6 00370 3735 20	epp7 	pr6|248,*		mrtp
000533  aa  7 76217 2351 06	lda  	pr7|-881,ql	MRT.valid
000534  aa   200000 3150 03	cana 	65536,du
000535  aa   000043 6000 04	tze  	35,ic		000600
						STATEMENT 1 ON LINE 105
	     do j = 1 to MRT.source (i).no_of_streams;

000536  aa  7 76216 2361 06	ldq  	pr7|-882,ql	MRT.no_of_streams
000537  aa  6 00402 7561 00	stq  	pr6|258
000540  aa   000001 2360 07	ldq  	1,dl
000541  aa  6 00355 7561 00	stq  	pr6|237		j
000542  aa  6 00355 2361 00	ldq  	pr6|237		j
000543  aa  6 00402 1161 00	cmpq 	pr6|258
000544  aa   000034 6054 04	tpnz 	28,ic		000600
						STATEMENT 1 ON LINE 106
		if MRT.source (i).stream (j).flags.valid then
		     call pstream (MRT.source (i).source, addr (MRT.source (i).stream (j)));

000545  aa  6 00354 2361 00	ldq  	pr6|236		i
000546  aa   002014 4020 07	mpy  	1036,dl
000547  aa  6 00512 7561 00	stq  	pr6|330
000550  aa  6 00355 2361 00	ldq  	pr6|237		j
000551  aa   000007 7360 00	qls  	7
000552  aa  6 00512 0761 00	adq  	pr6|330
000553  aa  6 00370 3735 20	epp7 	pr6|248,*		mrtp
000554  aa  7 76102 2351 06	lda  	pr7|-958,ql	MRT.valid
000555  aa   400000 3150 03	cana 	131072,du
000556  aa   000020 6000 04	tze  	16,ic		000576
000557  aa  7 76020 3715 06	epp5 	pr7|-1008,ql	MRT.stream
000560  aa  6 00472 6515 00	spri5	pr6|314
000561  aa  6 00512 7271 00	lxl7 	pr6|330
000562  aa  7 76204 3521 17	epp2 	pr7|-892,7	MRT.source
000563  aa  6 00500 2521 00	spri2	pr6|320
000564  aa  6 00472 3521 00	epp2 	pr6|314
000565  aa  6 00502 2521 00	spri2	pr6|322
000566  aa   777232 3520 04	epp2 	-358,ic		000020 = 524000000040
000567  aa  6 00504 2521 00	spri2	pr6|324
000570  aa   777224 3520 04	epp2 	-364,ic		000014 = 464000000000
000571  aa  6 00506 2521 00	spri2	pr6|326
000572  aa  6 00476 3521 00	epp2 	pr6|318
000573  aa   010000 4310 07	fld  	4096,dl
000574  aa  2 00000 7571 00	staq 	pr2|0
000575  aa   000034 6700 04	tsp4 	28,ic		000631
						STATEMENT 1 ON LINE 108
	     end;

000576  aa  6 00355 0541 00	aos  	pr6|237		j
000577  aa   777743 7100 04	tra  	-29,ic		000542
						STATEMENT 1 ON LINE 110
sskip:	end;

000600  aa  6 00354 0541 00	aos  	pr6|236		i
000601  aa   777725 7100 04	tra  	-43,ic		000526
						STATEMENT 1 ON LINE 112
	call hcs_$terminate_noname (mrtp, ec);

000602  aa  6 00370 3521 00	epp2 	pr6|248		mrtp
000603  aa  6 00460 2521 00	spri2	pr6|304
000604  aa  6 00367 3521 00	epp2 	pr6|247		ec
000605  aa  6 00462 2521 00	spri2	pr6|306
000606  aa  6 00456 6211 00	eax1 	pr6|302
000607  aa   010000 4310 07	fld  	4096,dl
000610  aa  6 00044 3701 20	epp4 	pr6|36,*
000611  la  4 00022 3521 20	epp2 	pr4|18,*		hcs_$terminate_noname
000612  aa  0 00623 7001 00	tsx0 	pr0|403		call_ext_out
						STATEMENT 1 ON LINE 113
	if write = 0 then call ioa_ ("none");

000613  aa  6 00362 2361 00	ldq  	pr6|242		write
000614  aa   000014 6010 04	tnz  	12,ic		000630
000615  aa   777173 2350 04	lda  	-389,ic		000010 = 156157156145
000616  aa  6 00512 7551 00	sta  	pr6|330
000617  aa  6 00512 3521 00	epp2 	pr6|330
000620  aa  6 00460 2521 00	spri2	pr6|304
000621  aa   777166 3520 04	epp2 	-394,ic		000007 = 524000000004
000622  aa  6 00462 2521 00	spri2	pr6|306
000623  aa  6 00456 6211 00	eax1 	pr6|302
000624  aa   004000 4310 07	fld  	2048,dl
000625  aa  6 00044 3701 20	epp4 	pr6|36,*
000626  la  4 00014 3521 20	epp2 	pr4|12,*		ioa_
000627  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 114
	return;

000630  aa  0 00631 7101 00	tra  	pr0|409		return
						STATEMENT 1 ON LINE 180
     end mc_list;

BEGIN PROCEDURE pstream
ENTRY TO pstream                                            STATEMENT 1 ON LINE 118
pstream:	proc (id, sp);

000631  aa  6 00404 6501 00	spri4	pr6|260
000632  aa  6 00406 2521 00	spri2	pr6|262
000633  aa  2 00002 3521 01	epp2 	pr2|2,au
000634  aa  6 00410 2521 00	spri2	pr6|264
000635  aa  2 00000 2361 20	ldq  	pr2|0,*
000636  aa   000002 6040 04	tmi  	2,ic		000640
000637  aa   777777 3760 07	anq  	262143,dl
000640  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
000641  aa  6 00576 7561 00	stq  	pr6|382
						STATEMENT 1 ON LINE 127
	     streamp = sp;

000642  aa  6 00406 3735 20	epp7 	pr6|262,*
000643  aa  7 00004 3715 20	epp5 	pr7|4,*		sp
000644  aa  5 00000 3715 20	epp5 	pr5|0,*		sp
000645  aa  6 00372 6515 00	spri5	pr6|250		streamp
						STATEMENT 1 ON LINE 128
	     if substr (stream.source, 1, 1) < " " then sourcet = "*";

000646  aa  5 00040 2351 00	lda  	pr5|32		stream.source
000647  aa  0 00022 3771 00	anaq 	pr0|18		= 777000000000 000000000000
000650  aa   040000 1150 03	cmpa 	16384,du
000651  aa   000005 6030 04	trc  	5,ic		000656
000652  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
000653  aa   000616 00 0001	desc9a	398,1		001470 = 052000000000
000654  aa  6 00423 00 0040	desc9a	pr6|275,32	sourcet
000655  aa   000004 7100 04	tra  	4,ic		000661
						STATEMENT 1 ON LINE 129
	     else sourcet = stream.source;

000656  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
000657  aa  5 00040 00 0040	desc9a	pr5|32,32		stream.source
000660  aa  6 00423 00 0040	desc9a	pr6|275,32	sourcet
						STATEMENT 1 ON LINE 130
	     do k = 1 to stream.no_of_vcons;

000661  aa  5 00067 2361 00	ldq  	pr5|55		stream.no_of_vcons
000662  aa  6 00433 7561 00	stq  	pr6|283
000663  aa   000001 2360 07	ldq  	1,dl
000664  aa  6 00412 7561 00	stq  	pr6|266		k
000665  aa   000000 0110 03	nop  	0,du
000666  aa  6 00412 2361 00	ldq  	pr6|266		k
000667  aa  6 00433 1161 00	cmpq 	pr6|283
000670  aa   000165 6054 04	tpnz 	117,ic		001055
						STATEMENT 1 ON LINE 132
		if substr (stream.flags.alarm, k, 1) then vconst = "*" || stream.vcons (k);

000671  aa  6 00372 3735 20	epp7 	pr6|250,*		streamp
000672  aa  000 000 066 506	cmpb 	(pr,ql),(),fill(0)
000673  aa  7 00062 60 0001	descb	pr7|50(27),1	stream.alarm
000674  aa   000000 00 0000	descb	0,0
000675  aa   000020 6000 04	tze  	16,ic		000715
000676  aa   000003 7360 00	qls  	3
000677  aa   000000 6270 06	eax7 	0,ql
000700  aa   000041 2360 07	ldq  	33,dl
000701  aa  0 00551 7001 00	tsx0 	pr0|361		alloc_cs
000702  aa  040 100 100 404	mlr  	(ic),(pr),fill(040)
000703  aa   000566 00 0001	desc9a	374,1		001470 = 052000000000
000704  aa  2 00000 00 0001	desc9a	pr2|0,1
000705  aa  7 00060 3715 17	epp5 	pr7|48,7		stream.vcons
000706  aa  040 100 100 500	mlr  	(pr),(pr),fill(040)
000707  aa  5 00000 00 0040	desc9a	pr5|0,32		stream.vcons
000710  aa  2 00000 20 0040	desc9a	pr2|0(1),32
000711  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
000712  aa  2 00000 00 0040	desc9a	pr2|0,32
000713  aa  6 00413 00 0040	desc9a	pr6|267,32	vconst
000714  aa   000007 7100 04	tra  	7,ic		000723
						STATEMENT 1 ON LINE 133
		else vconst = stream.vcons (k);

000715  aa  0 01014 7001 00	tsx0 	pr0|524		shorten_stack
000716  aa   000003 7360 00	qls  	3
000717  aa  7 00060 3715 06	epp5 	pr7|48,ql		stream.vcons
000720  aa  000 100 100 500	mlr  	(pr),(pr),fill(000)
000721  aa  5 00000 00 0040	desc9a	pr5|0,32		stream.vcons
000722  aa  6 00413 00 0040	desc9a	pr6|267,32	vconst
						STATEMENT 1 ON LINE 134
		do n = 1 to m;

000723  aa  6 00360 2361 00	ldq  	pr6|240		m
000724  aa  6 00434 7561 00	stq  	pr6|284
000725  aa   000001 2360 07	ldq  	1,dl
000726  aa  6 00361 7561 00	stq  	pr6|241		n
000727  aa   000000 0110 03	nop  	0,du
000730  aa  6 00361 2361 00	ldq  	pr6|241		n
000731  aa  6 00434 1161 00	cmpq 	pr6|284
000732  aa   000014 6054 04	tpnz 	12,ic		000746
						STATEMENT 1 ON LINE 135
		     if id = srch (n) then go to pvv1;

000733  aa   000003 7360 00	qls  	3
000734  aa  6 00406 3735 20	epp7 	pr6|262,*
000735  aa  7 00002 3715 20	epp5 	pr7|2,*
000736  aa  6 00224 3535 06	epp3 	pr6|148,ql	srch
000737  aa  6 00576 2351 00	lda  	pr6|382
000740  aa  040 100 106 540	cmpc 	(pr,rl),(pr),fill(040)
000741  aa  5 00000 00 0005	desc9a	pr5|0,al		id
000742  aa  3 00000 00 0040	desc9a	pr3|0,32		srch
000743  aa   000052 6000 04	tze  	42,ic		001015
						STATEMENT 1 ON LINE 136
		end;

000744  aa  6 00361 0541 00	aos  	pr6|241		n
000745  aa   777763 7100 04	tra  	-13,ic		000730
						STATEMENT 1 ON LINE 137
		do n = 1 to m;

000746  aa  6 00360 2361 00	ldq  	pr6|240		m
000747  aa  6 00435 7561 00	stq  	pr6|285
000750  aa   000001 2360 07	ldq  	1,dl
000751  aa  6 00361 7561 00	stq  	pr6|241		n
000752  aa  6 00361 2361 00	ldq  	pr6|241		n
000753  aa  6 00435 1161 00	cmpq 	pr6|285
000754  aa   000012 6054 04	tpnz 	10,ic		000766
						STATEMENT 1 ON LINE 138
		     if stream.stream = srch (n) then go to pvv1;

000755  aa   000003 7360 00	qls  	3
000756  aa  6 00372 3735 20	epp7 	pr6|250,*		streamp
000757  aa  6 00224 3715 06	epp5 	pr6|148,ql	srch
000760  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
000761  aa  7 00050 00 0040	desc9a	pr7|40,32		stream.stream
000762  aa  5 00000 00 0040	desc9a	pr5|0,32		srch
000763  aa   000032 6000 04	tze  	26,ic		001015
						STATEMENT 1 ON LINE 139
		end;

000764  aa  6 00361 0541 00	aos  	pr6|241		n
000765  aa   777765 7100 04	tra  	-11,ic		000752
						STATEMENT 1 ON LINE 140
		do n = 1 to m;

000766  aa  6 00360 2361 00	ldq  	pr6|240		m
000767  aa  6 00436 7561 00	stq  	pr6|286
000770  aa   000001 2360 07	ldq  	1,dl
000771  aa  6 00361 7561 00	stq  	pr6|241		n
000772  aa  6 00361 2361 00	ldq  	pr6|241		n
000773  aa  6 00436 1161 00	cmpq 	pr6|286
000774  aa   000017 6054 04	tpnz 	15,ic		001013
						STATEMENT 1 ON LINE 141
		     if stream.vcons (k) = srch (n) then go to pvv1;

000775  aa  6 00412 2361 00	ldq  	pr6|266		k
000776  aa   000003 7360 00	qls  	3
000777  aa   000000 6270 06	eax7 	0,ql
001000  aa  6 00361 2361 00	ldq  	pr6|241		n
001001  aa   000003 7360 00	qls  	3
001002  aa  6 00372 3735 20	epp7 	pr6|250,*		streamp
001003  aa  7 00060 3735 17	epp7 	pr7|48,7		stream.vcons
001004  aa  6 00224 3715 06	epp5 	pr6|148,ql	srch
001005  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
001006  aa  7 00000 00 0040	desc9a	pr7|0,32		stream.vcons
001007  aa  5 00000 00 0040	desc9a	pr5|0,32		srch
001010  aa   000005 6000 04	tze  	5,ic		001015
						STATEMENT 1 ON LINE 142
		end;

001011  aa  6 00361 0541 00	aos  	pr6|241		n
001012  aa   777760 7100 04	tra  	-16,ic		000772
						STATEMENT 1 ON LINE 143
		if m ^= 0 then go to pvv2;

001013  aa  6 00360 2361 00	ldq  	pr6|240		m
001014  aa   000037 6010 04	tnz  	31,ic		001053
						STATEMENT 1 ON LINE 144
pvv1:		call ioa_ ("route ^a ^a ^a",
		     id, stream.stream, vconst);

001015  aa   777026 2350 04	lda  	-490,ic		000043 = 162157165164
001016  aa   777026 2360 04	ldq  	-490,ic		000044 = 145040136141
001017  aa  6 00600 7571 00	staq 	pr6|384
001020  aa   777025 2350 04	lda  	-491,ic		000045 = 040136141040
001021  aa   136141 2360 03	ldq  	48225,du
001022  aa  6 00602 7571 00	staq 	pr6|386
001023  aa  6 00600 3521 00	epp2 	pr6|384
001024  aa  6 00606 2521 00	spri2	pr6|390
001025  aa  6 00406 3735 20	epp7 	pr6|262,*
001026  aa  7 00002 3521 20	epp2 	pr7|2,*		id
001027  aa  6 00610 2521 00	spri2	pr6|392
001030  aa  6 00372 3715 20	epp5 	pr6|250,*		streamp
001031  aa  5 00050 3521 00	epp2 	pr5|40		stream.stream
001032  aa  6 00612 2521 00	spri2	pr6|394
001033  aa  6 00413 3521 00	epp2 	pr6|267		vconst
001034  aa  6 00614 2521 00	spri2	pr6|396
001035  aa   776750 3520 04	epp2 	-536,ic		000005 = 524000000016
001036  aa  6 00616 2521 00	spri2	pr6|398
001037  aa  6 00410 3535 20	epp3 	pr6|264,*
001040  aa  3 00000 3521 20	epp2 	pr3|0,*
001041  aa  6 00620 2521 00	spri2	pr6|400
001042  aa   776756 3520 04	epp2 	-530,ic		000020 = 524000000040
001043  aa  6 00622 2521 00	spri2	pr6|402
001044  aa  6 00624 2521 00	spri2	pr6|404
001045  aa  6 00604 6211 00	eax1 	pr6|388
001046  aa   020000 4310 07	fld  	8192,dl
001047  aa  6 00044 3701 20	epp4 	pr6|36,*
001050  la  4 00014 3521 20	epp2 	pr4|12,*		ioa_
001051  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 146
		write = write + 1;

001052  aa  6 00362 0541 00	aos  	pr6|242		write
						STATEMENT 1 ON LINE 148
pvv2:	     end;

001053  aa  6 00412 0541 00	aos  	pr6|266		k
001054  aa   777612 7100 04	tra  	-118,ic		000666
						STATEMENT 1 ON LINE 150
	end pstream;

001055  aa  6 00404 6101 00	rtcd 	pr6|260
  END PROCEDURE pstream
BEGIN PROCEDURE pvcons
ENTRY TO pvcons                                             STATEMENT 1 ON LINE 152
pvcons:	proc (id, sp);

001056  aa  6 00440 6501 00	spri4	pr6|288
001057  aa  6 00442 2521 00	spri2	pr6|290
001060  aa  2 00002 3521 01	epp2 	pr2|2,au
001061  aa  6 00444 2521 00	spri2	pr6|292
001062  aa  2 00000 2361 20	ldq  	pr2|0,*
001063  aa   000002 6040 04	tmi  	2,ic		001065
001064  aa   777777 3760 07	anq  	262143,dl
001065  aa  0 00250 3761 00	anq  	pr0|168		= 000077777777
001066  aa  6 00626 7561 00	stq  	pr6|406
						STATEMENT 1 ON LINE 159
	     vcep = sp;

001067  aa  6 00442 3735 20	epp7 	pr6|290,*
001070  aa  7 00004 3715 20	epp5 	pr7|4,*		sp
001071  aa  5 00000 3715 20	epp5 	pr5|0,*		sp
001072  aa  6 00376 6515 00	spri5	pr6|254		vcep
						STATEMENT 1 ON LINE 160
	     do k = 1 to vcons.no_of_dest;

001073  aa  5 00010 2361 00	ldq  	pr5|8		vcons.no_of_dest
001074  aa  6 00452 7561 00	stq  	pr6|298
001075  aa   000001 2360 07	ldq  	1,dl
001076  aa  6 00446 7561 00	stq  	pr6|294		k
001077  aa   000000 0110 03	nop  	0,du
001100  aa  6 00446 2361 00	ldq  	pr6|294		k
001101  aa  6 00452 1161 00	cmpq 	pr6|298
001102  aa   000141 6054 04	tpnz 	97,ic		001243
						STATEMENT 1 ON LINE 161
		temptype = typer (vcons.dest (k).type);

001103  aa   000014 4020 07	mpy  	12,dl
001104  aa  6 00376 3735 20	epp7 	pr6|254,*		vcep
001105  aa  7 77776 7271 06	lxl7 	pr7|-2,ql		vcons.type
001106  ta   777777 2350 17	lda  	-1,7
001107  aa  0 00110 3771 00	anaq 	pr0|72		= 777777777777 000000000000
001110  aa  0 00450 2771 00	oraq 	pr0|296		= 000000000000 040040040040
001111  aa  6 00450 7571 00	staq 	pr6|296		temptype
						STATEMENT 1 ON LINE 162
		do n = 1 to m;

001112  aa  6 00360 2361 00	ldq  	pr6|240		m
001113  aa  6 00453 7561 00	stq  	pr6|299
001114  aa   000001 2360 07	ldq  	1,dl
001115  aa  6 00361 7561 00	stq  	pr6|241		n
001116  aa  6 00361 2361 00	ldq  	pr6|241		n
001117  aa  6 00453 1161 00	cmpq 	pr6|299
001120  aa   000014 6054 04	tpnz 	12,ic		001134
						STATEMENT 1 ON LINE 163
		     if id = srch (n) then go to pvv3;

001121  aa   000003 7360 00	qls  	3
001122  aa  6 00442 3735 20	epp7 	pr6|290,*
001123  aa  7 00002 3715 20	epp5 	pr7|2,*
001124  aa  6 00224 3535 06	epp3 	pr6|148,ql	srch
001125  aa  6 00626 2351 00	lda  	pr6|406
001126  aa  040 100 106 540	cmpc 	(pr,rl),(pr),fill(040)
001127  aa  5 00000 00 0005	desc9a	pr5|0,al		id
001130  aa  3 00000 00 0040	desc9a	pr3|0,32		srch
001131  aa   000050 6000 04	tze  	40,ic		001201
						STATEMENT 1 ON LINE 164
		end;

001132  aa  6 00361 0541 00	aos  	pr6|241		n
001133  aa   777763 7100 04	tra  	-13,ic		001116
						STATEMENT 1 ON LINE 165
		do n = 1 to m;

001134  aa  6 00360 2361 00	ldq  	pr6|240		m
001135  aa  6 00454 7561 00	stq  	pr6|300
001136  aa   000001 2360 07	ldq  	1,dl
001137  aa  6 00361 7561 00	stq  	pr6|241		n
001140  aa  6 00361 2361 00	ldq  	pr6|241		n
001141  aa  6 00454 1161 00	cmpq 	pr6|300
001142  aa   000016 6054 04	tpnz 	14,ic		001160
						STATEMENT 1 ON LINE 166
		     if vcons.dest (k).dest = srch (n) then go to pvv3;

001143  aa  6 00446 2361 00	ldq  	pr6|294		k
001144  aa   000014 4020 07	mpy  	12,dl
001145  aa   000000 6270 06	eax7 	0,ql
001146  aa  6 00361 2361 00	ldq  	pr6|241		n
001147  aa   000003 7360 00	qls  	3
001150  aa  6 00376 3735 77	epp7 	pr6|254,*7	vcons.dest
001151  aa  6 00224 3715 06	epp5 	pr6|148,ql	srch
001152  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
001153  aa  7 00000 00 0040	desc9a	pr7|0,32		vcons.dest
001154  aa  5 00000 00 0040	desc9a	pr5|0,32		srch
001155  aa   000024 6000 04	tze  	20,ic		001201
						STATEMENT 1 ON LINE 167
		end;

001156  aa  6 00361 0541 00	aos  	pr6|241		n
001157  aa   777761 7100 04	tra  	-15,ic		001140
						STATEMENT 1 ON LINE 168
		do n = 1 to m;

001160  aa  6 00360 2361 00	ldq  	pr6|240		m
001161  aa  6 00455 7561 00	stq  	pr6|301
001162  aa   000001 2360 07	ldq  	1,dl
001163  aa  6 00361 7561 00	stq  	pr6|241		n
001164  aa  6 00361 2361 00	ldq  	pr6|241		n
001165  aa  6 00455 1161 00	cmpq 	pr6|301
001166  aa   000011 6054 04	tpnz 	9,ic		001177
						STATEMENT 1 ON LINE 169
		     if temptype = srch (n) then go to pvv3;

001167  aa   000003 7360 00	qls  	3
001170  aa  6 00224 3735 06	epp7 	pr6|148,ql	srch
001171  aa  040 100 106 500	cmpc 	(pr),(pr),fill(040)
001172  aa  6 00450 00 0010	desc9a	pr6|296,8		temptype
001173  aa  7 00000 00 0040	desc9a	pr7|0,32		srch
001174  aa   000005 6000 04	tze  	5,ic		001201
						STATEMENT 1 ON LINE 170
		end;

001175  aa  6 00361 0541 00	aos  	pr6|241		n
001176  aa   777766 7100 04	tra  	-10,ic		001164
						STATEMENT 1 ON LINE 171
		if m ^= 0 then go to pvv4;

001177  aa  6 00360 2361 00	ldq  	pr6|240		m
001200  aa   000041 6010 04	tnz  	33,ic		001241
						STATEMENT 1 ON LINE 172
pvv3:		call ioa_ ("define ^a ^a ^a",
		     id, temptype, vcons.dest (k).dest);

001201  aa   776636 2350 04	lda  	-610,ic		000037 = 144145146151
001202  aa   776636 2360 04	ldq  	-610,ic		000040 = 156145040136
001203  aa  6 00630 7571 00	staq 	pr6|408
001204  aa   776635 2350 04	lda  	-611,ic		000041 = 141040136141
001205  aa   776635 2360 04	ldq  	-611,ic		000042 = 040136141000
001206  aa  6 00632 7571 00	staq 	pr6|410
001207  aa  6 00446 2361 00	ldq  	pr6|294		k
001210  aa   000014 4020 07	mpy  	12,dl
001211  aa  6 00630 3521 00	epp2 	pr6|408
001212  aa  6 00636 2521 00	spri2	pr6|414
001213  aa  6 00442 3735 20	epp7 	pr6|290,*
001214  aa  7 00002 3521 20	epp2 	pr7|2,*		id
001215  aa  6 00640 2521 00	spri2	pr6|416
001216  aa  6 00450 3521 00	epp2 	pr6|296		temptype
001217  aa  6 00642 2521 00	spri2	pr6|418
001220  aa  6 00376 3521 66	epp2 	pr6|254,*ql	vcons.dest
001221  aa  6 00644 2521 00	spri2	pr6|420
001222  aa   776562 3520 04	epp2 	-654,ic		000004 = 524000000017
001223  aa  6 00646 2521 00	spri2	pr6|422
001224  aa  6 00444 3715 20	epp5 	pr6|292,*
001225  aa  5 00000 3521 20	epp2 	pr5|0,*
001226  aa  6 00650 2521 00	spri2	pr6|424
001227  aa   776554 3520 04	epp2 	-660,ic		000003 = 524000000010
001230  aa  6 00652 2521 00	spri2	pr6|426
001231  aa   776567 3520 04	epp2 	-649,ic		000020 = 524000000040
001232  aa  6 00654 2521 00	spri2	pr6|428
001233  aa  6 00634 6211 00	eax1 	pr6|412
001234  aa   020000 4310 07	fld  	8192,dl
001235  aa  6 00044 3701 20	epp4 	pr6|36,*
001236  la  4 00014 3521 20	epp2 	pr4|12,*		ioa_
001237  aa  0 00622 7001 00	tsx0 	pr0|402		call_ext_out_desc
						STATEMENT 1 ON LINE 174
		write = write + 1;

001240  aa  6 00362 0541 00	aos  	pr6|242		write
						STATEMENT 1 ON LINE 176
pvv4:	     end;

001241  aa  6 00446 0541 00	aos  	pr6|294		k
001242  aa   777636 7100 04	tra  	-98,ic		001100
						STATEMENT 1 ON LINE 178
	end pvcons;

001243  aa  6 00440 6101 00	rtcd 	pr6|288
  END PROCEDURE pvcons
  END PROCEDURE mc_list


                                          -----------------------------------------------------------


Historical Background

This edition of the Multics software materials and documentation is provided and donated
to Massachusetts Institute of Technology by Group BULL including BULL HN Information Systems Inc. 
as a contribution to computer science knowledge.  
This donation is made also to give evidence of the common contributions of Massachusetts Institute of Technology,
Bell Laboratories, General Electric, Honeywell Information Systems Inc., Honeywell BULL Inc., Groupe BULL
and BULL HN Information Systems Inc. to the development of this operating system. 
Multics development was initiated by Massachusetts Institute of Technology Project MAC (1963-1970),
renamed the MIT Laboratory for Computer Science and Artificial Intelligence in the mid 1970s, under the leadership
of Professor Fernando Jose Corbato. Users consider that Multics provided the best software architecture 
for managing computer hardware properly and for executing programs. Many subsequent operating systems 
incorporated Multics principles.
Multics was distributed in 1975 to 2000 by Group Bull in Europe , and in the U.S. by Bull HN Information Systems Inc., 
as successor in interest by change in name only to Honeywell Bull Inc. and Honeywell Information Systems Inc. .

                                          -----------------------------------------------------------

Permission to use, copy, modify, and distribute these programs and their documentation for any purpose and without
fee is hereby granted,provided that the below copyright notice and historical background appear in all copies
and that both the copyright notice and historical background and this permission notice appear in supporting
documentation, and that the names of MIT, HIS, BULL or BULL HN not be used in advertising or publicity pertaining
to distribution of the programs without specific prior written permission.
    Copyright 1972 by Massachusetts Institute of Technology and Honeywell Information Systems Inc.
    Copyright 2006 by BULL HN Information Systems Inc.
    Copyright 2006 by Bull SAS
    All Rights Reserved
