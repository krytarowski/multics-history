	COMPILATION LISTING OF SEGMENT xmail_get_str_
	Compiled by: Multics PL/I Compiler, Release 29, of July 28, 1986
	Compiled at: Honeywell Bull, Phx. Az., Sys-M 
	Compiled on: 05/26/87  1221.4 mst Tue
	    Options: optimize map

        1 /****^  ***********************************************************
        2*        *                                                         *
        3*        * Copyright, (C) Honeywell Bull Inc., 1987                *
        4*        *                                                         *
        5*        * Copyright, (C) Honeywell Information Systems Inc., 1982 *
        6*        *                                                         *
        7*        * Copyright (c) 1972 by Massachusetts Institute of        *
        8*        * Technology and Honeywell Information Systems, Inc.      *
        9*        *                                                         *
       10*        *********************************************************** */
       11 
       12 
       13 
       14 
       15 /****^  HISTORY COMMENTS:
       16*  1) change(87-04-17,Blair), approve(87-04-22,MCR7683),
       17*     audit(87-05-15,RBarstad), install(87-05-26,MR12.1-1037):
       18*     Enable the cp_escape for command_query_ which is called whever we need an
       19*     answer from the user.  Previously disabled.  TR 20776.
       20*                                                   END HISTORY COMMENTS */
       21 
       22 
       23 xmail_get_str_: proc (P_prompt, P_acceptable_answers, P_help_file, P_info, P_str);
       24 
       25 /* Author unknown
       26*
       27*   83-10-03 Dave Schimke: Added yes_no entry point to simplify and standardize
       28*   calls that want only yes or no answers.
       29*
       30**/
       31 
       32 /* Parameters */
       33 
       34 	dcl     P_acceptable_answers	 (*) char (*) var parameter;
       35 	dcl     P_help_file		 char (*) parameter;
       36 	dcl     P_info		 char (*) parameter;
       37 	dcl     P_prompt		 char (*) var parameter;
       38 	dcl     P_str		 char (*) var parameter;
       39 	dcl     P_yes_sw		 bit (1) aligned parameter;
       40 
       41 
       42 /*  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  */
       43 /*								        */
       44 /* This is the main entry of xmail_get_str_. It prompts the user for input using        */
       45 /* P_prompt and accepts only answers from P_acceptable_answers. If a question	        */
       46 /* mark is input, the section P_info of P_help_file is displayed for the user	        */
       47 /* by a call to xmail_display_help_. The user response is given by P_str.	        */
       48 /*								        */
       49 /*  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  */
       50 
       51 	call main (P_prompt, P_acceptable_answers, P_help_file, P_info, NOT_ONLY_YES_OR_NO, P_str);
       52 	return;
       53 
       54 nl:  entry (P_prompt, P_acceptable_answers, P_help_file, P_info, P_str);
       55 
       56 
       57 /*  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  */
       58 /*								        */
       59 /* This entry performs exactly like the above main entry except that it also	        */
       60 /* puts out a new_line and does a reset more before prompting the user.	        */
       61 /*								        */
       62 /*  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  */
       63 
       64 
       65 	call iox_$control (iox_$user_output, "reset_more", null, (0));
       66 	call ioa_$nnl ("^/");
       67 	call main (P_prompt, P_acceptable_answers, P_help_file, P_info, NOT_ONLY_YES_OR_NO, P_str);
       68 	return;
       69 
       70 yes_no: entry (P_prompt, P_yes_sw);
       71 
       72 
       73 /*  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  */
       74 /*								        */
       75 /* This is a special simplified entry for callers who want to restrict the user to yes  */
       76 /* or no answers.  It prompts the user with P_prompt and returns either true (yes) or   */
       77 /* false (no) in P_yes_sw.  It accepts yes, no, y, or n.  Help files are not supplied   */
       78 /* to the main procedure here because command_query takes care of the "?" response      */
       79 /* itself and never passes it back.					        */
       80 /*								        */
       81 /*  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  *  */
       82 
       83 	call main (P_prompt, "", "", "", ONLY_YES_OR_NO, yes_or_no_string);
       84 	if yes_or_no_string = YES | yes_or_no_string = Y
       85 	then P_yes_sw = "1"b;
       86 	else P_yes_sw = "0"b;
       87 	return;
       88 
       89 main: proc (I_prompt, I_acceptable_answers, I_help_file, I_info, I_yes_or_no_sw, O_str);
       90 
       91 	dcl     I_prompt		 char (*) var parameter;
       92 	dcl     I_acceptable_answers	 (*) char (*) var parameter;
       93 	dcl     I_help_file		 char (*) parameter;
       94 	dcl     I_info		 char (*) parameter;
       95 	dcl     I_yes_or_no_sw	 bit (1) aligned parameter;
       96 	dcl     O_str		 char (*) var parameter;
       97 
       98 	dcl     line		 char (maxlength (O_str)) var;
       99 	dcl     outline		 char (maxlength (O_str));
      100 
      101 	O_str = "";				/* Initialize output parameter */
      102 
      103 	if I_acceptable_answers (1) = ""
      104 	then accept_anything = "1"b;
      105 	else accept_anything = "0"b;
      106 
      107 	auto_query_info.version = query_info_version_6;
      108 	auto_query_info.switches.yes_or_no_sw = I_yes_or_no_sw;
      109 	auto_query_info.switches.suppress_name_sw = "1"b;
      110 	auto_query_info.switches.cp_escape_control = ENABLE_ESCAPE;
      111 	auto_query_info.switches.suppress_spacing = "1"b;
      112 	auto_query_info.switches.literal_sw = "0"b;
      113 	auto_query_info.switches.prompt_after_explanation = "0"b;
      114 	auto_query_info.switches.padding = "0"b;
      115 	auto_query_info.status_code = 0;
      116 	auto_query_info.query_code = 0;
      117 	auto_query_info.question_iocbp = null ();	/* default: user_i/o */
      118 	auto_query_info.answer_iocbp = null ();		/* default: user_input */
      119 	auto_query_info.repeat_time = 0;		/* don't repeat */
      120 	auto_query_info.explanation_ptr = null ();
      121 	auto_query_info.explanation_len = 0;
      122 
      123 	been_thru_this_before = "0"b;
      124 	do while ("1"b);
      125 	     call iox_$control (iox_$user_output, "reset_more", null, (0)); /* ignore code */
      126 
      127 	     call command_query_ (addr (auto_query_info), line, "", "^[^/^]^a^2x", been_thru_this_before, I_prompt);
      128 	     been_thru_this_before = "1"b;
      129 
      130 	     if line = QUESTION
      131 	     then do;
      132 		     if I_help_file = ""
      133 		     then call ioa_ ("^/There is no help available for this prompt.");
      134 		     else do;
      135 			     call ioa_$nnl ("^/");
      136 			     call xmail_display_help_ (I_help_file, I_info, code);
      137 			     if code ^= 0
      138 			     then call xmail_error_$no_print (code, ME_CHAR, "l", "Unable to display help. This is an internal programming error.");
      139 			end;
      140 		end;
      141 	     else do;
      142 		     if accept_anything
      143 		     then do;
      144 			     O_str = line;
      145 			     go to EXIT;
      146 			end;
      147 		     else do i = lbound (I_acceptable_answers, 1) to hbound (I_acceptable_answers, 1);
      148 			     if line = I_acceptable_answers (i)
      149 			     then do;
      150 				     O_str = line;
      151 				     go to EXIT;
      152 				end;
      153 			end;
      154 		     outline = line;
      155 		     call ioa_ ("^/""^a"" is not an acceptable response.^/Please reenter^[ or type ""?"" for help^].", outline, (I_help_file ^= ""));
      156 		end;
      157 	end;					/* do while */
      158 
      159 EXIT:	return;
      160      end main;
      161 
      162 /* Automatic */
      163 
      164 	dcl     accept_anything	 bit (1) aligned;
      165 	dcl     been_thru_this_before	 bit (1) aligned;
      166 	dcl     code		 fixed bin (35);
      167 	dcl     i			 fixed bin;
      168 	dcl     yes_or_no_string	 char (3) var;
      169 	dcl     1 auto_query_info	 like query_info;
      170 
      171 /* Entries */
      172 
      173 	dcl     ioa_		 entry () options (variable);
      174 	dcl     ioa_$nnl		 entry () options (variable);
      175 	dcl     iox_$control	 entry (ptr, char (*), ptr, fixed bin (35));
      176 	dcl     command_query_	 entry () options (variable);
      177 	dcl     xmail_display_help_	 entry (char (*), char (*), fixed bin (35));
      178 	dcl     xmail_error_$no_print	 entry () options (variable);
      179 
      180 /* External Static */
      181 
      182 	dcl     iox_$user_output	 ptr ext static;
      183 
      184 /* Constants */
      185 
      186 	dcl     ENABLE_ESCAPE	 bit (2) aligned init ("11"b) int static options (constant);
      187 	dcl     ME_CHAR		 char (14) init ("xmail_get_str_") int static options (constant);
      188 	dcl     ONLY_YES_OR_NO	 bit (1) aligned init ("1"b) int static options (constant);
      189 	dcl     NOT_ONLY_YES_OR_NO	 bit (1) aligned init ("0"b) int static options (constant);
      190 
      191 /* Builtin */
      192 
      193 	dcl     (addr, hbound, lbound, maxlength, null) builtin;
      194 
  1     1 /*	BEGIN INCLUDE FILE query_info.incl.pl1		TAC June 1, 1973 */
  1     2 /*        Renamed to query_info.incl.pl1 and cp_escape_control added, 08/10/78 WOS */
  1     3 /*	version number changed to 4, 08/10/78 WOS */
  1     4 /* Version 5 adds explanation_(ptr len) 05/08/81 S. Herbst */
  1     5 /* Version 6 adds literal_sw, prompt_after_explanation switch 12/15/82 S. Herbst */
  1     6 
  1     7 dcl 1 query_info aligned,				/* argument structure for command_query_ call */
  1     8     2 version fixed bin,				/* version of this structure - must be set, see below */
  1     9     2 switches aligned,                                     /* various bit switch values */
  1    10       3 yes_or_no_sw bit (1) unaligned init ("0"b),		/* not a yes-or-no question, by default */
  1    11       3 suppress_name_sw bit (1) unaligned init ("0"b),	/* do not suppress command name */
  1    12       3 cp_escape_control bit (2) unaligned init ("00"b),   /* obey static default value */
  1    13                                                             /* "01" -> invalid, "10" -> don't allow, "11" -> allow */
  1    14       3 suppress_spacing bit (1) unaligned init ("0"b),     /* whether to print extra spacing */
  1    15       3 literal_sw bit (1) unaligned init ("0"b),		/* ON => do not strip leading/trailing white space */
  1    16       3 prompt_after_explanation bit (1) unaligned init ("0"b),  /* ON => repeat question after explanation */
  1    17       3 padding bit (29) unaligned init (""b),		/* pads it out to t word */
  1    18     2 status_code fixed bin (35) init (0),		/* query not prompted by any error, by default */
  1    19     2 query_code fixed bin (35) init (0),		/* currently has no meaning */
  1    20 
  1    21 /*  Limit of data defined for version 2 */
  1    22 
  1    23     2 question_iocbp ptr init (null ()),		/* IO switch to write question */
  1    24     2 answer_iocbp ptr init (null ()),			/* IO switch to read answer */
  1    25     2 repeat_time fixed bin (71) init (0),		/* repeat question every N seconds if no answer */
  1    26 						/* minimum of 30 seconds required for repeat */
  1    27 						/* otherwise, no repeat will occur */
  1    28 /* Limit of data defined for version 4 */
  1    29 
  1    30     2 explanation_ptr ptr init (null ()),		/* explanation of question to be printed if */
  1    31     2 explanation_len fixed bin (21) init (0);		/* user answers "?" (disabled if ptr=null or len=0) */
  1    32 
  1    33 dcl  query_info_version_3 fixed bin int static options (constant) init (3);
  1    34 dcl  query_info_version_4 fixed bin int static options (constant) init (4);
  1    35 dcl  query_info_version_5 fixed bin int static options (constant) init (5);
  1    36 dcl  query_info_version_6 fixed bin int static options (constant) init (6); /* the current version number */
  1    37 
  1    38 /*	END INCLUDE FILE query_info.incl.pl1 */
      195 
      196 
  2     1 /* BEGIN INCLUDE FILE xmail_help_infos.incl.pl1 */
  2     2 
  2     3 /****^  HISTORY COMMENTS:
  2     4*  1) change(85-03-06,Backs), approve(86-03-06,MCR7358),
  2     5*     audit(86-04-21,RBarstad), install(86-05-28,MR12.0-1062):
  2     6*      Modified to add date info.
  2     7*                                                   END HISTORY COMMENTS */
  2     8 
  2     9 /* Created 06/18/81 by Suzanne Krupp */
  2    10 
  2    11 /* Help files and info entry points. */
  2    12 
  2    13 dcl (PROMPT_REPLIES_HELP char(28) init("xmail_prompt_replies.gi.info"),
  2    14      GENERAL_HELP_HELP char(26) init("xmail_general_help.gi.info"),
  2    15      GETTING_STARTED_HELP char(29) init("xmail_getting_started.gi.info"),
  2    16      INITIAL_HELP char(26) init("xmail_initial_help.gi.info"),
  2    17      MULTICS_MODE_HELP char(27) init("xmail_multics_mode_.gi.info"),
  2    18      REVIEW_DEFAULTS_HELP char(29) init("xmail_Review_Defaults.gi.info"))
  2    19     int static options(constant);
  2    20 
  2    21 dcl (CREATE_MFILE_INFO char(19) init("creating_mail_files"), /* Prompt Infos */
  2    22      DEL_MSG_SELECT_INFO char(23) init("which_discarded_message"),
  2    23      SEARCH_STR_INFO char(14) init("search_string"),
  2    24      MSG_SELECT_INFO char(14) init("which_message"),
  2    25      USE_SPEC_SET_INFO char(12) init("use_spec_set"),
  2    26      GETTING_HELP_INFO char(12) init("getting_help"),
  2    27      DATE_INFO char(14) init("date_selection"),
  2    28      MORE_HELP_INFO char(9) init("more_help"))
  2    29     int static options(constant);
  2    30 
  2    31 /* END INCLUDE FILE ... xmail_help_infos.incl.pl1 */
      197 
      198 
  3     1 /* BEGIN INCLUDE FILE xmail_responses.incl.pl1 */
  3     2 
  3     3 /****^  HISTORY COMMENTS:
  3     4*  1) change(86-02-07,Blair), approve(86-03-06,MCR7358),
  3     5*     audit(86-04-21,RBarstad),  install(86-05-28,MR12.0-1062):
  3     6*     85-03-05 JG Backs: Modified to add a response of date.
  3     7*     85-03-11 JG Backs: Modified to add short forms of keywords (a,l,p,f).
  3     8*     85-03-14 JG Backs: Modified to add ASK, SET, and S.
  3     9*  2) change(86-02-07,Blair), approve(86-03-06,MCR7358),
  3    10*     audit(86-04-21,RBarstad),  install(86-05-28,MR12.0-1062):
  3    11*     Modify to add SEEN and UNSEEN.
  3    12*                                                   END HISTORY COMMENTS */
  3    13 
  3    14 /* Created 06/17/81 by Suzanne Krupp */
  3    15 
  3    16 dcl (QUESTION char(1) init("?"),
  3    17      LIST char(2) init("??"),
  3    18      A char(1) init("a"),
  3    19      ALL char(3) init("all"),
  3    20      ASK char(3) init("ask"),
  3    21      DATE char(4) init("date"),
  3    22      F char(1) init("f"),
  3    23      FIRST char(5) init("first"),
  3    24      L char(1) init("l"),
  3    25      LAST char(4) init("last"),
  3    26      N char (1) init ("n"),
  3    27      NO char(2) init("no"),
  3    28      NEXT char(4) init("next"),
  3    29      NEW char(3) init("new"),
  3    30      P char(1) init("p"),
  3    31      PREV char(4) init("prev"),
  3    32      S char(1) init("s"),
  3    33      SEEN char (4) init("seen"),
  3    34      SET char(3) init("set"),
  3    35      SEARCH char(6) init("search"),
  3    36      UNSEEN char (6) init("unseen"),
  3    37      Y char (1) init ("y"),
  3    38      YES char(3) init("yes"))
  3    39     int static options(constant);
  3    40 
  3    41 /* END INCLUDE FILE ... xmail_responses.incl.pl1 */
      199 
      200 
      201      end xmail_get_str_;
	SOURCE FILES USED IN THIS COMPILATION.

LINE      NUMBER  DATE MODIFIED     NAME			PATHNAME
             0    05/26/87  1221.4  xmail_get_str_.pl1                >spec>install>1037>xmail_get_str_.pl1
195          1    03/11/83  1204.3  query_info.incl.pl1               >ldd>include>query_info.incl.pl1
197          2    05/28/86  1117.7  xmail_help_infos.incl.pl1         >ldd>include>xmail_help_infos.incl.pl1
199          3    05/28/86  1117.7  xmail_responses.incl.pl1          >ldd>include>xmail_responses.incl.pl1
	NAMES DECLARED IN THIS COMPILATION.

IDENTIFIER	     OFFSET    LOC STORAGE CLASS   DATA TYPE		ATTRIBUTES AND REFERENCES
								(* indicates a set context)

NAMES DECLARED BY DECLARE STATEMENT.
ENABLE_ESCAPE                          constant        bit(2)                   initial dcl 186 ref 110
I_acceptable_answers                   parameter       varying char             array dcl 92 ref 89 103 147 147 148
I_help_file                            parameter       char                     unaligned dcl 93 set ref 89 132 136* 155
I_info                                 parameter       char                     unaligned dcl 94 set ref 89 136*
I_prompt                               parameter       varying char             dcl 91 set ref 89 127*
I_yes_or_no_sw                         parameter       bit(1)                   dcl 95 ref 89 108
ME_CHAR                         000001 constant        char(14)                 initial unaligned dcl 187 set ref 137*
NOT_ONLY_YES_OR_NO              000022 constant        bit(1)                   initial dcl 189 set ref 51* 67*
ONLY_YES_OR_NO                  000015 constant        bit(1)                   initial dcl 188 set ref 83*
O_str                                  parameter       varying char             dcl 96 set ref 89 98 99 101* 144* 150*
P_acceptable_answers                   parameter       varying char             array dcl 34 set ref 23 51* 54 67*
P_help_file                            parameter       char                     unaligned dcl 35 set ref 23 51* 54 67*
P_info                                 parameter       char                     unaligned dcl 36 set ref 23 51* 54 67*
P_prompt                               parameter       varying char             dcl 37 set ref 23 51* 54 67* 70 83*
P_str                                  parameter       varying char             dcl 38 set ref 23 51* 54 67*
P_yes_sw                               parameter       bit(1)                   dcl 39 set ref 70 84* 86*
QUESTION                        001355 constant        char(1)                  initial unaligned dcl 3-16 ref 130
Y                               001354 constant        char(1)                  initial unaligned dcl 3-16 ref 84
YES                             000000 constant        char(3)                  initial unaligned dcl 3-16 ref 84
accept_anything                 000100 automatic       bit(1)                   dcl 164 set ref 103* 105* 142
addr                                                   builtin function         dcl 193 ref 127 127
answer_iocbp              6     000106 automatic       pointer                  initial level 2 in structure "auto_query_info"
                                                                                  dcl 169 in procedure "xmail_get_str_" set ref 118*
                                                                                  169*
answer_iocbp              6     000124 automatic       pointer                  initial level 2 in structure "query_info" dcl 1-7
                                                                                  in procedure "xmail_get_str_" set ref 1-7*
auto_query_info                 000106 automatic       structure                level 1 unaligned dcl 169 set ref 127 127
been_thru_this_before           000101 automatic       bit(1)                   dcl 165 set ref 123* 127* 128*
code                            000102 automatic       fixed bin(35,0)          dcl 166 set ref 136* 137 137*
command_query_                  000016 constant        entry                    external dcl 176 ref 127
cp_escape_control         1(02) 000124 automatic       bit(2)                   initial level 3 in structure "query_info" packed
                                                                                  unaligned dcl 1-7 in procedure "xmail_get_str_"
                                                                                  set ref 1-7*
cp_escape_control         1(02) 000106 automatic       bit(2)                   initial level 3 in structure "auto_query_info"
                                                                                  packed unaligned dcl 169 in procedure
                                                                                  "xmail_get_str_" set ref 110* 169*
explanation_len          14     000106 automatic       fixed bin(21,0)          initial level 2 in structure "auto_query_info"
                                                                                  dcl 169 in procedure "xmail_get_str_" set ref 121*
                                                                                  169*
explanation_len          14     000124 automatic       fixed bin(21,0)          initial level 2 in structure "query_info" dcl 1-7
                                                                                  in procedure "xmail_get_str_" set ref 1-7*
explanation_ptr          12     000106 automatic       pointer                  initial level 2 in structure "auto_query_info"
                                                                                  dcl 169 in procedure "xmail_get_str_" set ref 120*
                                                                                  169*
explanation_ptr          12     000124 automatic       pointer                  initial level 2 in structure "query_info" dcl 1-7
                                                                                  in procedure "xmail_get_str_" set ref 1-7*
hbound                                                 builtin function         dcl 193 ref 147
i                               000103 automatic       fixed bin(17,0)          dcl 167 set ref 147* 148*
ioa_                            000010 constant        entry                    external dcl 173 ref 132 155
ioa_$nnl                        000012 constant        entry                    external dcl 174 ref 66 135
iox_$control                    000014 constant        entry                    external dcl 175 ref 65 125
iox_$user_output                000024 external static pointer                  dcl 182 set ref 65* 125*
lbound                                                 builtin function         dcl 193 ref 147
line                            000100 automatic       varying char             dcl 98 set ref 127* 130 144 148 150 154
literal_sw                1(05) 000106 automatic       bit(1)                   initial level 3 in structure "auto_query_info"
                                                                                  packed unaligned dcl 169 in procedure
                                                                                  "xmail_get_str_" set ref 112* 169*
literal_sw                1(05) 000124 automatic       bit(1)                   initial level 3 in structure "query_info" packed
                                                                                  unaligned dcl 1-7 in procedure "xmail_get_str_"
                                                                                  set ref 1-7*
maxlength                                              builtin function         dcl 193 ref 98 99
null                                                   builtin function         dcl 193 ref 65 65 169 169 169 1-7 1-7 1-7 117 118
                                                                                  120 125 125
outline                         000100 automatic       char                     unaligned dcl 99 set ref 154* 155*
padding                   1(07) 000124 automatic       bit(29)                  initial level 3 in structure "query_info" packed
                                                                                  unaligned dcl 1-7 in procedure "xmail_get_str_"
                                                                                  set ref 1-7*
padding                   1(07) 000106 automatic       bit(29)                  initial level 3 in structure "auto_query_info"
                                                                                  packed unaligned dcl 169 in procedure
                                                                                  "xmail_get_str_" set ref 114* 169*
prompt_after_explanation
                          1(06) 000106 automatic       bit(1)                   initial level 3 in structure "auto_query_info"
                                                                                  packed unaligned dcl 169 in procedure
                                                                                  "xmail_get_str_" set ref 113* 169*
prompt_after_explanation
                          1(06) 000124 automatic       bit(1)                   initial level 3 in structure "query_info" packed
                                                                                  unaligned dcl 1-7 in procedure "xmail_get_str_"
                                                                                  set ref 1-7*
query_code                3     000106 automatic       fixed bin(35,0)          initial level 2 in structure "auto_query_info"
                                                                                  dcl 169 in procedure "xmail_get_str_" set ref 116*
                                                                                  169*
query_code                3     000124 automatic       fixed bin(35,0)          initial level 2 in structure "query_info" dcl 1-7
                                                                                  in procedure "xmail_get_str_" set ref 1-7*
query_info                      000124 automatic       structure                level 1 dcl 1-7
query_info_version_6                   constant        fixed bin(17,0)          initial dcl 1-36 ref 107
question_iocbp            4     000124 automatic       pointer                  initial level 2 in structure "query_info" dcl 1-7
                                                                                  in procedure "xmail_get_str_" set ref 1-7*
question_iocbp            4     000106 automatic       pointer                  initial level 2 in structure "auto_query_info"
                                                                                  dcl 169 in procedure "xmail_get_str_" set ref 117*
                                                                                  169*
repeat_time              10     000124 automatic       fixed bin(71,0)          initial level 2 in structure "query_info" dcl 1-7
                                                                                  in procedure "xmail_get_str_" set ref 1-7*
repeat_time              10     000106 automatic       fixed bin(71,0)          initial level 2 in structure "auto_query_info"
                                                                                  dcl 169 in procedure "xmail_get_str_" set ref 119*
                                                                                  169*
status_code               2     000106 automatic       fixed bin(35,0)          initial level 2 in structure "auto_query_info"
                                                                                  dcl 169 in procedure "xmail_get_str_" set ref 115*
                                                                                  169*
status_code               2     000124 automatic       fixed bin(35,0)          initial level 2 in structure "query_info" dcl 1-7
                                                                                  in procedure "xmail_get_str_" set ref 1-7*
suppress_name_sw          1(01) 000124 automatic       bit(1)                   initial level 3 in structure "query_info" packed
                                                                                  unaligned dcl 1-7 in procedure "xmail_get_str_"
                                                                                  set ref 1-7*
suppress_name_sw          1(01) 000106 automatic       bit(1)                   initial level 3 in structure "auto_query_info"
                                                                                  packed unaligned dcl 169 in procedure
                                                                                  "xmail_get_str_" set ref 109* 169*
suppress_spacing          1(04) 000124 automatic       bit(1)                   initial level 3 in structure "query_info" packed
                                                                                  unaligned dcl 1-7 in procedure "xmail_get_str_"
                                                                                  set ref 1-7*
suppress_spacing          1(04) 000106 automatic       bit(1)                   initial level 3 in structure "auto_query_info"
                                                                                  packed unaligned dcl 169 in procedure
                                                                                  "xmail_get_str_" set ref 111* 169*
switches                  1     000124 automatic       structure                level 2 in structure "query_info" dcl 1-7
                                                                                  in procedure "xmail_get_str_"
switches                  1     000106 automatic       structure                level 2 in structure "auto_query_info" dcl 169
                                                                                  in procedure "xmail_get_str_"
version                         000106 automatic       fixed bin(17,0)          level 2 dcl 169 set ref 107*
xmail_display_help_             000020 constant        entry                    external dcl 177 ref 136
xmail_error_$no_print           000022 constant        entry                    external dcl 178 ref 137
yes_or_no_string                000104 automatic       varying char(3)          dcl 168 set ref 83* 84 84
yes_or_no_sw              1     000124 automatic       bit(1)                   initial level 3 in structure "query_info" packed
                                                                                  unaligned dcl 1-7 in procedure "xmail_get_str_"
                                                                                  set ref 1-7*
yes_or_no_sw              1     000106 automatic       bit(1)                   initial level 3 in structure "auto_query_info"
                                                                                  packed unaligned dcl 169 in procedure
                                                                                  "xmail_get_str_" set ref 108* 169*

NAMES DECLARED BY DECLARE STATEMENT AND NEVER REFERENCED.
A                                      internal static char(1)                  initial unaligned dcl 3-16
ALL                                    internal static char(3)                  initial unaligned dcl 3-16
ASK                                    internal static char(3)                  initial unaligned dcl 3-16
CREATE_MFILE_INFO                      internal static char(19)                 initial unaligned dcl 2-21
DATE                                   internal static char(4)                  initial unaligned dcl 3-16
DATE_INFO                              internal static char(14)                 initial unaligned dcl 2-21
DEL_MSG_SELECT_INFO                    internal static char(23)                 initial unaligned dcl 2-21
F                                      internal static char(1)                  initial unaligned dcl 3-16
FIRST                                  internal static char(5)                  initial unaligned dcl 3-16
GENERAL_HELP_HELP                      internal static char(26)                 initial unaligned dcl 2-13
GETTING_HELP_INFO                      internal static char(12)                 initial unaligned dcl 2-21
GETTING_STARTED_HELP                   internal static char(29)                 initial unaligned dcl 2-13
INITIAL_HELP                           internal static char(26)                 initial unaligned dcl 2-13
L                                      internal static char(1)                  initial unaligned dcl 3-16
LAST                                   internal static char(4)                  initial unaligned dcl 3-16
LIST                                   internal static char(2)                  initial unaligned dcl 3-16
MORE_HELP_INFO                         internal static char(9)                  initial unaligned dcl 2-21
MSG_SELECT_INFO                        internal static char(14)                 initial unaligned dcl 2-21
MULTICS_MODE_HELP                      internal static char(27)                 initial unaligned dcl 2-13
N                                      internal static char(1)                  initial unaligned dcl 3-16
NEW                                    internal static char(3)                  initial unaligned dcl 3-16
NEXT                                   internal static char(4)                  initial unaligned dcl 3-16
NO                                     internal static char(2)                  initial unaligned dcl 3-16
P                                      internal static char(1)                  initial unaligned dcl 3-16
PREV                                   internal static char(4)                  initial unaligned dcl 3-16
PROMPT_REPLIES_HELP                    internal static char(28)                 initial unaligned dcl 2-13
REVIEW_DEFAULTS_HELP                   internal static char(29)                 initial unaligned dcl 2-13
S                                      internal static char(1)                  initial unaligned dcl 3-16
SEARCH                                 internal static char(6)                  initial unaligned dcl 3-16
SEARCH_STR_INFO                        internal static char(14)                 initial unaligned dcl 2-21
SEEN                                   internal static char(4)                  initial unaligned dcl 3-16
SET                                    internal static char(3)                  initial unaligned dcl 3-16
UNSEEN                                 internal static char(6)                  initial unaligned dcl 3-16
USE_SPEC_SET_INFO                      internal static char(12)                 initial unaligned dcl 2-21
query_info_version_3                   internal static fixed bin(17,0)          initial dcl 1-33
query_info_version_4                   internal static fixed bin(17,0)          initial dcl 1-34
query_info_version_5                   internal static fixed bin(17,0)          initial dcl 1-35

NAMES DECLARED BY EXPLICIT CONTEXT.
EXIT                            001345 constant        label                    dcl 159 ref 145 151
main                            000602 constant        entry                    internal dcl 89 ref 51 67 83
nl                              000323 constant        entry                    external dcl 54
xmail_get_str_                  000222 constant        entry                    external dcl 23
yes_no                          000475 constant        entry                    external dcl 70

THERE WERE NO NAMES DECLARED BY CONTEXT OR IMPLICATION.

STORAGE REQUIREMENTS FOR THIS PROGRAM.

	Object	Text	Link	Symbol	Defs	Static
Start          0       0      1500        1526    1356        1510
Length      1762    1356        26         220     122           0

BLOCK NAME	         STACK SIZE     TYPE		WHY NONQUICK/WHO SHARES STACK FRAME
xmail_get_str_                      154 external procedure  is an external procedure.  
main                                132 internal procedure  uses auto adjustable storage.  

STORAGE FOR AUTOMATIC VARIABLES.

STACK FRAME                 LOC IDENTIFIER                  BLOCK NAME
main                     000100 line                        main
                         000100 outline                     main
xmail_get_str_           000100 accept_anything             xmail_get_str_
                         000101 been_thru_this_before       xmail_get_str_
                         000102 code                        xmail_get_str_
                         000103 i                           xmail_get_str_
                         000104 yes_or_no_string            xmail_get_str_
                         000106 auto_query_info             xmail_get_str_
                         000124 query_info                  xmail_get_str_

THE FOLLOWING EXTERNAL OPERATORS ARE USED BY THIS PROGRAM.
r_ne_as             call_ext_out_desc   call_int_this_desc  return_mac          alloc_auto_adj      ext_entry_desc
int_entry_desc

THE FOLLOWING EXTERNAL ENTRIES ARE CALLED BY THIS PROGRAM.
command_query_                ioa_                          ioa_$nnl                      iox_$control
xmail_display_help_           xmail_error_$no_print

THE FOLLOWING EXTERNAL VARIABLES ARE USED BY THIS PROGRAM.
iox_$user_output




   LINE    LOC      LINE    LOC      LINE    LOC      LINE    LOC      LINE    LOC      LINE    LOC      LINE    LOC   
    169 000133    1    7 000163        23 000215        51 000262        52 000320        54 000321        65 000363
     66 000417        67 000432        68 000470        70 000471        83 000511        84 000560        86 000576
     87 000600        89 000601        98 000641        99 000654       127 000666       155 000671       101 000674
    103 000677       105 000717       107 000721       108 000723       109 000727       110 000731       111 000733
    112 000735       113 000737       114 000741       115 000743       116 000744       117 000745       118 000747
    119 000750       120 000752       121 000754       123 000755       125 000756       127 001012       128 001062
    130 001065       132 001073       135 001117       136 001132       137 001156       140 001213       142 001214
    144 001216       145 001230       147 001231       148 001244       150 001265       151 001276       153 001277
    154 001301       155 001310       157 001344       159 001345


                                          -----------------------------------------------------------


Historical Background

This edition of the Multics software materials and documentation is provided and donated
to Massachusetts Institute of Technology by Group BULL including BULL HN Information Systems Inc. 
as a contribution to computer science knowledge.  
This donation is made also to give evidence of the common contributions of Massachusetts Institute of Technology,
Bell Laboratories, General Electric, Honeywell Information Systems Inc., Honeywell BULL Inc., Groupe BULL
and BULL HN Information Systems Inc. to the development of this operating system. 
Multics development was initiated by Massachusetts Institute of Technology Project MAC (1963-1970),
renamed the MIT Laboratory for Computer Science and Artificial Intelligence in the mid 1970s, under the leadership
of Professor Fernando Jose Corbato. Users consider that Multics provided the best software architecture 
for managing computer hardware properly and for executing programs. Many subsequent operating systems 
incorporated Multics principles.
Multics was distributed in 1975 to 2000 by Group Bull in Europe , and in the U.S. by Bull HN Information Systems Inc., 
as successor in interest by change in name only to Honeywell Bull Inc. and Honeywell Information Systems Inc. .

                                          -----------------------------------------------------------

Permission to use, copy, modify, and distribute these programs and their documentation for any purpose and without
fee is hereby granted,provided that the below copyright notice and historical background appear in all copies
and that both the copyright notice and historical background and this permission notice appear in supporting
documentation, and that the names of MIT, HIS, BULL or BULL HN not be used in advertising or publicity pertaining
to distribution of the programs without specific prior written permission.
    Copyright 1972 by Massachusetts Institute of Technology and Honeywell Information Systems Inc.
    Copyright 2006 by BULL HN Information Systems Inc.
    Copyright 2006 by Bull SAS
    All Rights Reserved
