ASSEMBLY LISTING OF SEGMENT >spec>on>41-21>lock_manager_.alm               
ASSEMBLED ON:	04/24/85  0823.6 mst Wed
OPTIONS USED:	list 
ASSEMBLED BY:	ALM Version  6.6  November 1982 
ASSEMBLER CREATED:	09/21/83  1227.3 mst Wed

                                     1  " ***********************************************************
                                     2  " *                                                         *
                                     3  " * Copyright, (C) Honeywell Information Systems Inc., 1983 *
                                     4  " *                                                         *
                                     5  " ***********************************************************
                                     6  "
                                     7  "
                                     8  " DESCRIPTION:
                                     9  "
                                    10  "	The transfer vector for the Data Management Lock Manager.
                                    11  "
                                    12  "	Simple cases of lock_fast and unlock_fast are handled
                                    13  "    in this transfer vector.
                                    14  "
                                    15  "	NOTE -- Externally available entries go through a gate
                                    16  "    or the inner ring tv, to make sure the firstref runs.  Entries
                                    17  "    internal to the lock manager tra directly.
                                    18  "
                                    19  "
                                    20  " HISTORY:
                                    21  "
                                    22  " Written by J. Bongiovanni, 06/01/82.
                                    23  " Modified:
                                    24  " 03/01/83 by Jeffrey D. Ives:  to call lm_gate_.
                                    25  " 04/19/83 by Jeffrey D. Ives:  changed from tra to call6 so that gates work.
                                    26  " 04/29/83 by BIM:  changed to not bother with the gate for entries that
                                    27  "	    are not available outside DM ring, which is most.
                                    28  " 05/09/83 by BIM:  changed not to use call6 when tra will do.
                                    29  " 07/29/83 by Lindsey Spratt: Changed lock_lock_data and unlock_lock_data
                                    30  "	    to reference lm_inner_ring_tv_ rather than lm_per_system_
                                    31  "	    directly.  Also, changed to reference
                                    32  "	    lm_inner_ring_tv_$lock_fast rather than lm_fast_lock_
                                    33  "	    directly.  This both makes the setup of this tv more
                                    34  "	    consistent and makes the separation of the lock_manager_ tv
                                    35  "	    from the bound object containing the lm_inner_ring_tv_
                                    36  "	    easier.
                                    37  " 01/03/84 by Lee A. Newcomb:  changed to use privileged and administrative
                                    38  "	    gates where necessary, which is curr. all gates references.
                                    39  " 05/02/84 by Lee A. Newcomb:  added user_shutdown entry.
                                    40  " 10/05/84 by Stanford S. Cox: changed init_per_system to use tra.
                                    41  " 11/22/84 by Lee A. Newcomb:  Added $per_process_init entry.
                                    42  " 12/02/84 by Stanford S. Cox: Chg *inner_ring_tv_ to be =firstref_tv_
                                    43  " 01/09/85 by Lindsey Spratt: Changed to use dm_fast_lock_alm_strucs instead
                                    44  "	    of dm_fast_lock_strucs.
                                    45  " 02/14/85 by Stanford S. Cox: Chg (lock unlock)_fast to guarantee eligibility.
                                    46  " 03/25/85 by Stanford S. Cox:  Added copy_fast_data
                                    47  "
                                    48  " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " "
                                    49  
    000000                          50  	name	lock_manager_
                                    51  
                                    52  
                                    53  	macro	gate_transfer
                              1     54  	segdef	&1
                              2     55  &1:
                              3     56  	getlp
                              4     57  	call6	&2
                              5     58  &end
                                    59  	macro	transfer
                              1     60  	segdef	&1
                              2     61  &1:	getlp
                              3     62  	tra	&2
                              4     63  &end
                                    64  
                                    65  
                                    66  	transfer		checkpoint,lm_firstref_tv_$checkpoint
                        000000          	segdef	checkpoint
    000000  aa  7 00046 2721 20         checkpoint:	getlp
    000001  4a  4 00016 7101 20         	tra	lm_firstref_tv_$checkpoint
                                    67  	gate_transfer	copy_data,dm_admin_gate_$lm_copy_data
                        000002          	segdef	copy_data
    000002                              copy_data:
    000002  aa  7 00046 2721 20         	getlp
    000003  4a  4 00020 7131 20         	call6	dm_admin_gate_$lm_copy_data
                                    68  	gate_transfer	copy_fast_data,dm_admin_gate_$lm_copy_fast_data
                        000004          	segdef	copy_fast_data
    000004                              copy_fast_data:
    000004  aa  7 00046 2721 20         	getlp
    000005  4a  4 00022 7131 20         	call6	dm_admin_gate_$lm_copy_fast_data
                                    69  	transfer		init_per_system,lm_per_system_init_$lm_per_system_init_
                        000006          	segdef	init_per_system
    000006  aa  7 00046 2721 20         init_per_system:	getlp
    000007  4a  4 00024 7101 20         	tra	lm_per_system_init_$lm_per_system_init_
                                    70  	transfer		lock,lm_firstref_tv_$lock
                        000010          	segdef	lock
    000010  aa  7 00046 2721 20         lock:	getlp
    000011  4a  4 00026 7101 20         	tra	lm_firstref_tv_$lock
                                    71  	transfer		lock_lock_data,lm_firstref_tv_$lock_lock_data
                        000012          	segdef	lock_lock_data
    000012  aa  7 00046 2721 20         lock_lock_data:	getlp
    000013  4a  4 00030 7101 20         	tra	lm_firstref_tv_$lock_lock_data
                                    72  	transfer		per_process_init,lm_firstref_tv_$per_process_init
                        000014          	segdef	per_process_init
    000014  aa  7 00046 2721 20         per_process_init:	getlp
    000015  4a  4 00032 7101 20         	tra	lm_firstref_tv_$per_process_init
                                    73  	gate_transfer	reset_system_meters,dm_admin_gate_$lm_reset_system_meters
                        000016          	segdef	reset_system_meters
    000016                              reset_system_meters:
    000016  aa  7 00046 2721 20         	getlp
    000017  4a  4 00034 7131 20         	call6	dm_admin_gate_$lm_reset_system_meters
                                    74  	transfer		resolve_deadlock,lm_firstref_tv_$resolve_deadlock
                        000020          	segdef	resolve_deadlock
    000020  aa  7 00046 2721 20         resolve_deadlock:	getlp
    000021  4a  4 00036 7101 20         	tra	lm_firstref_tv_$resolve_deadlock
                                    75  	gate_transfer	system_segment_count,dm_admin_gate_$lm_system_segment_count
                        000022          	segdef	system_segment_count
    000022                              system_segment_count:
    000022  aa  7 00046 2721 20         	getlp
    000023  4a  4 00040 7131 20         	call6	dm_admin_gate_$lm_system_segment_count
                                    76  	transfer		unlock,lm_firstref_tv_$unlock
                        000024          	segdef	unlock
    000024  aa  7 00046 2721 20         unlock:	getlp
    000025  4a  4 00042 7101 20         	tra	lm_firstref_tv_$unlock
                                    77  	transfer		unlock_all,lm_firstref_tv_$unlock_all
                        000026          	segdef	unlock_all
    000026  aa  7 00046 2721 20         unlock_all:	getlp
    000027  4a  4 00044 7101 20         	tra	lm_firstref_tv_$unlock_all
                                    78  	transfer		unlock_lock_data,lm_firstref_tv_$unlock_lock_data
                        000030          	segdef	unlock_lock_data
    000030  aa  7 00046 2721 20         unlock_lock_data:	getlp
    000031  4a  4 00046 7101 20         	tra	lm_firstref_tv_$unlock_lock_data
                                    79  	transfer		unlock_to_checkpoint,lm_firstref_tv_$unlock_to_checkpoint
                        000032          	segdef	unlock_to_checkpoint
    000032  aa  7 00046 2721 20         unlock_to_checkpoint:	getlp
    000033  4a  4 00050 7101 20         	tra	lm_firstref_tv_$unlock_to_checkpoint
                                    80  	transfer		user_shutdown,lm_firstref_tv_$user_shutdown
                        000034          	segdef	user_shutdown
    000034  aa  7 00046 2721 20         user_shutdown:	getlp
    000035  4a  4 00052 7101 20         	tra	lm_firstref_tv_$user_shutdown
                                    81  "
                                    82  " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " "
                                    83  "
                                    84  "	lock_fast
                                    85  "
                                    86  "	call lock_manager_$lock_fast (addr (lock_double_word), timeout_i, code_o)
                                    87  "
                                    88  "	Tries to lock with stac instruction.  Calls inner ring if stac fails.
                                    89  "
                                    90  " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " "
                                    91  
                        000036      92  	segdef	lock_fast
    000036                          93  lock_fast:
    000036  aa  7 00046 2721 20     94  	getlp
    000037  aa  0 00002 3521 20     95  	epp2	pr0|2,*			" pr2 -> lock word ptr
    000040  aa  2 00000 3521 20     96  	epp2	pr2|0,*			" pr2 -> lock
                                    97  
    000041  9a  4 00010 2351 00     98  	lda	pr4|process_id		" Get my process id.
    000042  aa  2 00000 3541 00     99  	stac	pr2|fast_lock.lock_word	" If stac doesn't work,
    000043  0a   000046 6010 00    100  	tnz	LF_CHECK_MYLOCK		" then check for mylock.
                                   101  
                                   102  
    000044  aa  0 00006 4501 20    103  	stz	pr0|6,*			" Else set code_o = 0.
    000045  4a  4 00054 7131 20    104  	call6	<dm_hcs_>|[guaranteed_eligibility_on]
                                   105  " 	dm_hcs_ returns via return_ptr in lock_manager_ caller's stack frame
                                   106  "	short_return			" That was easy.
                                   107  
                                   108  
    000046                         109  LF_CHECK_MYLOCK:
    000046  aa  2 00000 1151 00    110  	cmpa	pr2|fast_lock.lock_word	" If locked to this process
    000047  0a   000051 6000 00    111  	tze	LF_MYLOCK_ERROR		" then warn the caller.
                                   112  
    000050  4a  4 00056 7101 20    113  	tra	lm_firstref_tv_$lock_fast	" Else call inner ring.
                                   114  	
                                   115  
    000051                         116  LF_MYLOCK_ERROR:
    000051  4a  4 00060 2351 20    117  	lda	dm_error_$fast_lock_mylock
    000052  aa  0 00006 7551 20    118  	sta	pr0|6,*			" Return the error
    000053  aa  7 00044 7101 20    119  	short_return
                                   120  "
                                   121  " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " "
                                   122  "
                                   123  "	unlock_fast
                                   124  "
                                   125  "	call lock_manager_$unlock_fast (addr (lock_double_word), code_o)
                                   126  "
                                   127  "	Tries to unlock lock. Calls inner ring if notify switch set.
                                   128  "
                                   129  " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " "
                                   130  
                                   131  
                        000054     132  	segdef	unlock_fast
    000054                         133  unlock_fast:
    000054  aa  7 00046 2721 20    134  	getlp
    000055  aa  0 00002 3521 20    135  	epp2	pr0|2,*			" pr2 -> lock word ptr
    000056  aa  2 00000 3521 20    136  	epp2	pr2|0,*			" pr2 -> lock
                                   137  
    000057  aa   000000 2350 07    138  	lda	0,dl
    000060  9a  4 00010 2361 00    139  	ldq	pr4|process_id		" Get my process id.
    000061  aa  2 00000 6541 00    140  	stacq	pr2|fast_lock.lock_word	" Try to unlock
    000062  0a   000070 6010 00    141  	tnz	UF_NOT_LOCKED
                                   142  
    000063  aa   400000 2350 03    143  	lda	fast_lock.notify_sw,du
    000064  aa  2 00001 3151 00    144  	cana	pr2|fast_lock.notify_sw_word	" Somebody wants notify?
    000065  0a   000073 6010 00    145  	tnz	UF_RESET_NOTIFY_SW
                                   146  
    000066  aa  0 00004 4501 20    147  	stz	pr0|4,*
    000067  4a  4 00062 7131 20    148  	call6	<dm_hcs_>|[guaranteed_eligibility_off]
                                   149  " 	dm_hcs_ returns via return_ptr in lock_manager_ caller's stack frame
                                   150  "	short_return
                                   151  
                                   152  
    000070                         153  UF_NOT_LOCKED:
    000070  4a  4 00064 2351 20    154  	lda	dm_error_$fast_lock_not_locked
    000071  aa  0 00004 7551 20    155  	sta	pr0|4,*			" Return error
    000072  aa  7 00044 7101 20    156  	short_return
                                   157  
                                   158  
    000073                         159  UF_RESET_NOTIFY_SW:
    000073  0a   000116 6750 00    160  	era	=-1			" Reset notify switch.
    000074  aa  2 00001 3551 00    161  	ansa	pr2|fast_lock.notify_sw_word
                                   162  
    000075  4a  4 00066 7101 20    163  	tra	lm_firstref_tv_$notify_unlock	
                                   164  "	PL/I does the rest, including calling dm_hcs_$guaranteed_eligibility_off
                                   165  "
                                   166  " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " "
                                   167  "
                                   168  "	get_process_id
                                   169  "
                                   170  "	firstref	<*text>|get_process_id
                                   171  "
                                   172  "	This is the first reference trap procedure.
                                   173  "	It gets the process id into the linkage section.
                                   174  "
                                   175  " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " " "
                                   176  
                                   177  
    000076                         178  get_process_id:
    000076  aa  7 00046 2721 20    179  	getlp
    000077  aa   000060 6270 00    180  	push
    000100  aa  7 00040 2721 20
                                   181  
    000101  0a   000120 2370 00    182  	ldaq	=v18/2,18/4,18/0,18/0
    000102  aa  6 00050 7571 00    183  	staq	arg_list
    000103  9a  4 00010 3521 00    184  	epp2	pr4|process_id
    000104  aa  6 00052 2521 00    185  	spri2	arg_list+2
                                   186  
    000105  aa  6 00000 2541 00    187  	call	get_process_id_$get_process_id_(arg_list)
    000106  aa  6 00050 3501 00
    000107  4a  4 00012 3521 20
    000110  aa  6 00040 7531 00
    000111  aa  7 00036 6701 20
    000112  aa  6 00000 1731 00
    000113  aa  6 00040 0731 00
                                   188  
    000114  aa  7 00042 7101 20    189  	return
                                   190  
    000115                         191  	firstref	<*text>|get_process_id
                                   192  
                                   193  
                                   194  
                                   195  " AUTOMATIC  AUTOMATIC  AUTOMATIC  AUTOMATIC  AUTOMATIC  AUTOMATIC  AUTOMATIC
                                   196  
                                   197  	tempd	arg_list(2)
                                   198  
                                   199  
                                   200  " LINKAGE  LINKAGE  LINKAGE  LINKAGE  LINKAGE  LINKAGE  LINKAGE  LINKAGE
                                   201  
                                   202  	use	linkage_section
                                   203  
    000010                         204  process_id:
    000010  aa   000000 000000     205  	oct	0
                                   206  
                                   207  	join	/link/linkage_section
                                   208  "
                                   209  	include	dm_fast_lock_alm_strucs
                                   1-1  
                                   1-2  
                                   1-3       "BEGIN INCLUDE FILE dm_fast_lock_alm_strucs.incl.alm
                                   1-4  
                                   1-5  
                                   1-6  	"Created 01/08/85  1726.6 est Tue by convert_include_file,
                                   1-7  	"   Version of 01/08/85  1712.0 est Tue.
                                   1-8  
                                   1-9  	"Made from >udd>Multics>Spratt>work>dm_fast_lock_alm_strucs.incl.pl1,
                                  1-10  	"   modified 01/04/85  1825.0 est Fri
                                  1-11  
                                  1-12  "
                                  1-13  "	Structure fast_lock
                                  1-14  "
                        000002    1-15  	equ	fast_lock_size,2
                                  1-16  
                                  1-17  
                        000000    1-18  	equ	fast_lock.lock_word,0
                                  1-19  
                        000001    1-20  	equ	fast_lock.notify_sw_word,1
                        400000    1-21  	bool	fast_lock.notify_sw,400000	" DU
                        000001    1-22  	equ	fast_lock.offset,1		" LOWER
                                  1-23  
                                  1-24  "
                                  1-25  "	Structure fast_lock_block
                                  1-26  "
                        000004    1-27  	equ	fast_lock_block_size,4
                                  1-28  
                                  1-29  
                        000000    1-30  	equ	fast_lock_block.uid,0
                                  1-31  
                        000001    1-32  	equ	fast_lock_block.offset,1	" UPPER
                                  1-33  
                        000002    1-34  	equ	fast_lock_block.list_head,2	" UPPER
                        000002    1-35  	equ	fast_lock_block.mbz,2	" LOWER
                                  1-36  
                                  1-37  "
                                  1-38  "	Structure fast_lock_wakeup_block
                                  1-39  "
                        000004    1-40  	equ	fast_lock_wakeup_block_size,4
                                  1-41  
                                  1-42  
                                  1-43  "	equ	fast_lock_wakeup_block.event_channel,0 " DOUBLE
                                  1-44  "	equ	fast_lock_wakeup_block.processid,2
                        000003    1-45  	equ	fast_lock_wakeup_block.message,3
                                  1-46  
                                  1-47  "
                                  1-48  "	Structure fast_lock_data
                                  1-49  "
                        000010    1-50  	equ	fast_lock_data_size,8
                                  1-51  
                        000000    1-52  	equ	fast_lock_data.version,0	" DOUBLE
                        000002    1-53  	equ	fast_lock_data.size,2
                        000003    1-54  	equ	fast_lock_data.n_list_entries,3
                        000004    1-55  	equ	fast_lock_data.free_list_head,4 " LEVEL 2
                                  1-56  
                        000006    1-57  	equ	fast_lock_data.list,6	" DOUBLE
                                  1-58  
                                  1-59  "
                                  1-60  "	Structure lock_list_head
                                  1-61  "
                        000000    1-62  	equ	lock_list_head.firstp,0	" UPPER
                        000000    1-63  	equ	lock_list_head.mbz,0	" LOWER
                                  1-64  
                                  1-65  "
                                  1-66  "	Structure lock_list_block
                                  1-67  "
                        000000    1-68  	equ	lock_list_block.nextp,0	" UPPER
                        000000    1-69  	equ	lock_list_block.mbz,0	" LOWER
                                  1-70  
                        000001    1-71  	equ	lock_list_block.block_words,1	" UPPER
                                  1-72  
                        000002    1-73  	equ	lock_list_block.block_data,2
                                  1-74  
                                  1-75  "
                                  1-76  "	Structure lock_list_meters
                                  1-77  "
                        000006    1-78  	equ	lock_list_meters_size,6
                                  1-79  
                        000000    1-80  	equ	lock_list_meters.version,0	" DOUBLE
                        000002    1-81  	equ	lock_list_meters.thrdout_calls,2
                        000003    1-82  	equ	lock_list_meters.thrdin_calls,3
                        000004    1-83  	equ	lock_list_meters.thrdout_steps,4
                        000005    1-84  	equ	lock_list_meters.thrdin_steps,5
                                  1-85  
                                  1-86       "END INCLUDE FILE dm_fast_lock_alm_strucs.incl.alm
                                   210  
                                   211  	end
LITERALS
     
    000116  aa   777777 777777 
    000120  aa   000002 000004 
    000121  aa   000000 000000 
NAME DEFINITIONS FOR ENTRY POINTS AND SEGDEFS

    000122  5a   000003 000000 
    000123  5a   000207 600000 
    000124  aa   000000 000000 
    000125  55   000012 000002 
    000126  5a   000002 400003 
    000127  55   000006 000012 
    000130  aa  015 154 157 143
    000131  aa  153 137 155 141
    000132  aa  156 141 147 145
    000133  aa  162 137 000 000
    000134  55   000020 000003 
    000135  0a   000054 400000 
    000136  55   000015 000003 
    000137  aa  013 165 156 154         unlock_fast
    000140  aa  157 143 153 137
    000141  aa  146 141 163 164
    000142  55   000026 000012 
    000143  0a   000036 400000 
    000144  55   000023 000003 
    000145  aa  011 154 157 143         lock_fast
    000146  aa  153 137 146 141
    000147  aa  163 164 000 000
    000150  55   000035 000020 
    000151  0a   000034 400000 
    000152  55   000031 000003 
    000153  aa  015 165 163 145         user_shutdown
    000154  aa  162 137 163 150
    000155  aa  165 164 144 157
    000156  aa  167 156 000 000
    000157  55   000046 000026 
    000160  0a   000032 400000 
    000161  55   000040 000003 
    000162  aa  024 165 156 154         unlock_to_checkpoint
    000163  aa  157 143 153 137
    000164  aa  164 157 137 143
    000165  aa  150 145 143 153
    000166  aa  160 157 151 156
    000167  aa  164 000 000 000
    000170  55   000056 000035 
    000171  0a   000030 400000 
    000172  55   000051 000003 
    000173  aa  020 165 156 154         unlock_lock_data
    000174  aa  157 143 153 137
    000175  aa  154 157 143 153
    000176  aa  137 144 141 164
    000177  aa  141 000 000 000
    000200  55   000064 000046 
    000201  0a   000026 400000 
    000202  55   000061 000003 
    000203  aa  012 165 156 154         unlock_all
    000204  aa  157 143 153 137
    000205  aa  141 154 154 000
    000206  55   000071 000056 
    000207  0a   000024 400000 
    000210  55   000067 000003 
    000211  aa  006 165 156 154         unlock
    000212  aa  157 143 153 000
    000213  55   000102 000064 
    000214  0a   000022 400000 
    000215  55   000074 000003 
    000216  aa  024 163 171 163         system_segment_count
    000217  aa  164 145 155 137
    000220  aa  163 145 147 155
    000221  aa  145 156 164 137
    000222  aa  143 157 165 156
    000223  aa  164 000 000 000
    000224  55   000112 000071 
    000225  0a   000020 400000 
    000226  55   000105 000003 
    000227  aa  020 162 145 163         resolve_deadlock
    000230  aa  157 154 166 145
    000231  aa  137 144 145 141
    000232  aa  144 154 157 143
    000233  aa  153 000 000 000
    000234  55   000122 000102 
    000235  0a   000016 400000 
    000236  55   000115 000003 
    000237  aa  023 162 145 163         reset_system_meters
    000240  aa  145 164 137 163
    000241  aa  171 163 164 145
    000242  aa  155 137 155 145
    000243  aa  164 145 162 163
    000244  55   000132 000112 
    000245  0a   000014 400000 
    000246  55   000125 000003 
    000247  aa  020 160 145 162         per_process_init
    000250  aa  137 160 162 157
    000251  aa  143 145 163 163
    000252  aa  137 151 156 151
    000253  aa  164 000 000 000
    000254  55   000141 000122 
    000255  0a   000012 400000 
    000256  55   000135 000003 
    000257  aa  016 154 157 143         lock_lock_data
    000260  aa  153 137 154 157
    000261  aa  143 153 137 144
    000262  aa  141 164 141 000
    000263  55   000146 000132 
    000264  0a   000010 400000 
    000265  55   000144 000003 
    000266  aa  004 154 157 143         lock
    000267  aa  153 000 000 000
    000270  55   000155 000141 
    000271  0a   000006 400000 
    000272  55   000151 000003 
    000273  aa  017 151 156 151         init_per_system
    000274  aa  164 137 160 145
    000275  aa  162 137 163 171
    000276  aa  163 164 145 155
    000277  55   000164 000146 
    000300  0a   000004 400000 
    000301  55   000160 000003 
    000302  aa  016 143 157 160         copy_fast_data
    000303  aa  171 137 146 141
    000304  aa  163 164 137 144
    000305  aa  141 164 141 000
    000306  55   000172 000155 
    000307  0a   000002 400000 
    000310  55   000167 000003 
    000311  aa  011 143 157 160         copy_data
    000312  aa  171 137 144 141
    000313  aa  164 141 000 000
    000314  55   000200 000164 
    000315  0a   000000 400000 
    000316  55   000175 000003 
    000317  aa  012 143 150 145         checkpoint
    000320  aa  143 153 160 157
    000321  aa  151 156 164 000
    000322  55   000002 000172 
    000323  6a   000000 400002 
    000324  55   000203 000003 
    000325  aa  014 163 171 155         symbol_table
    000326  aa  142 157 154 137
    000327  aa  164 141 142 154
    000330  aa  145 000 000 000

DEFINITIONS HASH TABLE

    000331  aa   000000 000033 
    000332  aa   000000 000000 
    000333  5a   000064 000000 
    000334  5a   000112 000000 
    000335  5a   000122 000000 
    000336  5a   000102 000000 
    000337  5a   000132 000000 
    000340  5a   000020 000000 
    000341  5a   000146 000000 
    000342  5a   000071 000000 
    000343  5a   000026 000000 
    000344  5a   000155 000000 
    000345  5a   000141 000000 
    000346  5a   000164 000000 
    000347  5a   000172 000000 
    000350  5a   000035 000000 
    000351  5a   000200 000000 
    000352  aa   000000 000000 
    000353  aa   000000 000000 
    000354  5a   000046 000000 
    000355  aa   000000 000000 
    000356  aa   000000 000000 
    000357  aa   000000 000000 
    000360  aa   000000 000000 
    000361  5a   000012 000000 
    000362  5a   000056 000000 
    000363  aa   000000 000000 
    000364  aa   000000 000000 

EXTERNAL NAMES

    000365  aa  015 156 157 164         notify_unlock
    000366  aa  151 146 171 137
    000367  aa  165 156 154 157
    000370  aa  143 153 000 000
    000371  aa  024 146 141 163         fast_lock_not_locked
    000372  aa  164 137 154 157
    000373  aa  143 153 137 156
    000374  aa  157 164 137 154
    000375  aa  157 143 153 145
    000376  aa  144 000 000 000
    000377  aa  032 147 165 141         guaranteed_eligibility_off
    000400  aa  162 141 156 164
    000401  aa  145 145 144 137
    000402  aa  145 154 151 147
    000403  aa  151 142 151 154
    000404  aa  151 164 171 137
    000405  aa  157 146 146 000
    000406  aa  020 146 141 163         fast_lock_mylock
    000407  aa  164 137 154 157
    000410  aa  143 153 137 155
    000411  aa  171 154 157 143
    000412  aa  153 000 000 000
    000413  aa  011 144 155 137         dm_error_
    000414  aa  145 162 162 157
    000415  aa  162 137 000 000
    000416  aa  031 147 165 141         guaranteed_eligibility_on
    000417  aa  162 141 156 164
    000420  aa  145 145 144 137
    000421  aa  145 154 151 147
    000422  aa  151 142 151 154
    000423  aa  151 164 171 137
    000424  aa  157 156 000 000
    000425  aa  007 144 155 137         dm_hcs_
    000426  aa  150 143 163 137
    000427  aa  027 154 155 137         lm_system_segment_count
    000430  aa  163 171 163 164
    000431  aa  145 155 137 163
    000432  aa  145 147 155 145
    000433  aa  156 164 137 143
    000434  aa  157 165 156 164
    000435  aa  026 154 155 137         lm_reset_system_meters
    000436  aa  162 145 163 145
    000437  aa  164 137 163 171
    000440  aa  163 164 145 155
    000441  aa  137 155 145 164
    000442  aa  145 162 163 000
    000443  aa  023 154 155 137         lm_per_system_init_
    000444  aa  160 145 162 137
    000445  aa  163 171 163 164
    000446  aa  145 155 137 151
    000447  aa  156 151 164 137
    000450  aa  021 154 155 137         lm_copy_fast_data
    000451  aa  143 157 160 171
    000452  aa  137 146 141 163
    000453  aa  164 137 144 141
    000454  aa  164 141 000 000
    000455  aa  014 154 155 137         lm_copy_data
    000456  aa  143 157 160 171
    000457  aa  137 144 141 164
    000460  aa  141 000 000 000
    000461  aa  016 144 155 137         dm_admin_gate_
    000462  aa  141 144 155 151
    000463  aa  156 137 147 141
    000464  aa  164 145 137 000
    000465  aa  017 154 155 137         lm_firstref_tv_
    000466  aa  146 151 162 163
    000467  aa  164 162 145 146
    000470  aa  137 164 166 137
    000471  aa  017 147 145 164         get_process_id_
    000472  aa  137 160 162 157
    000473  aa  143 145 163 163
    000474  aa  137 151 144 137

NO TRAP POINTER WORDS

TYPE PAIR BLOCKS

    000475  aa   000004 000000 
    000476  55   000343 000243 
    000477  aa   000004 000000 
    000500  55   000271 000247 
    000501  aa   000004 000000 
    000502  55   000303 000255 
    000503  aa   000004 000000 
    000504  55   000271 000264 
    000505  aa   000004 000000 
    000506  55   000343 000023 
    000507  aa   000004 000000 
    000510  55   000303 000274 
    000511  aa   000004 000000 
    000512  55   000343 000031 
    000513  aa   000004 000000 
    000514  55   000343 000040 
    000515  aa   000004 000000 
    000516  55   000343 000051 
    000517  aa   000004 000000 
    000520  55   000343 000061 
    000521  aa   000004 000000 
    000522  55   000343 000067 
    000523  aa   000004 000000 
    000524  55   000337 000305 
    000525  aa   000004 000000 
    000526  55   000343 000105 
    000527  aa   000004 000000 
    000530  55   000337 000313 
    000531  aa   000004 000000 
    000532  55   000343 000125 
    000533  aa   000004 000000 
    000534  55   000343 000135 
    000535  aa   000004 000000 
    000536  55   000343 000144 
    000537  aa   000004 000000 
    000540  55   000321 000321 
    000541  aa   000004 000000 
    000542  55   000337 000326 
    000543  aa   000004 000000 
    000544  55   000337 000333 
    000545  aa   000004 000000 
    000546  55   000343 000175 
    000547  aa   000004 000000 
    000550  55   000347 000347 
    000551  aa   000001 000000 
    000552  aa   000000 000000 

INTERNAL EXPRESSION WORDS

    000553  5a   000353 000000 
    000554  5a   000355 000000 
    000555  5a   000357 000000 
    000556  5a   000361 000000 
    000557  5a   000363 000000 
    000560  5a   000365 000000 
    000561  5a   000367 000000 
    000562  5a   000371 000000 
    000563  5a   000373 000000 
    000564  5a   000375 000000 
    000565  5a   000377 000000 
    000566  5a   000401 000000 
    000567  5a   000403 000000 
    000570  5a   000405 000000 
    000571  5a   000407 000000 
    000572  5a   000411 000000 
    000573  5a   000413 000000 
    000574  5a   000415 000000 
    000575  5a   000417 000000 
    000576  5a   000421 000000 
    000577  5a   000423 000000 
    000600  50   000427 000076 
    000601  5a   000425 000000 
LINKAGE INFORMATION
      
    000000  aa   000000 000000 
    000001  02   000122 000070 
    000002  aa   000000 000000 
    000003  aa   000000 000000 
    000004  aa   000000 000000 
    000005  aa   000000 000000 
    000006  22   000012 000073 
    000007  a2   000000 000002 
    000012  9a   777766 0000 46         get_process_id_|get_process_id_
    000013  5a   000457 0000 00
    000014  9a   777764 0000 46         *text|       
    000015  5a   000456 0000 00
    000016  9a   777762 0000 46         lm_firstref_tv_|checkpoint
    000017  5a   000455 0000 00
    000020  9a   777760 0000 46         dm_admin_gate_|lm_copy_data
    000021  5a   000454 0000 00
    000022  9a   777756 0000 46         dm_admin_gate_|lm_copy_fast_data
    000023  5a   000453 0000 00
    000024  9a   777754 0000 46         lm_per_system_init_|lm_per_system_init_
    000025  5a   000452 0000 00
    000026  9a   777752 0000 46         lm_firstref_tv_|lock
    000027  5a   000451 0000 00
    000030  9a   777750 0000 46         lm_firstref_tv_|lock_lock_data
    000031  5a   000450 0000 00
    000032  9a   777746 0000 46         lm_firstref_tv_|per_process_init
    000033  5a   000447 0000 00
    000034  9a   777744 0000 46         dm_admin_gate_|lm_reset_system_meters
    000035  5a   000446 0000 00
    000036  9a   777742 0000 46         lm_firstref_tv_|resolve_deadlock
    000037  5a   000445 0000 00
    000040  9a   777740 0000 46         dm_admin_gate_|lm_system_segment_count
    000041  5a   000444 0000 00
    000042  9a   777736 0000 46         lm_firstref_tv_|unlock
    000043  5a   000443 0000 00
    000044  9a   777734 0000 46         lm_firstref_tv_|unlock_all
    000045  5a   000442 0000 00
    000046  9a   777732 0000 46         lm_firstref_tv_|unlock_lock_data
    000047  5a   000441 0000 00
    000050  9a   777730 0000 46         lm_firstref_tv_|unlock_to_checkpoint
    000051  5a   000440 0000 00
    000052  9a   777726 0000 46         lm_firstref_tv_|user_shutdown
    000053  5a   000437 0000 00
    000054  9a   777724 0000 46         dm_hcs_|guaranteed_eligibility_on
    000055  5a   000436 0000 00
    000056  9a   777722 0000 46         lm_firstref_tv_|lock_fast
    000057  5a   000435 0000 00
    000060  9a   777720 0000 46         dm_error_|fast_lock_mylock
    000061  5a   000434 0000 00
    000062  9a   777716 0000 46         dm_hcs_|guaranteed_eligibility_off
    000063  5a   000433 0000 00
    000064  9a   777714 0000 46         dm_error_|fast_lock_not_locked
    000065  5a   000432 0000 00
    000066  9a   777712 0000 46         lm_firstref_tv_|notify_unlock
    000067  5a   000431 0000 00

FIRST REFERENCE TRAP LIST
     
    000070  aa   000000 000001 
    000071  aa   000000 000001 
    000072  2a   000014 000000 
    000073  aa   000000 000000 
SYMBOL INFORMATION
     
SYMBOL TABLE HEADER
     
    000000  aa   000000 000001 
    000001  aa   163171 155142 
    000002  aa   164162 145145 
    000003  aa   000000 000004 
    000004  aa   000000 112143 
    000005  aa   305203 523135 
    000006  aa   000000 113475 
    000007  aa   517434 423643 
    000010  aa   141154 155040 
    000011  aa   040040 040040 
    000012  aa   000024 000040 
    000013  aa   000034 000040 
    000014  aa   000044 000100 
    000015  aa   000002 000002 
    000016  aa   000064 000000 
    000017  aa   000000 000157 
    000020  aa   000000 000122 
    000021  aa   000000 000134 
    000022  aa   000150 000122 
    000023  aa   000064 000000 
    000024  aa   101114 115040 
    000025  aa   126145 162163 
    000026  aa   151157 156040 
    000027  aa   040066 056066 
    000030  aa   040040 116157 
    000031  aa   166145 155142 
    000032  aa   145162 040061 
    000033  aa   071070 062040 
    000034  aa   107112 157150 
    000035  aa   156163 157156 
    000036  aa   056123 171163 
    000037  aa   115141 151156 
    000040  aa   164056 155040 
    000041  aa   040040 040040 
    000042  aa   040040 040040 
    000043  aa   040040 040040 
    000044  aa   154151 163164 
    000045  aa   040040 040040 
    000046  aa   040040 040040 
    000047  aa   040040 040040 
    000050  aa   040040 040040 
    000051  aa   040040 040040 
    000052  aa   040040 040040 
    000053  aa   040040 040040 
    000054  aa   040040 040040 
    000055  aa   040040 040040 
    000056  aa   040040 040040 
    000057  aa   040040 040040 
    000060  aa   040040 040040 
    000061  aa   040040 040040 
    000062  aa   040040 040040 
    000063  aa   040040 040040 
    000064  aa   000000 000001 
    000065  aa   000000 000002 
    000066  aa   000076 000040 
    000067  aa   134750 166523 
    000070  aa   000000 113475 
    000071  aa   506355 400000 
    000072  aa   000106 000055 
    000073  aa   133727 734721 
    000074  aa   000000 113400 
    000075  aa   121667 200000 
    000076  aa   076163 160145          >spec>on>41-21>lock_manager_.alm
    000077  aa   143076 157156 
    000100  aa   076064 061055 
    000101  aa   062061 076154 
    000102  aa   157143 153137 
    000103  aa   155141 156141 
    000104  aa   147145 162137 
    000105  aa   056141 154155 
    000106  aa   076154 144144          >ldd>include>dm_fast_lock_alm_strucs.incl.alm
    000107  aa   076151 156143 
    000110  aa   154165 144145 
    000111  aa   076144 155137 
    000112  aa   146141 163164 
    000113  aa   137154 157143 
    000114  aa   153137 141154 
    000115  aa   155137 163164 
    000116  aa   162165 143163 
    000117  aa   056151 156143 
    000120  aa   154056 141154 
    000121  aa   155040 040040 
               MULTICS ASSEMBLY CROSS REFERENCE LISTING

   Value        Symbol                   Source file   Line number

                *text                    lock_manager_:      191.
          50    arg_list                 lock_manager_:      183,  185,  187,  197.
           0    checkpoint               lock_manager_:       66.
           2    copy_data                lock_manager_:       67.
           4    copy_fast_data           lock_manager_:     RCP: Unassigned tapa_00 from Backup.SysDaemon.z      Ä    H    )  T˙k”¢  X  @      RCP: Assigned tapa_00 to Backup.SysDaemon.zo Ä    H    )  T˙k•$  `  @      RCP: Attached tapa_00 for Backup.SysDaemon.z Ä    H    )  T˙n`k  H  @      RCP: Note (tapa_00) - COM232,den=6250,sysn.z @    `    )  T˙q˙4 ¡  @      RCP: Mount Reel COM232 with ring on tapa_00 for Backup.SysDaemon.z   ¿    P    )  T˙®k; @  @      ioi_masked$interrupt: I/O error.¿ 0¿B22     (  tapa ¿    P    )   T˙®â§ @  @      ioi_masked$interrupt: I/O error.¿ 1¿B22     (  tapa ¿    P    )!  T˙™ @  @      ioi_masked$interrupt: I/O error.¿ 4¿B22     (B  tapa      T    )"  T˙≥f„ @p @      mos_memory_check: EDAC error on mem b store a.      æ           T    )#  T˙≥j€ @p @      mos_memory_check: EDAC error on mem b store b.      ^           T    )$  T˙≥n˜ @x @      mos_memory_check: EDAC error on mem b store b1.     ≈^      ¿    P    )%  T˙≥zJ @  @      ioi_masked$interrupt: I/O error.–¿¿B22     Q  tapa      T    )&  T˙+O— @p @      mos_memory_check: EDAC error on mem b store a.      æ           T    )'  T˙+UB @p @      mos_memory_check: EDAC error on mem b store b.      ^           T    )(  T˙+Xn @x @      mos_memory_check: EDAC error on mem b store b1.     ≈^      Ä    h    ))  T˙à|N @  @      ioi_masked$interrupt: I/O error.¿ ¿B22     Z   tapaÄÄ  c¿çò Ä   ¿    P    )*  T˙Õ´Ñ  à  @      RCP: Detached tapa_01 from Volume_Dumper.Daemon.z    ¿    P    )+  T˙–—(  ò  @      RCP: Unassigned tapa_01 from Volume_Dumper.Daemon.z  Ä    H    ),  T˙F≤X  X  @      RCP: Assigned tapa_01 to Backup.SysDaemon.zD Ä    H    )-  T˙F}◊  `  @      RCP: Attached tapa_01 for Backup.SysDaemon.z Ä    H    ).  T˙IBt  H  @      RCP: Note (tapa_01) - AB2001,den=6250,sysn.z @    `    )/  T˙L‚Ê ¡  @      RCP: Mount Reel AB2001 with ring on tapa_01 for Backup.SysDaemon.z   ¿    P    )0  T˙$ÍB @  @      ioi_masked$interrupt: I/O error.¿0¿B22     (  tapa ¿    P    )1  T˙$| @  @      ioi_masked$interrupt: I/O error.¿1¿B22     (  tapa ¿    P    )2  T˙%’Ü @  @      ioi_masked$interrupt: I/O error.¿4¿B22     (B  tapa ¿    P    )3  T˙	Hµp @  @      ioi_masked$interrupt: I/O error.¿¿B22     Q  tapa      T    )4  T˙	§1< @p @      mos_memory_check: EDAC error on mem b store a.      æ           T    )5  T˙	§6ü @p @      mos_memory_check: EDAC error on mem b store b.      ^           T    )6  T˙	§9⁄ @x @      mos_memory_check: EDAC error on mem b store b1.     ≈^      ¿    P   	 )7  T˙v˚∏ @  @      ioi_masked$interrupt: I/O error.¿ »B22        tapa ¿    P    )8  T˙v(2 @  @      ioi_masked$interrupt: I/O error.¿ -¿B22        tapa ¿    P    )9  T˙vqò @  @      ioi_masked$interrupt: I/O error.¿ ¿B22        tapa ¿    P    ):  T˙wé> @  @      ioi_masked$interrupt: I/O error.¿ -B22        tapa ¿    L    );  T˙wïü  h  @      RCP: Detached tapa_00 from Backup.SysDaemon.z        Ä    D    )<  T˙zY  @  @      RCP: Errors (tapa_00, volume COM232) = 1     ¿    L    )=  T˙}·  x  @      RCP: Unassigned tapa_00 from Backup.SysDaemon.z      Ä    H    )>  T˙ÇÄ  X  @      RCP: Assigned tapa_00 to Backup.SysDaemon.zo Ä    H    )?  T˙É)ª  `  @      RCP: Attached tapa_00 for Backup.SysDaemon.z Ä    H    )@  T˙ÜÏÿ  H  @      RCP: Note (tapa_00) - COM233,den=6250,sysn.z @    `    )A  T˙âQå ¡  @      RCP: Mount Reel COM233 with ring on tapa_00 for Backup.SysDaemon.z        T    )B  T˙ @p @      mos_memory_check: EDAC error on mem b store a.r     æ           T    )C  T˙% @p @      mos_memory_check: EDAC error on mem b store b.r     ^           T    )D  T˙d @x @      mos_memory_check: EDAC error on mem b store b1.     ≈^      ¿    P    )E  T˙ûﬁ° @  @      ioi_masked$interrupt: I/O error.¿ 0¿B22     (  tapa ¿    P    )F  T˙û, @  @      ioi_masked$interrupt: I/O error.¿ 1¿B22     (  tapa ¿    P    )G  T˙üü› @  @      ioi_masked$interrupt: I/O error.¿ 4¿B22     ta           lock_manager_:       71.
                notify_unlock            lock_manager_:      163.
          14    per_process_init         lock_manager_:       72.
          10    process_id               lock_manager_:       98,  139,  184,  204.
          16    reset_system_meters      lock_manager_:       73.
          20    resolve_deadlock         lock_manager_:       74.
          22    system_segment_count     lock_manager_:       75.
          70    UF_NOT_LOCKED            lock_manager_:      141,  153.
          73    UF_RESET_NOTIFY_SW       lock_manager_:      145,  159.
          24    unlock                   lock_manager_:       76.
          26    unlock_all               lock_manager_:       77.
          54    unlock_fast              lock_manager_:      132,  133.
          30    unlock_lock_data         lock_manager_:       78.
          32    unlock_to_checkpoint     lock_manager_:       79.
          34    user_shutdown            lock_manager_:       80.


NO FATAL ERRORS


                                          -----------------------------------------------------------


Historical Background

This edition of the Multics software materials and documentation is provided and donated
to Massachusetts Institute of Technology by Group BULL including BULL HN Information Systems Inc. 
as a contribution to computer science knowledge.  
This donation is made also to give evidence of the common contributions of Massachusetts Institute of Technology,
Bell Laboratories, General Electric, Honeywell Information Systems Inc., Honeywell BULL Inc., Groupe BULL
and BULL HN Information Systems Inc. to the development of this operating system. 
Multics development was initiated by Massachusetts Institute of Technology Project MAC (1963-1970),
renamed the MIT Laboratory for Computer Science and Artificial Intelligence in the mid 1970s, under the leadership
of Professor Fernando Jose Corbato. Users consider that Multics provided the best software architecture 
for managing computer hardware properly and for executing programs. Many subsequent operating systems 
incorporated Multics principles.
Multics was distributed in 1975 to 2000 by Group Bull in Europe , and in the U.S. by Bull HN Information Systems Inc., 
as successor in interest by change in name only to Honeywell Bull Inc. and Honeywell Information Systems Inc. .

                                          -----------------------------------------------------------

Permission to use, copy, modify, and distribute these programs and their documentation for any purpose and without
fee is hereby granted,provided that the below copyright notice and historical background appear in all copies
and that both the copyright notice and historical background and this permission notice appear in supporting
documentation, and that the names of MIT, HIS, BULL or BULL HN not be used in advertising or publicity pertaining
to distribution of the programs without specific prior written permission.
    Copyright 1972 by Massachusetts Institute of Technology and Honeywell Information Systems Inc.
    Copyright 2006 by BULL HN Information Systems Inc.
    Copyright 2006 by Bull SAS
    All Rights Reserved
